/*! obs-upload version 1.0.2 */
import t from"esdk-obs-browserjs";export{default as ObsClient}from"esdk-obs-browserjs";import{cloneDeep as e,isFunction as r}from"lodash-es";import{nanoid as n}from"nanoid";import o,{AbortError as i}from"p-retry";import a from"p-all";var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s=function(t){return t&&t.Math==Math&&t},f=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof u&&u)||function(){return this}()||Function("return this")(),l={},p=function(t){try{return!!t()}catch(t){return!0}},d=!p((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=!p((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),v=h,y=Function.prototype.call,b=v?y.bind(y):function(){return y.apply(y,arguments)},m={},g={}.propertyIsEnumerable,w=Object.getOwnPropertyDescriptor,_=w&&!g.call({1:2},1);m.f=_?function(t){var e=w(this,t);return!!e&&e.enumerable}:g;var x,S,O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=h,k=Function.prototype,T=k.bind,j=k.call,P=E&&T.bind(j,j),I=E?function(t){return t&&P(t)}:function(t){return t&&function(){return j.apply(t,arguments)}},N=I,C=N({}.toString),L=N("".slice),R=function(t){return L(C(t),8,-1)},M=p,A=R,D=Object,F=I("".split),U=M((function(){return!D("z").propertyIsEnumerable(0)}))?function(t){return"String"==A(t)?F(t,""):D(t)}:D,V=TypeError,G=function(t){if(null==t)throw V("Can't call method on "+t);return t},z=U,K=G,B=function(t){return z(K(t))},W=function(t){return"function"==typeof t},J=W,Y=function(t){return"object"==typeof t?null!==t:J(t)},$=f,H=W,X=function(t){return H(t)?t:void 0},q=function(t,e){return arguments.length<2?X($[t]):$[t]&&$[t][e]},Q=I({}.isPrototypeOf),Z=q("navigator","userAgent")||"",tt=f,et=Z,rt=tt.process,nt=tt.Deno,ot=rt&&rt.versions||nt&&nt.version,it=ot&&ot.v8;it&&(S=(x=it.split("."))[0]>0&&x[0]<4?1:+(x[0]+x[1])),!S&&et&&(!(x=et.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=et.match(/Chrome\/(\d+)/))&&(S=+x[1]);var at=S,ut=at,ct=p,st=!!Object.getOwnPropertySymbols&&!ct((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ut&&ut<41})),ft=st&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,lt=q,pt=W,dt=Q,ht=Object,vt=ft?function(t){return"symbol"==typeof t}:function(t){var e=lt("Symbol");return pt(e)&&dt(e.prototype,ht(t))},yt=String,bt=function(t){try{return yt(t)}catch(t){return"Object"}},mt=W,gt=bt,wt=TypeError,_t=function(t){if(mt(t))return t;throw wt(gt(t)+" is not a function")},xt=_t,St=function(t,e){var r=t[e];return null==r?void 0:xt(r)},Ot=b,Et=W,kt=Y,Tt=TypeError,jt={exports:{}},Pt=f,It=Object.defineProperty,Nt=function(t,e){try{It(Pt,t,{value:e,configurable:!0,writable:!0})}catch(r){Pt[t]=e}return e},Ct=Nt,Lt=f["__core-js_shared__"]||Ct("__core-js_shared__",{}),Rt=Lt;(jt.exports=function(t,e){return Rt[t]||(Rt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Mt=G,At=Object,Dt=function(t){return At(Mt(t))},Ft=Dt,Ut=I({}.hasOwnProperty),Vt=Object.hasOwn||function(t,e){return Ut(Ft(t),e)},Gt=I,zt=0,Kt=Math.random(),Bt=Gt(1..toString),Wt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Bt(++zt+Kt,36)},Jt=f,Yt=jt.exports,$t=Vt,Ht=Wt,Xt=st,qt=ft,Qt=Yt("wks"),Zt=Jt.Symbol,te=Zt&&Zt.for,ee=qt?Zt:Zt&&Zt.withoutSetter||Ht,re=function(t){if(!$t(Qt,t)||!Xt&&"string"!=typeof Qt[t]){var e="Symbol."+t;Xt&&$t(Zt,t)?Qt[t]=Zt[t]:Qt[t]=qt&&te?te(e):ee(e)}return Qt[t]},ne=b,oe=Y,ie=vt,ae=St,ue=function(t,e){var r,n;if("string"===e&&Et(r=t.toString)&&!kt(n=Ot(r,t)))return n;if(Et(r=t.valueOf)&&!kt(n=Ot(r,t)))return n;if("string"!==e&&Et(r=t.toString)&&!kt(n=Ot(r,t)))return n;throw Tt("Can't convert object to primitive value")},ce=TypeError,se=re("toPrimitive"),fe=function(t,e){if(!oe(t)||ie(t))return t;var r,n=ae(t,se);if(n){if(void 0===e&&(e="default"),r=ne(n,t,e),!oe(r)||ie(r))return r;throw ce("Can't convert object to primitive value")}return void 0===e&&(e="number"),ue(t,e)},le=fe,pe=vt,de=function(t){var e=le(t,"string");return pe(e)?e:e+""},he=Y,ve=f.document,ye=he(ve)&&he(ve.createElement),be=function(t){return ye?ve.createElement(t):{}},me=be,ge=!d&&!p((function(){return 7!=Object.defineProperty(me("div"),"a",{get:function(){return 7}}).a})),we=d,_e=b,xe=m,Se=O,Oe=B,Ee=de,ke=Vt,Te=ge,je=Object.getOwnPropertyDescriptor;l.f=we?je:function(t,e){if(t=Oe(t),e=Ee(e),Te)try{return je(t,e)}catch(t){}if(ke(t,e))return Se(!_e(xe.f,t,e),t[e])};var Pe={},Ie=d&&p((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ne=Y,Ce=String,Le=TypeError,Re=function(t){if(Ne(t))return t;throw Le(Ce(t)+" is not an object")},Me=d,Ae=ge,De=Ie,Fe=Re,Ue=de,Ve=TypeError,Ge=Object.defineProperty,ze=Object.getOwnPropertyDescriptor;Pe.f=Me?De?function(t,e,r){if(Fe(t),e=Ue(e),Fe(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=ze(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return Ge(t,e,r)}:Ge:function(t,e,r){if(Fe(t),e=Ue(e),Fe(r),Ae)try{return Ge(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Ve("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var Ke=Pe,Be=O,We=d?function(t,e,r){return Ke.f(t,e,Be(1,r))}:function(t,e,r){return t[e]=r,t},Je={exports:{}},Ye=d,$e=Vt,He=Function.prototype,Xe=Ye&&Object.getOwnPropertyDescriptor,qe=$e(He,"name"),Qe={EXISTS:qe,PROPER:qe&&"something"===function(){}.name,CONFIGURABLE:qe&&(!Ye||Ye&&Xe(He,"name").configurable)},Ze=W,tr=Lt,er=I(Function.toString);Ze(tr.inspectSource)||(tr.inspectSource=function(t){return er(t)});var rr,nr,or,ir=tr.inspectSource,ar=W,ur=ir,cr=f.WeakMap,sr=ar(cr)&&/native code/.test(ur(cr)),fr=jt.exports,lr=Wt,pr=fr("keys"),dr=function(t){return pr[t]||(pr[t]=lr(t))},hr={},vr=sr,yr=f,br=I,mr=Y,gr=We,wr=Vt,_r=Lt,xr=dr,Sr=hr,Or=yr.TypeError,Er=yr.WeakMap;if(vr||_r.state){var kr=_r.state||(_r.state=new Er),Tr=br(kr.get),jr=br(kr.has),Pr=br(kr.set);rr=function(t,e){if(jr(kr,t))throw new Or("Object already initialized");return e.facade=t,Pr(kr,t,e),e},nr=function(t){return Tr(kr,t)||{}},or=function(t){return jr(kr,t)}}else{var Ir=xr("state");Sr[Ir]=!0,rr=function(t,e){if(wr(t,Ir))throw new Or("Object already initialized");return e.facade=t,gr(t,Ir,e),e},nr=function(t){return wr(t,Ir)?t[Ir]:{}},or=function(t){return wr(t,Ir)}}var Nr={set:rr,get:nr,has:or,enforce:function(t){return or(t)?nr(t):rr(t,{})},getterFor:function(t){return function(e){var r;if(!mr(e)||(r=nr(e)).type!==t)throw Or("Incompatible receiver, "+t+" required");return r}}},Cr=p,Lr=W,Rr=Vt,Mr=d,Ar=Qe.CONFIGURABLE,Dr=ir,Fr=Nr.enforce,Ur=Nr.get,Vr=Object.defineProperty,Gr=Mr&&!Cr((function(){return 8!==Vr((function(){}),"length",{value:8}).length})),zr=String(String).split("String"),Kr=Je.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Rr(t,"name")||Ar&&t.name!==e)&&Vr(t,"name",{value:e,configurable:!0}),Gr&&r&&Rr(r,"arity")&&t.length!==r.arity&&Vr(t,"length",{value:r.arity});try{r&&Rr(r,"constructor")&&r.constructor?Mr&&Vr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Fr(t);return Rr(n,"source")||(n.source=zr.join("string"==typeof e?e:"")),t};Function.prototype.toString=Kr((function(){return Lr(this)&&Ur(this).source||Dr(this)}),"toString");var Br=W,Wr=Pe,Jr=Je.exports,Yr=Nt,$r=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;return Br(r)&&Jr(r,i,n),n.global?o?t[e]=r:Yr(e,r):(n.unsafe?t[e]&&(o=!0):delete t[e],o?t[e]=r:Wr.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})),t},Hr={},Xr=Math.ceil,qr=Math.floor,Qr=Math.trunc||function(t){var e=+t;return(e>0?qr:Xr)(e)},Zr=function(t){var e=+t;return e!=e||0===e?0:Qr(e)},tn=Zr,en=Math.max,rn=Math.min,nn=function(t,e){var r=tn(t);return r<0?en(r+e,0):rn(r,e)},on=Zr,an=Math.min,un=function(t){return t>0?an(on(t),9007199254740991):0},cn=un,sn=function(t){return cn(t.length)},fn=B,ln=nn,pn=sn,dn=function(t){return function(e,r,n){var o,i=fn(e),a=pn(i),u=ln(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},hn={includes:dn(!0),indexOf:dn(!1)},vn=Vt,yn=B,bn=hn.indexOf,mn=hr,gn=I([].push),wn=function(t,e){var r,n=yn(t),o=0,i=[];for(r in n)!vn(mn,r)&&vn(n,r)&&gn(i,r);for(;e.length>o;)vn(n,r=e[o++])&&(~bn(i,r)||gn(i,r));return i},_n=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xn=wn,Sn=_n.concat("length","prototype");Hr.f=Object.getOwnPropertyNames||function(t){return xn(t,Sn)};var On={};On.f=Object.getOwnPropertySymbols;var En=q,kn=Hr,Tn=On,jn=Re,Pn=I([].concat),In=En("Reflect","ownKeys")||function(t){var e=kn.f(jn(t)),r=Tn.f;return r?Pn(e,r(t)):e},Nn=Vt,Cn=In,Ln=l,Rn=Pe,Mn=p,An=W,Dn=/#|\.prototype\./,Fn=function(t,e){var r=Vn[Un(t)];return r==zn||r!=Gn&&(An(e)?Mn(e):!!e)},Un=Fn.normalize=function(t){return String(t).replace(Dn,".").toLowerCase()},Vn=Fn.data={},Gn=Fn.NATIVE="N",zn=Fn.POLYFILL="P",Kn=Fn,Bn=f,Wn=l.f,Jn=We,Yn=$r,$n=Nt,Hn=function(t,e,r){for(var n=Cn(e),o=Rn.f,i=Ln.f,a=0;a<n.length;a++){var u=n[a];Nn(t,u)||r&&Nn(r,u)||o(t,u,i(e,u))}},Xn=Kn,qn=function(t,e){var r,n,o,i,a,u=t.target,c=t.global,s=t.stat;if(r=c?Bn:s?Bn[u]||$n(u,{}):(Bn[u]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=Wn(r,n))&&a.value:r[n],!Xn(c?n:u+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Hn(i,o)}(t.sham||o&&o.sham)&&Jn(i,"sham",!0),Yn(r,n,i,t)}},Qn=wn,Zn=_n,to=Object.keys||function(t){return Qn(t,Zn)},eo=Dt,ro=to;qn({target:"Object",stat:!0,forced:p((function(){ro(1)}))},{keys:function(t){return ro(eo(t))}});var no={};no[re("toStringTag")]="z";var oo="[object z]"===String(no),io=oo,ao=W,uo=R,co=re("toStringTag"),so=Object,fo="Arguments"==uo(function(){return arguments}()),lo=io?uo:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=so(t),co))?r:fo?uo(e):"Object"==(n=uo(e))&&ao(e.callee)?"Arguments":n},po=lo,ho=String,vo=function(t){if("Symbol"===po(t))throw TypeError("Cannot convert a Symbol value to a string");return ho(t)},yo={},bo=d,mo=Ie,go=Pe,wo=Re,_o=B,xo=to;yo.f=bo&&!mo?Object.defineProperties:function(t,e){wo(t);for(var r,n=_o(e),o=xo(e),i=o.length,a=0;i>a;)go.f(t,r=o[a++],n[r]);return t};var So,Oo=q("document","documentElement"),Eo=Re,ko=yo,To=_n,jo=hr,Po=Oo,Io=be,No=dr("IE_PROTO"),Co=function(){},Lo=function(t){return"<script>"+t+"<\/script>"},Ro=function(t){t.write(Lo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Mo=function(){try{So=new ActiveXObject("htmlfile")}catch(t){}var t,e;Mo="undefined"!=typeof document?document.domain&&So?Ro(So):((e=Io("iframe")).style.display="none",Po.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Lo("document.F=Object")),t.close(),t.F):Ro(So);for(var r=To.length;r--;)delete Mo.prototype[To[r]];return Mo()};jo[No]=!0;var Ao=Object.create||function(t,e){var r;return null!==t?(Co.prototype=Eo(t),r=new Co,Co.prototype=null,r[No]=t):r=Mo(),void 0===e?r:ko.f(r,e)},Do={},Fo=de,Uo=Pe,Vo=O,Go=function(t,e,r){var n=Fo(e);n in t?Uo.f(t,n,Vo(0,r)):t[n]=r},zo=nn,Ko=sn,Bo=Go,Wo=Array,Jo=Math.max,Yo=function(t,e,r){for(var n=Ko(t),o=zo(e,n),i=zo(void 0===r?n:r,n),a=Wo(Jo(i-o,0)),u=0;o<i;o++,u++)Bo(a,u,t[o]);return a.length=u,a},$o=R,Ho=B,Xo=Hr.f,qo=Yo,Qo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Do.f=function(t){return Qo&&"Window"==$o(t)?function(t){try{return Xo(t)}catch(t){return qo(Qo)}}(t):Xo(Ho(t))};var Zo={},ti=re;Zo.f=ti;var ei=f,ri=Vt,ni=Zo,oi=Pe.f,ii=b,ai=q,ui=re,ci=$r,si=Pe.f,fi=Vt,li=re("toStringTag"),pi=function(t,e,r){t&&!r&&(t=t.prototype),t&&!fi(t,li)&&si(t,li,{configurable:!0,value:e})},di=_t,hi=h,vi=I(I.bind),yi=function(t,e){return di(t),void 0===e?t:hi?vi(t,e):function(){return t.apply(e,arguments)}},bi=R,mi=Array.isArray||function(t){return"Array"==bi(t)},gi=I,wi=p,_i=W,xi=lo,Si=ir,Oi=function(){},Ei=[],ki=q("Reflect","construct"),Ti=/^\s*(?:class|function)\b/,ji=gi(Ti.exec),Pi=!Ti.exec(Oi),Ii=function(t){if(!_i(t))return!1;try{return ki(Oi,Ei,t),!0}catch(t){return!1}},Ni=function(t){if(!_i(t))return!1;switch(xi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Pi||!!ji(Ti,Si(t))}catch(t){return!0}};Ni.sham=!0;var Ci=!ki||wi((function(){var t;return Ii(Ii.call)||!Ii(Object)||!Ii((function(){t=!0}))||t}))?Ni:Ii,Li=mi,Ri=Ci,Mi=Y,Ai=re("species"),Di=Array,Fi=function(t){var e;return Li(t)&&(e=t.constructor,(Ri(e)&&(e===Di||Li(e.prototype))||Mi(e)&&null===(e=e[Ai]))&&(e=void 0)),void 0===e?Di:e},Ui=function(t,e){return new(Fi(t))(0===e?0:e)},Vi=yi,Gi=U,zi=Dt,Ki=sn,Bi=Ui,Wi=I([].push),Ji=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,d,h=zi(c),v=Gi(h),y=Vi(s,f),b=Ki(v),m=0,g=l||Bi,w=e?g(c,b):r||a?g(c,0):void 0;b>m;m++)if((u||m in v)&&(d=y(p=v[m],m,h),t))if(e)w[m]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:Wi(w,p)}else switch(t){case 4:return!1;case 7:Wi(w,p)}return i?-1:n||o?o:w}},Yi={forEach:Ji(0),map:Ji(1),filter:Ji(2),some:Ji(3),every:Ji(4),find:Ji(5),findIndex:Ji(6),filterReject:Ji(7)},$i=qn,Hi=f,Xi=b,qi=I,Qi=d,Zi=st,ta=p,ea=Vt,ra=Q,na=Re,oa=B,ia=de,aa=vo,ua=O,ca=Ao,sa=to,fa=Hr,la=Do,pa=On,da=l,ha=Pe,va=yo,ya=m,ba=$r,ma=jt.exports,ga=hr,wa=Wt,_a=re,xa=Zo,Sa=function(t){var e=ei.Symbol||(ei.Symbol={});ri(e,t)||oi(e,t,{value:ni.f(t)})},Oa=function(){var t=ai("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=ui("toPrimitive");e&&!e[n]&&ci(e,n,(function(t){return ii(r,this)}),{arity:1})},Ea=pi,ka=Nr,Ta=Yi.forEach,ja=dr("hidden"),Pa=ka.set,Ia=ka.getterFor("Symbol"),Na=Object.prototype,Ca=Hi.Symbol,La=Ca&&Ca.prototype,Ra=Hi.TypeError,Ma=Hi.QObject,Aa=da.f,Da=ha.f,Fa=la.f,Ua=ya.f,Va=qi([].push),Ga=ma("symbols"),za=ma("op-symbols"),Ka=ma("wks"),Ba=!Ma||!Ma.prototype||!Ma.prototype.findChild,Wa=Qi&&ta((function(){return 7!=ca(Da({},"a",{get:function(){return Da(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Aa(Na,e);n&&delete Na[e],Da(t,e,r),n&&t!==Na&&Da(Na,e,n)}:Da,Ja=function(t,e){var r=Ga[t]=ca(La);return Pa(r,{type:"Symbol",tag:t,description:e}),Qi||(r.description=e),r},Ya=function(t,e,r){t===Na&&Ya(za,e,r),na(t);var n=ia(e);return na(r),ea(Ga,n)?(r.enumerable?(ea(t,ja)&&t[ja][n]&&(t[ja][n]=!1),r=ca(r,{enumerable:ua(0,!1)})):(ea(t,ja)||Da(t,ja,ua(1,{})),t[ja][n]=!0),Wa(t,n,r)):Da(t,n,r)},$a=function(t,e){na(t);var r=oa(e),n=sa(r).concat(Qa(r));return Ta(n,(function(e){Qi&&!Xi(Ha,r,e)||Ya(t,e,r[e])})),t},Ha=function(t){var e=ia(t),r=Xi(Ua,this,e);return!(this===Na&&ea(Ga,e)&&!ea(za,e))&&(!(r||!ea(this,e)||!ea(Ga,e)||ea(this,ja)&&this[ja][e])||r)},Xa=function(t,e){var r=oa(t),n=ia(e);if(r!==Na||!ea(Ga,n)||ea(za,n)){var o=Aa(r,n);return!o||!ea(Ga,n)||ea(r,ja)&&r[ja][n]||(o.enumerable=!0),o}},qa=function(t){var e=Fa(oa(t)),r=[];return Ta(e,(function(t){ea(Ga,t)||ea(ga,t)||Va(r,t)})),r},Qa=function(t){var e=t===Na,r=Fa(e?za:oa(t)),n=[];return Ta(r,(function(t){!ea(Ga,t)||e&&!ea(Na,t)||Va(n,Ga[t])})),n};Zi||(ba(La=(Ca=function(){if(ra(La,this))throw Ra("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?aa(arguments[0]):void 0,e=wa(t),r=function(t){this===Na&&Xi(r,za,t),ea(this,ja)&&ea(this[ja],e)&&(this[ja][e]=!1),Wa(this,e,ua(1,t))};return Qi&&Ba&&Wa(Na,e,{configurable:!0,set:r}),Ja(e,t)}).prototype,"toString",(function(){return Ia(this).tag})),ba(Ca,"withoutSetter",(function(t){return Ja(wa(t),t)})),ya.f=Ha,ha.f=Ya,va.f=$a,da.f=Xa,fa.f=la.f=qa,pa.f=Qa,xa.f=function(t){return Ja(_a(t),t)},Qi&&(Da(La,"description",{configurable:!0,get:function(){return Ia(this).description}}),ba(Na,"propertyIsEnumerable",Ha,{unsafe:!0}))),$i({global:!0,constructor:!0,wrap:!0,forced:!Zi,sham:!Zi},{Symbol:Ca}),Ta(sa(Ka),(function(t){Sa(t)})),$i({target:"Symbol",stat:!0,forced:!Zi},{useSetter:function(){Ba=!0},useSimple:function(){Ba=!1}}),$i({target:"Object",stat:!0,forced:!Zi,sham:!Qi},{create:function(t,e){return void 0===e?ca(t):$a(ca(t),e)},defineProperty:Ya,defineProperties:$a,getOwnPropertyDescriptor:Xa}),$i({target:"Object",stat:!0,forced:!Zi},{getOwnPropertyNames:qa}),Oa(),Ea(Ca,"Symbol"),ga[ja]=!0;var Za=st&&!!Symbol.for&&!!Symbol.keyFor,tu=qn,eu=q,ru=Vt,nu=vo,ou=jt.exports,iu=Za,au=ou("string-to-symbol-registry"),uu=ou("symbol-to-string-registry");tu({target:"Symbol",stat:!0,forced:!iu},{for:function(t){var e=nu(t);if(ru(au,e))return au[e];var r=eu("Symbol")(e);return au[e]=r,uu[r]=e,r}});var cu=qn,su=Vt,fu=vt,lu=bt,pu=Za,du=(0,jt.exports)("symbol-to-string-registry");cu({target:"Symbol",stat:!0,forced:!pu},{keyFor:function(t){if(!fu(t))throw TypeError(lu(t)+" is not a symbol");if(su(du,t))return du[t]}});var hu=h,vu=Function.prototype,yu=vu.apply,bu=vu.call,mu="object"==typeof Reflect&&Reflect.apply||(hu?bu.bind(yu):function(){return bu.apply(yu,arguments)}),gu=I([].slice),wu=qn,_u=q,xu=mu,Su=b,Ou=I,Eu=p,ku=mi,Tu=W,ju=Y,Pu=vt,Iu=gu,Nu=st,Cu=_u("JSON","stringify"),Lu=Ou(/./.exec),Ru=Ou("".charAt),Mu=Ou("".charCodeAt),Au=Ou("".replace),Du=Ou(1..toString),Fu=/[\uD800-\uDFFF]/g,Uu=/^[\uD800-\uDBFF]$/,Vu=/^[\uDC00-\uDFFF]$/,Gu=!Nu||Eu((function(){var t=_u("Symbol")();return"[null]"!=Cu([t])||"{}"!=Cu({a:t})||"{}"!=Cu(Object(t))})),zu=Eu((function(){return'"\\udf06\\ud834"'!==Cu("\udf06\ud834")||'"\\udead"'!==Cu("\udead")})),Ku=function(t,e){var r=Iu(arguments),n=e;if((ju(e)||void 0!==t)&&!Pu(t))return ku(e)||(e=function(t,e){if(Tu(n)&&(e=Su(n,this,t,e)),!Pu(e))return e}),r[1]=e,xu(Cu,null,r)},Bu=function(t,e,r){var n=Ru(r,e-1),o=Ru(r,e+1);return Lu(Uu,t)&&!Lu(Vu,o)||Lu(Vu,t)&&!Lu(Uu,n)?"\\u"+Du(Mu(t,0),16):t};Cu&&wu({target:"JSON",stat:!0,arity:3,forced:Gu||zu},{stringify:function(t,e,r){var n=Iu(arguments),o=xu(Gu?Ku:Cu,null,n);return zu&&"string"==typeof o?Au(o,Fu,Bu):o}});var Wu=On,Ju=Dt;qn({target:"Object",stat:!0,forced:!st||p((function(){Wu.f(1)}))},{getOwnPropertySymbols:function(t){var e=Wu.f;return e?e(Ju(t)):[]}});var Yu=p,$u=at,Hu=re("species"),Xu=function(t){return $u>=51||!Yu((function(){var e=[];return(e.constructor={})[Hu]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},qu=Yi.filter;qn({target:"Array",proto:!0,forced:!Xu("filter")},{filter:function(t){return qu(this,t,arguments.length>1?arguments[1]:void 0)}});var Qu=qn,Zu=p,tc=B,ec=l.f,rc=d,nc=Zu((function(){ec(1)}));Qu({target:"Object",stat:!0,forced:!rc||nc,sham:!rc},{getOwnPropertyDescriptor:function(t,e){return ec(tc(t),e)}});var oc=be("span").classList,ic=oc&&oc.constructor&&oc.constructor.prototype,ac=ic===Object.prototype?void 0:ic,uc=p,cc=function(t,e){var r=[][t];return!!r&&uc((function(){r.call(null,e||function(){return 1},1)}))},sc=Yi.forEach,fc=cc("forEach")?[].forEach:function(t){return sc(this,t,arguments.length>1?arguments[1]:void 0)},lc=f,pc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},dc=ac,hc=fc,vc=We,yc=function(t){if(t&&t.forEach!==hc)try{vc(t,"forEach",hc)}catch(e){t.forEach=hc}};for(var bc in pc)pc[bc]&&yc(lc[bc]&&lc[bc].prototype);yc(dc);var mc=In,gc=B,wc=l,_c=Go;qn({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(t){for(var e,r,n=gc(t),o=wc.f,i=mc(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&_c(a,e,r);return a}});var xc=qn,Sc=d,Oc=yo.f;xc({target:"Object",stat:!0,forced:Object.defineProperties!==Oc,sham:!Sc},{defineProperties:Oc});var Ec=qn,kc=d,Tc=Pe.f;Ec({target:"Object",stat:!0,forced:Object.defineProperty!==Tc,sham:!kc},{defineProperty:Tc});var jc={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(jc);var Pc,Ic=c(jc.exports),Nc={exports:{}};(Pc=Nc).exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Pc.exports.__esModule=!0,Pc.exports.default=Pc.exports;var Cc=c(Nc.exports),Lc={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Lc);var Rc=c(Lc.exports),Mc={exports:{}};!function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}(Mc);var Ac=c(Mc.exports),Dc={exports:{}},Fc={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Fc),function(t){var e=Fc.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=l;var d={};function h(){}function v(){}function y(){}var b={};f(b,u,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==o&&i.call(g,u)&&(b=g);var w=y.prototype=h.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,r){function n(o,a,u,c){var s=p(t[o],t,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==e(l)&&i.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):r.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:j}}function j(){return{value:void 0,done:!0}}return v.prototype=y,f(w,"constructor",y),f(y,"constructor",v),v.displayName=f(y,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},_(x.prototype),f(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new x(l(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),f(w,s,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Dc);var Uc=Dc.exports(),Vc=Uc;try{regeneratorRuntime=Uc}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Uc:Function("r","regeneratorRuntime = r")(Uc)}var Gc,zc=Y,Kc=R,Bc=re("match"),Wc=function(t){var e;return zc(t)&&(void 0!==(e=t[Bc])?!!e:"RegExp"==Kc(t))},Jc=Wc,Yc=TypeError,$c=function(t){if(Jc(t))throw Yc("The method doesn't accept regular expressions");return t},Hc=re("match"),Xc=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Hc]=!1,"/./"[t](e)}catch(t){}}return!1},qc=qn,Qc=I,Zc=l.f,ts=un,es=vo,rs=$c,ns=G,os=Xc,is=Qc("".startsWith),as=Qc("".slice),us=Math.min,cs=os("startsWith");qc({target:"String",proto:!0,forced:!!(cs||(Gc=Zc(String.prototype,"startsWith"),!Gc||Gc.writable))&&!cs},{startsWith:function(t){var e=es(ns(this));rs(t);var r=ts(us(arguments.length>1?arguments[1]:void 0,e.length)),n=es(t);return is?is(e,n,r):as(e,r,r+n.length)===n}});var ss=qn,fs=mi,ls=Ci,ps=Y,ds=nn,hs=sn,vs=B,ys=Go,bs=re,ms=gu,gs=Xu("slice"),ws=bs("species"),_s=Array,xs=Math.max;ss({target:"Array",proto:!0,forced:!gs},{slice:function(t,e){var r,n,o,i=vs(this),a=hs(i),u=ds(t,a),c=ds(void 0===e?a:e,a);if(fs(i)&&(r=i.constructor,(ls(r)&&(r===_s||fs(r.prototype))||ps(r)&&null===(r=r[ws]))&&(r=void 0),r===_s||void 0===r))return ms(i,u,c);for(n=new(void 0===r?_s:r)(xs(c-u,0)),o=0;u<c;u++,o++)u in i&&ys(n,o,i[u]);return n.length=o,n}});var Ss=TypeError,Os=qn,Es=p,ks=mi,Ts=Y,js=Dt,Ps=sn,Is=function(t){if(t>9007199254740991)throw Ss("Maximum allowed index exceeded");return t},Ns=Go,Cs=Ui,Ls=Xu,Rs=at,Ms=re("isConcatSpreadable"),As=Rs>=51||!Es((function(){var t=[];return t[Ms]=!1,t.concat()[0]!==t})),Ds=Ls("concat"),Fs=function(t){if(!Ts(t))return!1;var e=t[Ms];return void 0!==e?!!e:ks(t)};Os({target:"Array",proto:!0,arity:1,forced:!As||!Ds},{concat:function(t){var e,r,n,o,i,a=js(this),u=Cs(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Fs(i=-1===e?a:arguments[e]))for(o=Ps(i),Is(c+o),r=0;r<o;r++,c++)r in i&&Ns(u,c,i[r]);else Is(c+1),Ns(u,c++,i);return u.length=c,u}});var Us=re,Vs=Ao,Gs=Pe.f,zs=Us("unscopables"),Ks=Array.prototype;null==Ks[zs]&&Gs(Ks,zs,{configurable:!0,value:Vs(null)});var Bs=function(t){Ks[zs][t]=!0},Ws=hn.includes,Js=Bs;qn({target:"Array",proto:!0,forced:p((function(){return!Array(1).includes()}))},{includes:function(t){return Ws(this,t,arguments.length>1?arguments[1]:void 0)}}),Js("includes");var Ys=qn,$s=$c,Hs=G,Xs=vo,qs=Xc,Qs=I("".indexOf);Ys({target:"String",proto:!0,forced:!qs("includes")},{includes:function(t){return!!~Qs(Xs(Hs(this)),Xs($s(t)),arguments.length>1?arguments[1]:void 0)}});var Zs,tf,ef=Re,rf=p,nf=f.RegExp,of=rf((function(){var t=nf("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),af=of||rf((function(){return!nf("a","y").sticky})),uf={BROKEN_CARET:of||rf((function(){var t=nf("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:af,UNSUPPORTED_Y:of},cf=p,sf=f.RegExp,ff=cf((function(){var t=sf(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),lf=p,pf=f.RegExp,df=lf((function(){var t=pf("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),hf=b,vf=I,yf=vo,bf=function(){var t=ef(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},mf=uf,gf=jt.exports,wf=Ao,_f=Nr.get,xf=ff,Sf=df,Of=gf("native-string-replace",String.prototype.replace),Ef=RegExp.prototype.exec,kf=Ef,Tf=vf("".charAt),jf=vf("".indexOf),Pf=vf("".replace),If=vf("".slice),Nf=(tf=/b*/g,hf(Ef,Zs=/a/,"a"),hf(Ef,tf,"a"),0!==Zs.lastIndex||0!==tf.lastIndex),Cf=mf.BROKEN_CARET,Lf=void 0!==/()??/.exec("")[1];(Nf||Lf||Cf||xf||Sf)&&(kf=function(t){var e,r,n,o,i,a,u,c=this,s=_f(c),f=yf(t),l=s.raw;if(l)return l.lastIndex=c.lastIndex,e=hf(kf,l,f),c.lastIndex=l.lastIndex,e;var p=s.groups,d=Cf&&c.sticky,h=hf(bf,c),v=c.source,y=0,b=f;if(d&&(h=Pf(h,"y",""),-1===jf(h,"g")&&(h+="g"),b=If(f,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Tf(f,c.lastIndex-1))&&(v="(?: "+v+")",b=" "+b,y++),r=new RegExp("^(?:"+v+")",h)),Lf&&(r=new RegExp("^"+v+"$(?!\\s)",h)),Nf&&(n=c.lastIndex),o=hf(Ef,d?r:c,b),d?o?(o.input=If(o.input,y),o[0]=If(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Nf&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),Lf&&o&&o.length>1&&hf(Of,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=wf(null),i=0;i<p.length;i++)a[(u=p[i])[0]]=o[u[1]];return o});var Rf=kf;qn({target:"RegExp",proto:!0,forced:/./.exec!==Rf},{exec:Rf});var Mf=I,Af=$r,Df=Rf,Ff=p,Uf=re,Vf=We,Gf=Uf("species"),zf=RegExp.prototype,Kf=Ci,Bf=bt,Wf=TypeError,Jf=Re,Yf=function(t){if(Kf(t))return t;throw Wf(Bf(t)+" is not a constructor")},$f=re("species"),Hf=function(t,e){var r,n=Jf(t).constructor;return void 0===n||null==(r=Jf(n)[$f])?e:Yf(r)},Xf=I,qf=Zr,Qf=vo,Zf=G,tl=Xf("".charAt),el=Xf("".charCodeAt),rl=Xf("".slice),nl=function(t){return function(e,r){var n,o,i=Qf(Zf(e)),a=qf(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=el(i,a))<55296||n>56319||a+1===u||(o=el(i,a+1))<56320||o>57343?t?tl(i,a):n:t?rl(i,a,a+2):o-56320+(n-55296<<10)+65536}},ol={codeAt:nl(!1),charAt:nl(!0)}.charAt,il=b,al=Re,ul=W,cl=R,sl=Rf,fl=TypeError,ll=mu,pl=b,dl=I,hl=function(t,e,r,n){var o=Uf(t),i=!Ff((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!Ff((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Gf]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var u=Mf(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var a=Mf(t),c=e.exec;return c===Df||c===zf.exec?i&&!o?{done:!0,value:u(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));Af(String.prototype,t,c[0]),Af(zf,o,c[1])}n&&Vf(zf[o],"sham",!0)},vl=Wc,yl=Re,bl=G,ml=Hf,gl=function(t,e,r){return e+(r?ol(t,e).length:1)},wl=un,_l=vo,xl=St,Sl=Yo,Ol=function(t,e){var r=t.exec;if(ul(r)){var n=il(r,t,e);return null!==n&&al(n),n}if("RegExp"===cl(t))return il(sl,t,e);throw fl("RegExp#exec called on incompatible receiver")},El=Rf,kl=p,Tl=uf.UNSUPPORTED_Y,jl=Math.min,Pl=[].push,Il=dl(/./.exec),Nl=dl(Pl),Cl=dl("".slice);hl("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=_l(bl(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!vl(t))return pl(e,n,t,o);for(var i,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=new RegExp(t.source,s+"g");(i=pl(El,l,n))&&!((a=l.lastIndex)>f&&(Nl(c,Cl(n,f,i.index)),i.length>1&&i.index<n.length&&ll(Pl,c,Sl(i,1)),u=i[0].length,f=a,c.length>=o));)l.lastIndex===i.index&&l.lastIndex++;return f===n.length?!u&&Il(l,"")||Nl(c,""):Nl(c,Cl(n,f)),c.length>o?Sl(c,0,o):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:pl(e,this,t,r)}:e,[function(e,r){var o=bl(this),i=null==e?void 0:xl(e,t);return i?pl(i,e,o,r):pl(n,_l(o),e,r)},function(t,o){var i=yl(this),a=_l(t),u=r(n,i,a,o,n!==e);if(u.done)return u.value;var c=ml(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Tl?"g":"y"),l=new c(Tl?"^(?:"+i.source+")":i,f),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===Ol(l,a)?[a]:[];for(var d=0,h=0,v=[];h<a.length;){l.lastIndex=Tl?0:h;var y,b=Ol(l,Tl?Cl(a,h):a);if(null===b||(y=jl(wl(l.lastIndex+(Tl?h:0)),a.length))===d)h=gl(a,h,s);else{if(Nl(v,Cl(a,d,h)),v.length===p)return v;for(var m=1;m<=b.length-1;m++)if(Nl(v,b[m]),v.length===p)return v;h=d=y}}return Nl(v,Cl(a,d)),v}]}),!!kl((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Tl);var Ll=lo,Rl=oo?{}.toString:function(){return"[object "+Ll(this)+"]"};oo||$r(Object.prototype,"toString",Rl,{unsafe:!0});var Ml,Al,Dl,Fl,Ul="process"==R(f.process),Vl=W,Gl=String,zl=TypeError,Kl=I,Bl=Re,Wl=function(t){if("object"==typeof t||Vl(t))return t;throw zl("Can't set "+Gl(t)+" as a prototype")},Jl=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Kl(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Bl(r),Wl(n),e?t(r,n):r.__proto__=n,r}}():void 0),Yl=q,$l=Pe,Hl=d,Xl=re("species"),ql=Q,Ql=TypeError,Zl=TypeError,tp=function(t,e){if(t<e)throw Zl("Not enough arguments");return t},ep=/(?:ipad|iphone|ipod).*applewebkit/i.test(Z),rp=f,np=mu,op=yi,ip=W,ap=Vt,up=p,cp=Oo,sp=gu,fp=be,lp=tp,pp=ep,dp=Ul,hp=rp.setImmediate,vp=rp.clearImmediate,yp=rp.process,bp=rp.Dispatch,mp=rp.Function,gp=rp.MessageChannel,wp=rp.String,_p=0,xp={};try{Ml=rp.location}catch(t){}var Sp=function(t){if(ap(xp,t)){var e=xp[t];delete xp[t],e()}},Op=function(t){return function(){Sp(t)}},Ep=function(t){Sp(t.data)},kp=function(t){rp.postMessage(wp(t),Ml.protocol+"//"+Ml.host)};hp&&vp||(hp=function(t){lp(arguments.length,1);var e=ip(t)?t:mp(t),r=sp(arguments,1);return xp[++_p]=function(){np(e,void 0,r)},Al(_p),_p},vp=function(t){delete xp[t]},dp?Al=function(t){yp.nextTick(Op(t))}:bp&&bp.now?Al=function(t){bp.now(Op(t))}:gp&&!pp?(Fl=(Dl=new gp).port2,Dl.port1.onmessage=Ep,Al=op(Fl.postMessage,Fl)):rp.addEventListener&&ip(rp.postMessage)&&!rp.importScripts&&Ml&&"file:"!==Ml.protocol&&!up(kp)?(Al=kp,rp.addEventListener("message",Ep,!1)):Al="onreadystatechange"in fp("script")?function(t){cp.appendChild(fp("script")).onreadystatechange=function(){cp.removeChild(this),Sp(t)}}:function(t){setTimeout(Op(t),0)});var Tp,jp,Pp,Ip,Np,Cp,Lp,Rp,Mp={set:hp,clear:vp},Ap=f,Dp=/ipad|iphone|ipod/i.test(Z)&&void 0!==Ap.Pebble,Fp=/web0s(?!.*chrome)/i.test(Z),Up=f,Vp=yi,Gp=l.f,zp=Mp.set,Kp=ep,Bp=Dp,Wp=Fp,Jp=Ul,Yp=Up.MutationObserver||Up.WebKitMutationObserver,$p=Up.document,Hp=Up.process,Xp=Up.Promise,qp=Gp(Up,"queueMicrotask"),Qp=qp&&qp.value;Qp||(Tp=function(){var t,e;for(Jp&&(t=Hp.domain)&&t.exit();jp;){e=jp.fn,jp=jp.next;try{e()}catch(t){throw jp?Ip():Pp=void 0,t}}Pp=void 0,t&&t.enter()},Kp||Jp||Wp||!Yp||!$p?!Bp&&Xp&&Xp.resolve?((Lp=Xp.resolve(void 0)).constructor=Xp,Rp=Vp(Lp.then,Lp),Ip=function(){Rp(Tp)}):Jp?Ip=function(){Hp.nextTick(Tp)}:(zp=Vp(zp,Up),Ip=function(){zp(Tp)}):(Np=!0,Cp=$p.createTextNode(""),new Yp(Tp).observe(Cp,{characterData:!0}),Ip=function(){Cp.data=Np=!Np}));var Zp=Qp||function(t){var e={fn:t,next:void 0};Pp&&(Pp.next=e),jp||(jp=e,Ip()),Pp=e},td=f,ed=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},rd=function(){this.head=null,this.tail=null};rd.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var nd=rd,od=f.Promise,id="object"==typeof window&&"object"!=typeof Deno,ad=f,ud=od,cd=W,sd=Kn,fd=ir,ld=re,pd=id,dd=at;ud&&ud.prototype;var hd=ld("species"),vd=!1,yd=cd(ad.PromiseRejectionEvent),bd=sd("Promise",(function(){var t=fd(ud),e=t!==String(ud);if(!e&&66===dd)return!0;if(dd>=51&&/native code/.test(t))return!1;var r=new ud((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[hd]=n,!(vd=r.then((function(){}))instanceof n)||!e&&pd&&!yd})),md={CONSTRUCTOR:bd,REJECTION_EVENT:yd,SUBCLASSING:vd},gd={},wd=_t,_d=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=wd(e),this.reject=wd(r)};gd.f=function(t){return new _d(t)};var xd,Sd,Od,Ed=qn,kd=Ul,Td=f,jd=b,Pd=$r,Id=Jl,Nd=pi,Cd=function(t){var e=Yl(t),r=$l.f;Hl&&e&&!e[Xl]&&r(e,Xl,{configurable:!0,get:function(){return this}})},Ld=_t,Rd=W,Md=Y,Ad=function(t,e){if(ql(e,t))return t;throw Ql("Incorrect invocation")},Dd=Hf,Fd=Mp.set,Ud=Zp,Vd=function(t,e){var r=td.console;r&&r.error},Gd=ed,zd=nd,Kd=Nr,Bd=od,Wd=gd,Jd=md.CONSTRUCTOR,Yd=md.REJECTION_EVENT,$d=md.SUBCLASSING,Hd=Kd.getterFor("Promise"),Xd=Kd.set,qd=Bd&&Bd.prototype,Qd=Bd,Zd=qd,th=Td.TypeError,eh=Td.document,rh=Td.process,nh=Wd.f,oh=nh,ih=!!(eh&&eh.createEvent&&Td.dispatchEvent),ah=function(t){var e;return!(!Md(t)||!Rd(e=t.then))&&e},uh=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&ph(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s(th("Promise-chain cycle")):(n=ah(r))?jd(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},ch=function(t,e){t.notified||(t.notified=!0,Ud((function(){for(var r,n=t.reactions;r=n.get();)uh(r,t);t.notified=!1,e&&!t.rejection&&fh(t)})))},sh=function(t,e,r){var n,o;ih?((n=eh.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),Td.dispatchEvent(n)):n={promise:e,reason:r},!Yd&&(o=Td["on"+t])?o(n):"unhandledrejection"===t&&Vd("Unhandled promise rejection",r)},fh=function(t){jd(Fd,Td,(function(){var e,r=t.facade,n=t.value;if(lh(t)&&(e=Gd((function(){kd?rh.emit("unhandledRejection",n,r):sh("unhandledrejection",r,n)})),t.rejection=kd||lh(t)?2:1,e.error))throw e.value}))},lh=function(t){return 1!==t.rejection&&!t.parent},ph=function(t){jd(Fd,Td,(function(){var e=t.facade;kd?rh.emit("rejectionHandled",e):sh("rejectionhandled",e,t.value)}))},dh=function(t,e,r){return function(n){t(e,n,r)}},hh=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,ch(t,!0))},vh=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw th("Promise can't be resolved itself");var n=ah(e);n?Ud((function(){var r={done:!1};try{jd(n,e,dh(vh,r,t),dh(hh,r,t))}catch(e){hh(r,e,t)}})):(t.value=e,t.state=1,ch(t,!1))}catch(e){hh({done:!1},e,t)}}};if(Jd&&(Zd=(Qd=function(t){Ad(this,Zd),Ld(t),jd(xd,this);var e=Hd(this);try{t(dh(vh,e),dh(hh,e))}catch(t){hh(e,t)}}).prototype,(xd=function(t){Xd(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new zd,rejection:!1,state:0,value:void 0})}).prototype=Pd(Zd,"then",(function(t,e){var r=Hd(this),n=nh(Dd(this,Qd));return r.parent=!0,n.ok=!Rd(t)||t,n.fail=Rd(e)&&e,n.domain=kd?rh.domain:void 0,0==r.state?r.reactions.add(n):Ud((function(){uh(n,r)})),n.promise})),Sd=function(){var t=new xd,e=Hd(t);this.promise=t,this.resolve=dh(vh,e),this.reject=dh(hh,e)},Wd.f=nh=function(t){return t===Qd||undefined===t?new Sd(t):oh(t)},Rd(Bd)&&qd!==Object.prototype)){Od=qd.then,$d||Pd(qd,"then",(function(t,e){var r=this;return new Qd((function(t,e){jd(Od,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete qd.constructor}catch(t){}Id&&Id(qd,Zd)}Ed({global:!0,constructor:!0,wrap:!0,forced:Jd},{Promise:Qd}),Nd(Qd,"Promise",!1),Cd("Promise");var yh={},bh=yh,mh=re("iterator"),gh=Array.prototype,wh=lo,_h=St,xh=yh,Sh=re("iterator"),Oh=function(t){if(null!=t)return _h(t,Sh)||_h(t,"@@iterator")||xh[wh(t)]},Eh=b,kh=_t,Th=Re,jh=bt,Ph=Oh,Ih=TypeError,Nh=b,Ch=Re,Lh=St,Rh=yi,Mh=b,Ah=Re,Dh=bt,Fh=function(t){return void 0!==t&&(bh.Array===t||gh[mh]===t)},Uh=sn,Vh=Q,Gh=function(t,e){var r=arguments.length<2?Ph(t):e;if(kh(r))return Th(Eh(r,t));throw Ih(jh(t)+" is not iterable")},zh=Oh,Kh=function(t,e,r){var n,o;Ch(t);try{if(!(n=Lh(t,"return"))){if("throw"===e)throw r;return r}n=Nh(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Ch(n),r},Bh=TypeError,Wh=function(t,e){this.stopped=t,this.result=e},Jh=Wh.prototype,Yh=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),h=Rh(e,f),v=function(t){return n&&Kh(n,"normal",t),new Wh(!0,t)},y=function(t){return l?(Ah(t),d?h(t[0],t[1],v):h(t[0],t[1])):d?h(t,v):h(t)};if(p)n=t;else{if(!(o=zh(t)))throw Bh(Dh(t)+" is not iterable");if(Fh(o)){for(i=0,a=Uh(t);a>i;i++)if((u=y(t[i]))&&Vh(Jh,u))return u;return new Wh(!1)}n=Gh(t,o)}for(c=n.next;!(s=Mh(c,n)).done;){try{u=y(s.value)}catch(t){Kh(n,"throw",t)}if("object"==typeof u&&u&&Vh(Jh,u))return u}return new Wh(!1)},$h=re("iterator"),Hh=!1;try{var Xh=0,qh={next:function(){return{done:!!Xh++}},return:function(){Hh=!0}};qh[$h]=function(){return this},Array.from(qh,(function(){throw 2}))}catch(t){}var Qh=od,Zh=function(t,e){if(!e&&!Hh)return!1;var r=!1;try{var n={};n[$h]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},tv=md.CONSTRUCTOR||!Zh((function(t){Qh.all(t).then(void 0,(function(){}))})),ev=b,rv=_t,nv=gd,ov=ed,iv=Yh;qn({target:"Promise",stat:!0,forced:tv},{all:function(t){var e=this,r=nv.f(e),n=r.resolve,o=r.reject,i=ov((function(){var r=rv(e.resolve),i=[],a=0,u=1;iv(t,(function(t){var c=a++,s=!1;u++,ev(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var av=qn,uv=md.CONSTRUCTOR,cv=od,sv=q,fv=W,lv=$r,pv=cv&&cv.prototype;if(av({target:"Promise",proto:!0,forced:uv,real:!0},{catch:function(t){return this.then(void 0,t)}}),fv(cv)){var dv=sv("Promise").prototype.catch;pv.catch!==dv&&lv(pv,"catch",dv,{unsafe:!0})}var hv=b,vv=_t,yv=gd,bv=ed,mv=Yh;qn({target:"Promise",stat:!0,forced:tv},{race:function(t){var e=this,r=yv.f(e),n=r.reject,o=bv((function(){var o=vv(e.resolve);mv(t,(function(t){hv(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var gv=b,wv=gd;qn({target:"Promise",stat:!0,forced:md.CONSTRUCTOR},{reject:function(t){var e=wv.f(this);return gv(e.reject,void 0,t),e.promise}});var _v=Re,xv=Y,Sv=gd,Ov=qn,Ev=md.CONSTRUCTOR,kv=function(t,e){if(_v(t),xv(e)&&e.constructor===t)return e;var r=Sv.f(t);return(0,r.resolve)(e),r.promise};q("Promise"),Ov({target:"Promise",stat:!0,forced:Ev},{resolve:function(t){return kv(this,t)}});qn({target:"Array",proto:!0,forced:[].forEach!=fc},{forEach:fc});var Tv=qn,jv=Date,Pv=I(jv.prototype.getTime);Tv({target:"Date",stat:!0},{now:function(){return Pv(new jv)}});var Iv=I,Nv=$r,Cv=Date.prototype,Lv=Iv(Cv.toString),Rv=Iv(Cv.getTime);"Invalid Date"!=String(new Date(NaN))&&Nv(Cv,"toString",(function(){var t=Rv(this);return t==t?Lv(this):"Invalid Date"}));var Mv=d,Av=Qe.EXISTS,Dv=I,Fv=Pe.f,Uv=Function.prototype,Vv=Dv(Uv.toString),Gv=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,zv=Dv(Gv.exec);Mv&&!Av&&Fv(Uv,"name",{configurable:!0,get:function(){try{return zv(Gv,Vv(this))[1]}catch(t){return""}}});var Kv=f,Bv=mu,Wv=W,Jv=gu,Yv=tp,$v=/MSIE .\./.test(Z),Hv=Kv.Function,Xv=function(t){return $v?function(e,r){var n=Yv(arguments.length,1)>2,o=Wv(e)?e:Hv(e),i=n?Jv(arguments,2):void 0;return t(n?function(){Bv(o,this,i)}:o,r)}:t},qv={setTimeout:Xv(Kv.setTimeout),setInterval:Xv(Kv.setInterval)},Qv=qv.setInterval;qn({global:!0,bind:!0,forced:f.setInterval!==Qv},{setInterval:Qv});var Zv=qv.setTimeout;qn({global:!0,bind:!0,forced:f.setTimeout!==Zv},{setTimeout:Zv});var ty=qn,ey=Yi.find,ry=Bs,ny=!0;"find"in[]&&Array(1).find((function(){ny=!1})),ty({target:"Array",proto:!0,forced:ny},{find:function(t){return ey(this,t,arguments.length>1?arguments[1]:void 0)}}),ry("find");var oy=Yi.map;qn({target:"Array",proto:!0,forced:!Xu("map")},{map:function(t){return oy(this,t,arguments.length>1?arguments[1]:void 0)}});var iy=bt,ay=TypeError,uy=Yo,cy=Math.floor,sy=function(t,e){var r=t.length,n=cy(r/2);return r<8?fy(t,e):ly(t,sy(uy(t,0,n),e),sy(uy(t,n),e),e)},fy=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},ly=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},py=sy,dy=Z.match(/firefox\/(\d+)/i),hy=!!dy&&+dy[1],vy=/MSIE|Trident/.test(Z),yy=Z.match(/AppleWebKit\/(\d+)\./),by=!!yy&&+yy[1],my=qn,gy=I,wy=_t,_y=Dt,xy=sn,Sy=function(t,e){if(!delete t[e])throw ay("Cannot delete property "+iy(e)+" of "+iy(t))},Oy=vo,Ey=p,ky=py,Ty=cc,jy=hy,Py=vy,Iy=at,Ny=by,Cy=[],Ly=gy(Cy.sort),Ry=gy(Cy.push),My=Ey((function(){Cy.sort(void 0)})),Ay=Ey((function(){Cy.sort(null)})),Dy=Ty("sort"),Fy=!Ey((function(){if(Iy)return Iy<70;if(!(jy&&jy>3)){if(Py)return!0;if(Ny)return Ny<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Cy.push({k:e+n,v:r})}for(Cy.sort((function(t,e){return e.v-t.v})),n=0;n<Cy.length;n++)e=Cy[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));my({target:"Array",proto:!0,forced:My||!Ay||!Dy||!Fy},{sort:function(t){void 0!==t&&wy(t);var e=_y(this);if(Fy)return void 0===t?Ly(e):Ly(e,t);var r,n,o=[],i=xy(e);for(n=0;n<i;n++)n in e&&Ry(o,e[n]);for(ky(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Oy(e)>Oy(r)?1:-1}}(t)),r=o.length,n=0;n<r;)e[n]=o[n++];for(;n<i;)Sy(e,n++);return e}});var Uy=/http[s]{0,1}:\/\/([\w.]+\/?)\S*/;class Vy extends Error{constructor(t){super(t),this.name="TimeoutError"}}class Gy extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const zy=t=>void 0===globalThis.DOMException?new Gy(t):new DOMException(t),Ky=t=>{const e=void 0===t.reason?zy("This operation was aborted."):t.reason;return e instanceof Error?e:zy(e)};async function By(t,e={}){const{interval:r=20,timeout:n=Number.POSITIVE_INFINITY,before:o=!0}=e;let i;const a=new Promise(((e,n)=>{const a=async()=>{try{const n=await t();if("boolean"!=typeof n)throw new TypeError("Expected condition to return a boolean");!0===n?e():i=setTimeout(a,r)}catch(t){n(t)}};o?a():i=setTimeout(a,r)}));if(n!==Number.POSITIVE_INFINITY)try{return await function(t,e,r,n){let o;const i=new Promise(((i,a)=>{if("number"!=typeof e||1!==Math.sign(e))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...n}).signal){const{signal:t}=n;t.aborted&&a(Ky(t)),t.addEventListener("abort",(()=>{a(Ky(t))}))}o=n.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof r){try{i(r())}catch(t){a(t)}return}const n=r instanceof Error?r:new Vy("string"==typeof r?r:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),a(n)}),e),(async()=>{try{i(await t)}catch(t){a(t)}finally{n.customTimers.clearTimeout.call(void 0,o)}})()}else i(t)}));return i.clear=()=>{clearTimeout(o),o=void 0},i}(a,n)}catch(t){throw i&&clearTimeout(i),t}return a}var Wy=function(t){return 1024*t*1024},Jy=function(t){return new Promise((function(e,r){var n=document.createElement("video");n.preload="metadata",n.src=t,n.onloadedmetadata=function(){e({duration:n.duration}),n=null},n.onerror=function(){r(new Error("è§é¢å è½½å¤±è´¥")),n=null}}))},Yy=function(t){return t?t.split("//").pop():""},$y={expireRedundancy:1e4,partsStrategy:[{min:Wy(1024),partSize:Wy(20),concurrentNum:10},{min:Wy(512),partSize:Wy(20),concurrentNum:10},{min:Wy(200),partSize:Wy(15),concurrentNum:10},{min:Wy(100),partSize:Wy(10),concurrentNum:10}],checkIsVideo:function(t){return t.type.startsWith("video/")},videoToVod:!1,needVideoDuration:!1,needVodURL:!1,vodTimesLimit:0,vodTimeInterval:1e3},Hy=Dt,Xy=fe;qn({target:"Date",proto:!0,arity:1,forced:p((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=Hy(this),r=Xy(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}});var qy=b;function Qy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qy(Object(r),!0).forEach((function(e){Ac(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}qn({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return qy(URL.prototype.toString,this)}});var tb=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Error(t||e.CommonMsg.Message);return n.isThenError=!0,n.result=e,Object.keys(r).forEach((function(t){n[t]=r[t]})),n.toJSON=function(){return Zy({result:e,isThenError:!0},r)},n};function eb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eb(Object(r),!0).forEach((function(e){Ac(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var nb=function(){function u(t,e){Cc(this,u),Ac(this,"VERSION","1.0.2"),Ac(this,"_options",{}),Ac(this,"obsClient",null),Ac(this,"_bucketName",null),Ac(this,"_obsServer",null),Ac(this,"_tokenCreateTime",null),Ac(this,"_tokenExpire",null),this._init(t,e)}return Rc(u,[{key:"_init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e(rb(rb({},$y),n));t.bucketName&&(this._bucketName=t.bucketName),o.videoToVod&&(r(n.apiObsToVod)||console.warn("å½éè¦å°è§é¢ä¸ä¼ å°vodæ¶ï¼apiObsToVod æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),o.needVodURL&&(r(n.apiVodDetails)||console.warn("å½éè¦è·åè§é¢vodæ­æ¾å°åæ¶ï¼apiVodDetails æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),this._options=t,this.config=o}},{key:"_fillServer",value:function(t){return function(t){return Uy.test(t)}(t)||t.startsWith("//")?t:"https://".concat(t)}},{key:"_getUploadKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t&&t.startsWith("/")&&(t=t.slice(1)),"".concat(t).concat(n()).concat(this._getFileType(e))}},{key:"_getFileType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";try{if(t.includes(".")){var r=t.split(".");e=r[r.length-1]}}catch(t){e=""}return e?".".concat(e):""}},{key:"getClient",value:function(){var e=this;return new Promise((function(r,n){var o=function(){var o=e._options,i=["timeout","is_cname","useRawXhr"],a=e._warn;if(o.ak&&o.sk&&o.server){var u=o.server,c={access_key_id:o.ak,secret_access_key:o.sk,server:u};i.forEach((function(t){t in o&&(c[t]=o[t])}));["ak","sk","server","bucketName"].forEach((function(t){o[t]||a("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))})),e._bucketName=o.bucketName,e._obsServer=u,e.obsClient=new t(c),e._tokenExpire=0,r(e.obsClient)}else o.getAuthorization?o.getAuthorization({}).then((function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=["ak","sk"];u.forEach((function(t){n[t]||a("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))}));var c=n.server||e._obsServer||null;c||a("åæ°ï¼'server' ä¸ºå¿ä¼ åæ°");var s={access_key_id:n.ak,secret_access_key:n.sk,server:c};e._obsServer=c,i.forEach((function(t){t in o&&(s[t]=o[t])})),n.securityToken&&(s.security_token=n.securityToken),n.expireSeconds?(e._tokenExpire=1e3*n.expireSeconds,e._tokenCreateTime=Date.now()):e._tokenExpire=-1,n.bucketName&&(e._bucketName=n.bucketName),e.obsClient=new t(s),r(e.obsClient)})).catch((function(t){n(t)})):(n(new Error("æªæä¾åå§ååæ°")),console.warn("æªæä¾åå§ååæ°"))};e.obsClient?0===e._tokenExpire||e._tokenCreateTime&&e._tokenCreateTime+e._tokenExpire-e.config.expireRedundancy>Date.now()?r(e.obsClient):(e.obsClient=null,o()):o()}))}},{key:"upload",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var u=Ic(Vc.mark((function u(c,s){var f,l,p,d,h,v,y,b,m,g,w,_,x,S,O,E,k,T;return Vc.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(m=function(t){t.obs_upload_uploadId&&t.obs_upload_key&&f.getClient().then((function(e){e.abortMultipartUpload({Bucket:p,Key:t.obs_upload_key,UploadId:t.obs_upload_uploadId})})),e.onError&&e.onError(t),s(t)},f=t,e.file){u.next=5;break}return m(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'file'")),u.abrupt("return");case 5:if(l=t.config,p=null,d=null,h=l.checkIsVideo(e.file),v=null,!l.getUploadKey){u.next=23;break}return u.prev=11,u.next=14,l.getUploadKey(e.file,r,n,t._getFileType(e.file.name));case 14:d=u.sent,u.next=21;break;case 17:return u.prev=17,u.t0=u.catch(11),m(u.t0),u.abrupt("return");case 21:u.next=24;break;case 23:d=t._getUploadKey(r.folderPath,e.file.name);case 24:if(d){u.next=27;break}return m(new Error("'getUploadKey' è¿åç key ä¸å­å¨")),u.abrupt("return");case 27:y=function(){var r=function(){var t=l.partsStrategy;if(t&&t.length>0)return t[t.length-1].min}();!r||e.file.size<r?t.getClient().then((function(r){(p=t._bucketName)?(v=r,r.putObject({Bucket:p,Key:d,SourceFile:e.file,ProgressCallback:function(t,e,r){var n=t/e*100|0;n>95&&(n=95),b({percent:n})}},(function(t,r){t?m(t,e):r.CommonMsg.Status<300?(r.obs_upload_direct=!0,r.obs_upload_bucketName=p,r.obs_upload_key=d,g(r)):m(tb(null,r))}))):m(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){m(t)})):S(e)},b=function(t){e.onProgress&&e.onProgress(t)},g=function(r){var n="https://".concat(p,".").concat(Yy(t._obsServer),"/").concat(r.obs_upload_key);r.obs_upload_server=t._obsServer,r.obs_upload_data={key:r.obs_upload_key,fullUrl:n,isFromVod:!1,obsUrl:n,isVideo:h},r.obs_upload_data,l.videoToVod&&h?l.apiObsToVod(e.file,{key:d,bucketName:p,server:t._obsServer,obsURL:n}).then(Ic(Vc.mark((function a(){var u,c,s,f,h,v,y=arguments;return Vc.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u=y.length>0&&void 0!==y[0]?y[0]:{},c=u.data,s=u.msg,f=u.otherData,!c||!c.vodId){a.next=34;break}if(l.needVodURL&&c.url&&(r.obs_upload_data.fullUrl=c.url,r.obs_upload_data.isFromVod=!0),r.obs_upload_data.vodId=c.vodId,r.obs_upload_vod_data=f,!l.needVodURL||c.url){a.next=31;break}if(h=void 0,"number"!=typeof l.vodTimeInterval){a.next=15;break}h=l.vodTimeInterval,a.next=25;break;case 15:return a.prev=15,a.next=18,l.vodTimeInterval(e.file,{key:d,bucketName:p,server:t._obsServer,obsURL:n,vodId:c.vodId});case 18:h=a.sent,a.next=25;break;case 21:return a.prev=21,a.t0=a.catch(15),m(a.t0),a.abrupt("return");case 25:if("number"==typeof h){a.next=28;break}return m(new Error("'vodTimeInterval' åæ°å¿é¡»ä¸º Number ç±»å")),a.abrupt("return");case 28:0===l.vodTimesLimit?By((function(){return new Promise((function(e,o){l.apiVodDetails(c.vodId,{key:d,bucketName:p,server:t._obsServer,obsURL:n}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,o=t.otherData;n&&n.url?(e(!0),r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=n.url,r.obs_upload_vod_details=o,_(r,n.duration)):e(!1)})).catch((function(t){o(t),t.obs_upload_key=r.obs_upload_key,m(t)}))}))}),{interval:h,before:!1}).catch((function(){})):o((function(){return new Promise((function(e,r){l.apiVodDetails(c.vodId,{key:d,bucketName:p,server:t._obsServer,obsURL:n}).then((function(t){var n=t.data;n&&n.url?e(t):setTimeout((function(){r(new Error(t.msg||"vod è½¬ç ä¸­ï¼æ æ³è·åæ­æ¾å°å"))}),h)})).catch((function(t){r(new i(t.message))}))}))}),{retries:l.vodTimesLimit}).then((function(t){r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=t.data.url,r.obs_upload_vod_details=t.otherData,_(r,t.data.duration)})).catch((function(t){t.message,t.obs_upload_key=r.obs_upload_key,m(t)})),a.next=32;break;case 31:_(r,c.duration);case 32:a.next=36;break;case 34:v=new Error(s||"obsè½¬æ¢vodå¤±è´¥"),m(v);case 36:case"end":return a.stop()}}),a,null,[[15,21]])})))).catch((function(t){t.obs_upload_key=r.obs_upload_key,m(t)})):w(r)},w=function(t){l.needVideoDuration&&h?Jy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,b({percent:100}),x(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,m(e)})):(b({percent:100}),x(t))},_=function(t,e){l.needVideoDuration?0!==e&&e?(t.obs_upload_data.duration=e,b({percent:100}),x(t)):Jy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,b({percent:100}),x(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,m(e)})):(b({percent:100}),x(t))},x=function(t){e.onSuccess&&e.onSuccess(t),c(t)},S=function(){t.getClient().then((function(e){(p=t._bucketName)?(v=e,e.initiateMultipartUpload({Bucket:p,Key:d,ContentType:"text/plain"},(function(t,e){t?m(t):(e.CommonMsg.Status,e.CommonMsg.Status<300&&e.InterfaceResult?(e.InterfaceResult.UploadId,E(e)):m(tb(null,e)))}))):m(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){m(t)}))},O=function(t){return l.partsStrategy.find((function(e){return t>=e.min}))},E=function(t){for(var r=0,n=e.file.size,o=O(n),i=o.partSize,u=Math.ceil(n/i),c=t.InterfaceResult.UploadId,s=[],f=0;r<u;)!function(t){s.push((function(){return v.uploadPart({Bucket:p,Key:d,PartNumber:t,UploadId:c,SourceFile:e.file,PartSize:i,Offset:(t-1)*i}).then((function(t){var e=++f/u*100|0;return e>95&&(e=95),b({percent:e}),t}))}))}(++r);a(s,{concurrency:o.concurrentNum}).then((function(t){k(u,c)})).catch((function(t){t.obs_upload_uploadId=c,t.obs_upload_key=d,m(t)}))},k=function(t,e){v.listParts({Bucket:p,Key:d,UploadId:e},(function(r,n){if(r)r.obs_upload_uploadId=e,r.obs_upload_key=d,m(r);else if(n.CommonMsg.Status,n.CommonMsg.Status<300&&n.InterfaceResult)if(n.InterfaceResult.Parts,n.InterfaceResult.Parts.length===t){var o=n.InterfaceResult.Parts.sort((function(t,e){return t.PartNumber-e.PartNumber})).map((function(t){return{PartNumber:t.PartNumber,ETag:JSON.parse(t.ETag)}}));T(o,e)}else m(tb("çæ®µä¸å®æ´",n,{obs_upload_uploadId:e,obs_upload_key:d}));else m(tb(null,n,{obs_upload_uploadId:e,obs_upload_key:d}))}))},T=function(t,r){v.completeMultipartUpload({Bucket:p,Key:d,UploadId:r,Parts:t},(function(t,r){t?m(t):(r.CommonMsg.Status<300?(r.obs_upload_direct=!1,r.obs_upload_key=d,r.obs_upload_bucketName=p,g(r,e)):m(tb(null,r)),r.CommonMsg.Status)}))},y();case 39:case"end":return u.stop()}}),u,null,[[11,17]])})));return function(t,e){return u.apply(this,arguments)}}())}},{key:"_warn",value:function(t){console.warn(t)}}]),u}();export{nb as default};
