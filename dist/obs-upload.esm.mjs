/*! obs-upload version 1.0.3-alpha.0 */
import t from"esdk-obs-browserjs";export{default as ObsClient}from"esdk-obs-browserjs";import{cloneDeep as e,isFunction as r}from"lodash-es";import{nanoid as n}from"nanoid";import o,{AbortError as i}from"p-retry";import a from"p-all";import u from"p-wait-for";var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f=function(t){return t&&t.Math==Math&&t},l=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof c&&c)||function(){return this}()||Function("return this")(),p={},d=function(t){try{return!!t()}catch(t){return!0}},v=!d((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=!d((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),y=h,b=Function.prototype.call,g=y?b.bind(b):function(){return b.apply(b,arguments)},m={},w={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,x=_&&!w.call({1:2},1);m.f=x?function(t){var e=_(this,t);return!!e&&e.enumerable}:w;var S,O,E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=h,j=Function.prototype,T=j.bind,P=j.call,I=k&&T.bind(P,P),N=k?function(t){return t&&I(t)}:function(t){return t&&function(){return P.apply(t,arguments)}},C=N,L=C({}.toString),R=C("".slice),M=function(t){return R(L(t),8,-1)},A=d,D=M,F=Object,U=N("".split),V=A((function(){return!F("z").propertyIsEnumerable(0)}))?function(t){return"String"==D(t)?U(t,""):F(t)}:F,G=TypeError,z=function(t){if(null==t)throw G("Can't call method on "+t);return t},K=V,B=z,W=function(t){return K(B(t))},J=function(t){return"function"==typeof t},H=J,Y=function(t){return"object"==typeof t?null!==t:H(t)},$=l,X=J,q=function(t){return X(t)?t:void 0},Q=function(t,e){return arguments.length<2?q($[t]):$[t]&&$[t][e]},Z=N({}.isPrototypeOf),tt=Q("navigator","userAgent")||"",et=l,rt=tt,nt=et.process,ot=et.Deno,it=nt&&nt.versions||ot&&ot.version,at=it&&it.v8;at&&(O=(S=at.split("."))[0]>0&&S[0]<4?1:+(S[0]+S[1])),!O&&rt&&(!(S=rt.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=rt.match(/Chrome\/(\d+)/))&&(O=+S[1]);var ut=O,ct=ut,st=d,ft=!!Object.getOwnPropertySymbols&&!st((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ct&&ct<41})),lt=ft&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,pt=Q,dt=J,vt=Z,ht=Object,yt=lt?function(t){return"symbol"==typeof t}:function(t){var e=pt("Symbol");return dt(e)&&vt(e.prototype,ht(t))},bt=String,gt=function(t){try{return bt(t)}catch(t){return"Object"}},mt=J,wt=gt,_t=TypeError,xt=function(t){if(mt(t))return t;throw _t(wt(t)+" is not a function")},St=xt,Ot=function(t,e){var r=t[e];return null==r?void 0:St(r)},Et=g,kt=J,jt=Y,Tt=TypeError,Pt={exports:{}},It=l,Nt=Object.defineProperty,Ct=function(t,e){try{Nt(It,t,{value:e,configurable:!0,writable:!0})}catch(r){It[t]=e}return e},Lt=Ct,Rt=l["__core-js_shared__"]||Lt("__core-js_shared__",{}),Mt=Rt;(Pt.exports=function(t,e){return Mt[t]||(Mt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"});var At=z,Dt=Object,Ft=function(t){return Dt(At(t))},Ut=Ft,Vt=N({}.hasOwnProperty),Gt=Object.hasOwn||function(t,e){return Vt(Ut(t),e)},zt=N,Kt=0,Bt=Math.random(),Wt=zt(1..toString),Jt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Wt(++Kt+Bt,36)},Ht=l,Yt=Pt.exports,$t=Gt,Xt=Jt,qt=ft,Qt=lt,Zt=Yt("wks"),te=Ht.Symbol,ee=te&&te.for,re=Qt?te:te&&te.withoutSetter||Xt,ne=function(t){if(!$t(Zt,t)||!qt&&"string"!=typeof Zt[t]){var e="Symbol."+t;qt&&$t(te,t)?Zt[t]=te[t]:Zt[t]=Qt&&ee?ee(e):re(e)}return Zt[t]},oe=g,ie=Y,ae=yt,ue=Ot,ce=function(t,e){var r,n;if("string"===e&&kt(r=t.toString)&&!jt(n=Et(r,t)))return n;if(kt(r=t.valueOf)&&!jt(n=Et(r,t)))return n;if("string"!==e&&kt(r=t.toString)&&!jt(n=Et(r,t)))return n;throw Tt("Can't convert object to primitive value")},se=TypeError,fe=ne("toPrimitive"),le=function(t,e){if(!ie(t)||ae(t))return t;var r,n=ue(t,fe);if(n){if(void 0===e&&(e="default"),r=oe(n,t,e),!ie(r)||ae(r))return r;throw se("Can't convert object to primitive value")}return void 0===e&&(e="number"),ce(t,e)},pe=le,de=yt,ve=function(t){var e=pe(t,"string");return de(e)?e:e+""},he=Y,ye=l.document,be=he(ye)&&he(ye.createElement),ge=function(t){return be?ye.createElement(t):{}},me=ge,we=!v&&!d((function(){return 7!=Object.defineProperty(me("div"),"a",{get:function(){return 7}}).a})),_e=v,xe=g,Se=m,Oe=E,Ee=W,ke=ve,je=Gt,Te=we,Pe=Object.getOwnPropertyDescriptor;p.f=_e?Pe:function(t,e){if(t=Ee(t),e=ke(e),Te)try{return Pe(t,e)}catch(t){}if(je(t,e))return Oe(!xe(Se.f,t,e),t[e])};var Ie={},Ne=v&&d((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ce=Y,Le=String,Re=TypeError,Me=function(t){if(Ce(t))return t;throw Re(Le(t)+" is not an object")},Ae=v,De=we,Fe=Ne,Ue=Me,Ve=ve,Ge=TypeError,ze=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor;Ie.f=Ae?Fe?function(t,e,r){if(Ue(t),e=Ve(e),Ue(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Ke(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return ze(t,e,r)}:ze:function(t,e,r){if(Ue(t),e=Ve(e),Ue(r),De)try{return ze(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Ge("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var Be=Ie,We=E,Je=v?function(t,e,r){return Be.f(t,e,We(1,r))}:function(t,e,r){return t[e]=r,t},He={exports:{}},Ye=v,$e=Gt,Xe=Function.prototype,qe=Ye&&Object.getOwnPropertyDescriptor,Qe=$e(Xe,"name"),Ze={EXISTS:Qe,PROPER:Qe&&"something"===function(){}.name,CONFIGURABLE:Qe&&(!Ye||Ye&&qe(Xe,"name").configurable)},tr=J,er=Rt,rr=N(Function.toString);tr(er.inspectSource)||(er.inspectSource=function(t){return rr(t)});var nr,or,ir,ar=er.inspectSource,ur=J,cr=ar,sr=l.WeakMap,fr=ur(sr)&&/native code/.test(cr(sr)),lr=Pt.exports,pr=Jt,dr=lr("keys"),vr=function(t){return dr[t]||(dr[t]=pr(t))},hr={},yr=fr,br=l,gr=N,mr=Y,wr=Je,_r=Gt,xr=Rt,Sr=vr,Or=hr,Er=br.TypeError,kr=br.WeakMap;if(yr||xr.state){var jr=xr.state||(xr.state=new kr),Tr=gr(jr.get),Pr=gr(jr.has),Ir=gr(jr.set);nr=function(t,e){if(Pr(jr,t))throw new Er("Object already initialized");return e.facade=t,Ir(jr,t,e),e},or=function(t){return Tr(jr,t)||{}},ir=function(t){return Pr(jr,t)}}else{var Nr=Sr("state");Or[Nr]=!0,nr=function(t,e){if(_r(t,Nr))throw new Er("Object already initialized");return e.facade=t,wr(t,Nr,e),e},or=function(t){return _r(t,Nr)?t[Nr]:{}},ir=function(t){return _r(t,Nr)}}var Cr={set:nr,get:or,has:ir,enforce:function(t){return ir(t)?or(t):nr(t,{})},getterFor:function(t){return function(e){var r;if(!mr(e)||(r=or(e)).type!==t)throw Er("Incompatible receiver, "+t+" required");return r}}},Lr=d,Rr=J,Mr=Gt,Ar=v,Dr=Ze.CONFIGURABLE,Fr=ar,Ur=Cr.enforce,Vr=Cr.get,Gr=Object.defineProperty,zr=Ar&&!Lr((function(){return 8!==Gr((function(){}),"length",{value:8}).length})),Kr=String(String).split("String"),Br=He.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Mr(t,"name")||Dr&&t.name!==e)&&Gr(t,"name",{value:e,configurable:!0}),zr&&r&&Mr(r,"arity")&&t.length!==r.arity&&Gr(t,"length",{value:r.arity});try{r&&Mr(r,"constructor")&&r.constructor?Ar&&Gr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Ur(t);return Mr(n,"source")||(n.source=Kr.join("string"==typeof e?e:"")),t};Function.prototype.toString=Br((function(){return Rr(this)&&Vr(this).source||Fr(this)}),"toString");var Wr=J,Jr=Ie,Hr=He.exports,Yr=Ct,$r=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;return Wr(r)&&Hr(r,i,n),n.global?o?t[e]=r:Yr(e,r):(n.unsafe?t[e]&&(o=!0):delete t[e],o?t[e]=r:Jr.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})),t},Xr={},qr=Math.ceil,Qr=Math.floor,Zr=Math.trunc||function(t){var e=+t;return(e>0?Qr:qr)(e)},tn=function(t){var e=+t;return e!=e||0===e?0:Zr(e)},en=tn,rn=Math.max,nn=Math.min,on=function(t,e){var r=en(t);return r<0?rn(r+e,0):nn(r,e)},an=tn,un=Math.min,cn=function(t){return t>0?un(an(t),9007199254740991):0},sn=cn,fn=function(t){return sn(t.length)},ln=W,pn=on,dn=fn,vn=function(t){return function(e,r,n){var o,i=ln(e),a=dn(i),u=pn(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},hn={includes:vn(!0),indexOf:vn(!1)},yn=Gt,bn=W,gn=hn.indexOf,mn=hr,wn=N([].push),_n=function(t,e){var r,n=bn(t),o=0,i=[];for(r in n)!yn(mn,r)&&yn(n,r)&&wn(i,r);for(;e.length>o;)yn(n,r=e[o++])&&(~gn(i,r)||wn(i,r));return i},xn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Sn=_n,On=xn.concat("length","prototype");Xr.f=Object.getOwnPropertyNames||function(t){return Sn(t,On)};var En={};En.f=Object.getOwnPropertySymbols;var kn=Q,jn=Xr,Tn=En,Pn=Me,In=N([].concat),Nn=kn("Reflect","ownKeys")||function(t){var e=jn.f(Pn(t)),r=Tn.f;return r?In(e,r(t)):e},Cn=Gt,Ln=Nn,Rn=p,Mn=Ie,An=d,Dn=J,Fn=/#|\.prototype\./,Un=function(t,e){var r=Gn[Vn(t)];return r==Kn||r!=zn&&(Dn(e)?An(e):!!e)},Vn=Un.normalize=function(t){return String(t).replace(Fn,".").toLowerCase()},Gn=Un.data={},zn=Un.NATIVE="N",Kn=Un.POLYFILL="P",Bn=Un,Wn=l,Jn=p.f,Hn=Je,Yn=$r,$n=Ct,Xn=function(t,e,r){for(var n=Ln(e),o=Mn.f,i=Rn.f,a=0;a<n.length;a++){var u=n[a];Cn(t,u)||r&&Cn(r,u)||o(t,u,i(e,u))}},qn=Bn,Qn=function(t,e){var r,n,o,i,a,u=t.target,c=t.global,s=t.stat;if(r=c?Wn:s?Wn[u]||$n(u,{}):(Wn[u]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=Jn(r,n))&&a.value:r[n],!qn(c?n:u+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Xn(i,o)}(t.sham||o&&o.sham)&&Hn(i,"sham",!0),Yn(r,n,i,t)}},Zn=_n,to=xn,eo=Object.keys||function(t){return Zn(t,to)},ro=Ft,no=eo;Qn({target:"Object",stat:!0,forced:d((function(){no(1)}))},{keys:function(t){return no(ro(t))}});var oo={};oo[ne("toStringTag")]="z";var io="[object z]"===String(oo),ao=io,uo=J,co=M,so=ne("toStringTag"),fo=Object,lo="Arguments"==co(function(){return arguments}()),po=ao?co:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=fo(t),so))?r:lo?co(e):"Object"==(n=co(e))&&uo(e.callee)?"Arguments":n},vo=po,ho=String,yo=function(t){if("Symbol"===vo(t))throw TypeError("Cannot convert a Symbol value to a string");return ho(t)},bo={},go=v,mo=Ne,wo=Ie,_o=Me,xo=W,So=eo;bo.f=go&&!mo?Object.defineProperties:function(t,e){_o(t);for(var r,n=xo(e),o=So(e),i=o.length,a=0;i>a;)wo.f(t,r=o[a++],n[r]);return t};var Oo,Eo=Q("document","documentElement"),ko=Me,jo=bo,To=xn,Po=hr,Io=Eo,No=ge,Co=vr("IE_PROTO"),Lo=function(){},Ro=function(t){return"<script>"+t+"<\/script>"},Mo=function(t){t.write(Ro("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ao=function(){try{Oo=new ActiveXObject("htmlfile")}catch(t){}var t,e;Ao="undefined"!=typeof document?document.domain&&Oo?Mo(Oo):((e=No("iframe")).style.display="none",Io.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ro("document.F=Object")),t.close(),t.F):Mo(Oo);for(var r=To.length;r--;)delete Ao.prototype[To[r]];return Ao()};Po[Co]=!0;var Do=Object.create||function(t,e){var r;return null!==t?(Lo.prototype=ko(t),r=new Lo,Lo.prototype=null,r[Co]=t):r=Ao(),void 0===e?r:jo.f(r,e)},Fo={},Uo=ve,Vo=Ie,Go=E,zo=function(t,e,r){var n=Uo(e);n in t?Vo.f(t,n,Go(0,r)):t[n]=r},Ko=on,Bo=fn,Wo=zo,Jo=Array,Ho=Math.max,Yo=function(t,e,r){for(var n=Bo(t),o=Ko(e,n),i=Ko(void 0===r?n:r,n),a=Jo(Ho(i-o,0)),u=0;o<i;o++,u++)Wo(a,u,t[o]);return a.length=u,a},$o=M,Xo=W,qo=Xr.f,Qo=Yo,Zo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Fo.f=function(t){return Zo&&"Window"==$o(t)?function(t){try{return qo(t)}catch(t){return Qo(Zo)}}(t):qo(Xo(t))};var ti={},ei=ne;ti.f=ei;var ri=l,ni=Gt,oi=ti,ii=Ie.f,ai=g,ui=Q,ci=ne,si=$r,fi=Ie.f,li=Gt,pi=ne("toStringTag"),di=function(t,e,r){t&&!r&&(t=t.prototype),t&&!li(t,pi)&&fi(t,pi,{configurable:!0,value:e})},vi=xt,hi=h,yi=N(N.bind),bi=function(t,e){return vi(t),void 0===e?t:hi?yi(t,e):function(){return t.apply(e,arguments)}},gi=M,mi=Array.isArray||function(t){return"Array"==gi(t)},wi=N,_i=d,xi=J,Si=po,Oi=ar,Ei=function(){},ki=[],ji=Q("Reflect","construct"),Ti=/^\s*(?:class|function)\b/,Pi=wi(Ti.exec),Ii=!Ti.exec(Ei),Ni=function(t){if(!xi(t))return!1;try{return ji(Ei,ki,t),!0}catch(t){return!1}},Ci=function(t){if(!xi(t))return!1;switch(Si(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ii||!!Pi(Ti,Oi(t))}catch(t){return!0}};Ci.sham=!0;var Li=!ji||_i((function(){var t;return Ni(Ni.call)||!Ni(Object)||!Ni((function(){t=!0}))||t}))?Ci:Ni,Ri=mi,Mi=Li,Ai=Y,Di=ne("species"),Fi=Array,Ui=function(t){var e;return Ri(t)&&(e=t.constructor,(Mi(e)&&(e===Fi||Ri(e.prototype))||Ai(e)&&null===(e=e[Di]))&&(e=void 0)),void 0===e?Fi:e},Vi=function(t,e){return new(Ui(t))(0===e?0:e)},Gi=bi,zi=V,Ki=Ft,Bi=fn,Wi=Vi,Ji=N([].push),Hi=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,d,v=Ki(c),h=zi(v),y=Gi(s,f),b=Bi(h),g=0,m=l||Wi,w=e?m(c,b):r||a?m(c,0):void 0;b>g;g++)if((u||g in h)&&(d=y(p=h[g],g,v),t))if(e)w[g]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return g;case 2:Ji(w,p)}else switch(t){case 4:return!1;case 7:Ji(w,p)}return i?-1:n||o?o:w}},Yi={forEach:Hi(0),map:Hi(1),filter:Hi(2),some:Hi(3),every:Hi(4),find:Hi(5),findIndex:Hi(6),filterReject:Hi(7)},$i=Qn,Xi=l,qi=g,Qi=N,Zi=v,ta=ft,ea=d,ra=Gt,na=Z,oa=Me,ia=W,aa=ve,ua=yo,ca=E,sa=Do,fa=eo,la=Xr,pa=Fo,da=En,va=p,ha=Ie,ya=bo,ba=m,ga=$r,ma=Pt.exports,wa=hr,_a=Jt,xa=ne,Sa=ti,Oa=function(t){var e=ri.Symbol||(ri.Symbol={});ni(e,t)||ii(e,t,{value:oi.f(t)})},Ea=function(){var t=ui("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=ci("toPrimitive");e&&!e[n]&&si(e,n,(function(t){return ai(r,this)}),{arity:1})},ka=di,ja=Cr,Ta=Yi.forEach,Pa=vr("hidden"),Ia=ja.set,Na=ja.getterFor("Symbol"),Ca=Object.prototype,La=Xi.Symbol,Ra=La&&La.prototype,Ma=Xi.TypeError,Aa=Xi.QObject,Da=va.f,Fa=ha.f,Ua=pa.f,Va=ba.f,Ga=Qi([].push),za=ma("symbols"),Ka=ma("op-symbols"),Ba=ma("wks"),Wa=!Aa||!Aa.prototype||!Aa.prototype.findChild,Ja=Zi&&ea((function(){return 7!=sa(Fa({},"a",{get:function(){return Fa(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Da(Ca,e);n&&delete Ca[e],Fa(t,e,r),n&&t!==Ca&&Fa(Ca,e,n)}:Fa,Ha=function(t,e){var r=za[t]=sa(Ra);return Ia(r,{type:"Symbol",tag:t,description:e}),Zi||(r.description=e),r},Ya=function(t,e,r){t===Ca&&Ya(Ka,e,r),oa(t);var n=aa(e);return oa(r),ra(za,n)?(r.enumerable?(ra(t,Pa)&&t[Pa][n]&&(t[Pa][n]=!1),r=sa(r,{enumerable:ca(0,!1)})):(ra(t,Pa)||Fa(t,Pa,ca(1,{})),t[Pa][n]=!0),Ja(t,n,r)):Fa(t,n,r)},$a=function(t,e){oa(t);var r=ia(e),n=fa(r).concat(Za(r));return Ta(n,(function(e){Zi&&!qi(Xa,r,e)||Ya(t,e,r[e])})),t},Xa=function(t){var e=aa(t),r=qi(Va,this,e);return!(this===Ca&&ra(za,e)&&!ra(Ka,e))&&(!(r||!ra(this,e)||!ra(za,e)||ra(this,Pa)&&this[Pa][e])||r)},qa=function(t,e){var r=ia(t),n=aa(e);if(r!==Ca||!ra(za,n)||ra(Ka,n)){var o=Da(r,n);return!o||!ra(za,n)||ra(r,Pa)&&r[Pa][n]||(o.enumerable=!0),o}},Qa=function(t){var e=Ua(ia(t)),r=[];return Ta(e,(function(t){ra(za,t)||ra(wa,t)||Ga(r,t)})),r},Za=function(t){var e=t===Ca,r=Ua(e?Ka:ia(t)),n=[];return Ta(r,(function(t){!ra(za,t)||e&&!ra(Ca,t)||Ga(n,za[t])})),n};ta||(ga(Ra=(La=function(){if(na(Ra,this))throw Ma("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?ua(arguments[0]):void 0,e=_a(t),r=function(t){this===Ca&&qi(r,Ka,t),ra(this,Pa)&&ra(this[Pa],e)&&(this[Pa][e]=!1),Ja(this,e,ca(1,t))};return Zi&&Wa&&Ja(Ca,e,{configurable:!0,set:r}),Ha(e,t)}).prototype,"toString",(function(){return Na(this).tag})),ga(La,"withoutSetter",(function(t){return Ha(_a(t),t)})),ba.f=Xa,ha.f=Ya,ya.f=$a,va.f=qa,la.f=pa.f=Qa,da.f=Za,Sa.f=function(t){return Ha(xa(t),t)},Zi&&(Fa(Ra,"description",{configurable:!0,get:function(){return Na(this).description}}),ga(Ca,"propertyIsEnumerable",Xa,{unsafe:!0}))),$i({global:!0,constructor:!0,wrap:!0,forced:!ta,sham:!ta},{Symbol:La}),Ta(fa(Ba),(function(t){Oa(t)})),$i({target:"Symbol",stat:!0,forced:!ta},{useSetter:function(){Wa=!0},useSimple:function(){Wa=!1}}),$i({target:"Object",stat:!0,forced:!ta,sham:!Zi},{create:function(t,e){return void 0===e?sa(t):$a(sa(t),e)},defineProperty:Ya,defineProperties:$a,getOwnPropertyDescriptor:qa}),$i({target:"Object",stat:!0,forced:!ta},{getOwnPropertyNames:Qa}),Ea(),ka(La,"Symbol"),wa[Pa]=!0;var tu=ft&&!!Symbol.for&&!!Symbol.keyFor,eu=Qn,ru=Q,nu=Gt,ou=yo,iu=Pt.exports,au=tu,uu=iu("string-to-symbol-registry"),cu=iu("symbol-to-string-registry");eu({target:"Symbol",stat:!0,forced:!au},{for:function(t){var e=ou(t);if(nu(uu,e))return uu[e];var r=ru("Symbol")(e);return uu[e]=r,cu[r]=e,r}});var su=Qn,fu=Gt,lu=yt,pu=gt,du=tu,vu=(0,Pt.exports)("symbol-to-string-registry");su({target:"Symbol",stat:!0,forced:!du},{keyFor:function(t){if(!lu(t))throw TypeError(pu(t)+" is not a symbol");if(fu(vu,t))return vu[t]}});var hu=h,yu=Function.prototype,bu=yu.apply,gu=yu.call,mu="object"==typeof Reflect&&Reflect.apply||(hu?gu.bind(bu):function(){return gu.apply(bu,arguments)}),wu=N([].slice),_u=Qn,xu=Q,Su=mu,Ou=g,Eu=N,ku=d,ju=mi,Tu=J,Pu=Y,Iu=yt,Nu=wu,Cu=ft,Lu=xu("JSON","stringify"),Ru=Eu(/./.exec),Mu=Eu("".charAt),Au=Eu("".charCodeAt),Du=Eu("".replace),Fu=Eu(1..toString),Uu=/[\uD800-\uDFFF]/g,Vu=/^[\uD800-\uDBFF]$/,Gu=/^[\uDC00-\uDFFF]$/,zu=!Cu||ku((function(){var t=xu("Symbol")();return"[null]"!=Lu([t])||"{}"!=Lu({a:t})||"{}"!=Lu(Object(t))})),Ku=ku((function(){return'"\\udf06\\ud834"'!==Lu("\udf06\ud834")||'"\\udead"'!==Lu("\udead")})),Bu=function(t,e){var r=Nu(arguments),n=e;if((Pu(e)||void 0!==t)&&!Iu(t))return ju(e)||(e=function(t,e){if(Tu(n)&&(e=Ou(n,this,t,e)),!Iu(e))return e}),r[1]=e,Su(Lu,null,r)},Wu=function(t,e,r){var n=Mu(r,e-1),o=Mu(r,e+1);return Ru(Vu,t)&&!Ru(Gu,o)||Ru(Gu,t)&&!Ru(Vu,n)?"\\u"+Fu(Au(t,0),16):t};Lu&&_u({target:"JSON",stat:!0,arity:3,forced:zu||Ku},{stringify:function(t,e,r){var n=Nu(arguments),o=Su(zu?Bu:Lu,null,n);return Ku&&"string"==typeof o?Du(o,Uu,Wu):o}});var Ju=En,Hu=Ft;Qn({target:"Object",stat:!0,forced:!ft||d((function(){Ju.f(1)}))},{getOwnPropertySymbols:function(t){var e=Ju.f;return e?e(Hu(t)):[]}});var Yu=d,$u=ut,Xu=ne("species"),qu=function(t){return $u>=51||!Yu((function(){var e=[];return(e.constructor={})[Xu]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Qu=Yi.filter;Qn({target:"Array",proto:!0,forced:!qu("filter")},{filter:function(t){return Qu(this,t,arguments.length>1?arguments[1]:void 0)}});var Zu=Qn,tc=d,ec=W,rc=p.f,nc=v,oc=tc((function(){rc(1)}));Zu({target:"Object",stat:!0,forced:!nc||oc,sham:!nc},{getOwnPropertyDescriptor:function(t,e){return rc(ec(t),e)}});var ic=ge("span").classList,ac=ic&&ic.constructor&&ic.constructor.prototype,uc=ac===Object.prototype?void 0:ac,cc=d,sc=function(t,e){var r=[][t];return!!r&&cc((function(){r.call(null,e||function(){return 1},1)}))},fc=Yi.forEach,lc=sc("forEach")?[].forEach:function(t){return fc(this,t,arguments.length>1?arguments[1]:void 0)},pc=l,dc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vc=uc,hc=lc,yc=Je,bc=function(t){if(t&&t.forEach!==hc)try{yc(t,"forEach",hc)}catch(e){t.forEach=hc}};for(var gc in dc)dc[gc]&&bc(pc[gc]&&pc[gc].prototype);bc(vc);var mc=Nn,wc=W,_c=p,xc=zo;Qn({target:"Object",stat:!0,sham:!v},{getOwnPropertyDescriptors:function(t){for(var e,r,n=wc(t),o=_c.f,i=mc(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&xc(a,e,r);return a}});var Sc=Qn,Oc=v,Ec=bo.f;Sc({target:"Object",stat:!0,forced:Object.defineProperties!==Ec,sham:!Oc},{defineProperties:Ec});var kc=Qn,jc=v,Tc=Ie.f;kc({target:"Object",stat:!0,forced:Object.defineProperty!==Tc,sham:!jc},{defineProperty:Tc});var Pc={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(Pc);var Ic,Nc=s(Pc.exports),Cc={exports:{}};(Ic=Cc).exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ic.exports.__esModule=!0,Ic.exports.default=Ic.exports;var Lc=s(Cc.exports),Rc={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Rc);var Mc=s(Rc.exports),Ac={exports:{}};!function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}(Ac);var Dc=s(Ac.exports),Fc={exports:{}},Uc={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Uc),function(t){var e=Uc.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=l;var d={};function v(){}function h(){}function y(){}var b={};f(b,u,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(j([])));m&&m!==o&&i.call(m,u)&&(b=m);var w=y.prototype=v.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,r){function n(o,a,u,c){var s=p(t[o],t,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==e(l)&&i.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):r.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=y,f(w,"constructor",y),f(y,"constructor",h),h.displayName=f(y,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},_(x.prototype),f(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new x(l(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),f(w,s,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Fc);var Vc=Fc.exports(),Gc=Vc;try{regeneratorRuntime=Vc}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Vc:Function("r","regeneratorRuntime = r")(Vc)}var zc,Kc=Y,Bc=M,Wc=ne("match"),Jc=function(t){var e;return Kc(t)&&(void 0!==(e=t[Wc])?!!e:"RegExp"==Bc(t))},Hc=Jc,Yc=TypeError,$c=function(t){if(Hc(t))throw Yc("The method doesn't accept regular expressions");return t},Xc=ne("match"),qc=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Xc]=!1,"/./"[t](e)}catch(t){}}return!1},Qc=Qn,Zc=N,ts=p.f,es=cn,rs=yo,ns=$c,os=z,is=qc,as=Zc("".startsWith),us=Zc("".slice),cs=Math.min,ss=is("startsWith");Qc({target:"String",proto:!0,forced:!!(ss||(zc=ts(String.prototype,"startsWith"),!zc||zc.writable))&&!ss},{startsWith:function(t){var e=rs(os(this));ns(t);var r=es(cs(arguments.length>1?arguments[1]:void 0,e.length)),n=rs(t);return as?as(e,n,r):us(e,r,r+n.length)===n}});var fs=Qn,ls=mi,ps=Li,ds=Y,vs=on,hs=fn,ys=W,bs=zo,gs=ne,ms=wu,ws=qu("slice"),_s=gs("species"),xs=Array,Ss=Math.max;fs({target:"Array",proto:!0,forced:!ws},{slice:function(t,e){var r,n,o,i=ys(this),a=hs(i),u=vs(t,a),c=vs(void 0===e?a:e,a);if(ls(i)&&(r=i.constructor,(ps(r)&&(r===xs||ls(r.prototype))||ds(r)&&null===(r=r[_s]))&&(r=void 0),r===xs||void 0===r))return ms(i,u,c);for(n=new(void 0===r?xs:r)(Ss(c-u,0)),o=0;u<c;u++,o++)u in i&&bs(n,o,i[u]);return n.length=o,n}});var Os=TypeError,Es=Qn,ks=d,js=mi,Ts=Y,Ps=Ft,Is=fn,Ns=function(t){if(t>9007199254740991)throw Os("Maximum allowed index exceeded");return t},Cs=zo,Ls=Vi,Rs=qu,Ms=ut,As=ne("isConcatSpreadable"),Ds=Ms>=51||!ks((function(){var t=[];return t[As]=!1,t.concat()[0]!==t})),Fs=Rs("concat"),Us=function(t){if(!Ts(t))return!1;var e=t[As];return void 0!==e?!!e:js(t)};Es({target:"Array",proto:!0,arity:1,forced:!Ds||!Fs},{concat:function(t){var e,r,n,o,i,a=Ps(this),u=Ls(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Us(i=-1===e?a:arguments[e]))for(o=Is(i),Ns(c+o),r=0;r<o;r++,c++)r in i&&Cs(u,c,i[r]);else Ns(c+1),Cs(u,c++,i);return u.length=c,u}});var Vs=ne,Gs=Do,zs=Ie.f,Ks=Vs("unscopables"),Bs=Array.prototype;null==Bs[Ks]&&zs(Bs,Ks,{configurable:!0,value:Gs(null)});var Ws=function(t){Bs[Ks][t]=!0},Js=hn.includes,Hs=Ws;Qn({target:"Array",proto:!0,forced:d((function(){return!Array(1).includes()}))},{includes:function(t){return Js(this,t,arguments.length>1?arguments[1]:void 0)}}),Hs("includes");var Ys=Qn,$s=$c,Xs=z,qs=yo,Qs=qc,Zs=N("".indexOf);Ys({target:"String",proto:!0,forced:!Qs("includes")},{includes:function(t){return!!~Zs(qs(Xs(this)),qs($s(t)),arguments.length>1?arguments[1]:void 0)}});var tf,ef,rf=Me,nf=d,of=l.RegExp,af=nf((function(){var t=of("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),uf=af||nf((function(){return!of("a","y").sticky})),cf={BROKEN_CARET:af||nf((function(){var t=of("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:uf,UNSUPPORTED_Y:af},sf=d,ff=l.RegExp,lf=sf((function(){var t=ff(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),pf=d,df=l.RegExp,vf=pf((function(){var t=df("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),hf=g,yf=N,bf=yo,gf=function(){var t=rf(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},mf=cf,wf=Pt.exports,_f=Do,xf=Cr.get,Sf=lf,Of=vf,Ef=wf("native-string-replace",String.prototype.replace),kf=RegExp.prototype.exec,jf=kf,Tf=yf("".charAt),Pf=yf("".indexOf),If=yf("".replace),Nf=yf("".slice),Cf=(ef=/b*/g,hf(kf,tf=/a/,"a"),hf(kf,ef,"a"),0!==tf.lastIndex||0!==ef.lastIndex),Lf=mf.BROKEN_CARET,Rf=void 0!==/()??/.exec("")[1];(Cf||Rf||Lf||Sf||Of)&&(jf=function(t){var e,r,n,o,i,a,u,c=this,s=xf(c),f=bf(t),l=s.raw;if(l)return l.lastIndex=c.lastIndex,e=hf(jf,l,f),c.lastIndex=l.lastIndex,e;var p=s.groups,d=Lf&&c.sticky,v=hf(gf,c),h=c.source,y=0,b=f;if(d&&(v=If(v,"y",""),-1===Pf(v,"g")&&(v+="g"),b=Nf(f,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Tf(f,c.lastIndex-1))&&(h="(?: "+h+")",b=" "+b,y++),r=new RegExp("^(?:"+h+")",v)),Rf&&(r=new RegExp("^"+h+"$(?!\\s)",v)),Cf&&(n=c.lastIndex),o=hf(kf,d?r:c,b),d?o?(o.input=Nf(o.input,y),o[0]=Nf(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Cf&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),Rf&&o&&o.length>1&&hf(Ef,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=_f(null),i=0;i<p.length;i++)a[(u=p[i])[0]]=o[u[1]];return o});var Mf=jf;Qn({target:"RegExp",proto:!0,forced:/./.exec!==Mf},{exec:Mf});var Af=N,Df=$r,Ff=Mf,Uf=d,Vf=ne,Gf=Je,zf=Vf("species"),Kf=RegExp.prototype,Bf=Li,Wf=gt,Jf=TypeError,Hf=Me,Yf=function(t){if(Bf(t))return t;throw Jf(Wf(t)+" is not a constructor")},$f=ne("species"),Xf=function(t,e){var r,n=Hf(t).constructor;return void 0===n||null==(r=Hf(n)[$f])?e:Yf(r)},qf=N,Qf=tn,Zf=yo,tl=z,el=qf("".charAt),rl=qf("".charCodeAt),nl=qf("".slice),ol=function(t){return function(e,r){var n,o,i=Zf(tl(e)),a=Qf(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=rl(i,a))<55296||n>56319||a+1===u||(o=rl(i,a+1))<56320||o>57343?t?el(i,a):n:t?nl(i,a,a+2):o-56320+(n-55296<<10)+65536}},il={codeAt:ol(!1),charAt:ol(!0)}.charAt,al=g,ul=Me,cl=J,sl=M,fl=Mf,ll=TypeError,pl=mu,dl=g,vl=N,hl=function(t,e,r,n){var o=Vf(t),i=!Uf((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!Uf((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[zf]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var u=Af(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var a=Af(t),c=e.exec;return c===Ff||c===Kf.exec?i&&!o?{done:!0,value:u(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));Df(String.prototype,t,c[0]),Df(Kf,o,c[1])}n&&Gf(Kf[o],"sham",!0)},yl=Jc,bl=Me,gl=z,ml=Xf,wl=function(t,e,r){return e+(r?il(t,e).length:1)},_l=cn,xl=yo,Sl=Ot,Ol=Yo,El=function(t,e){var r=t.exec;if(cl(r)){var n=al(r,t,e);return null!==n&&ul(n),n}if("RegExp"===sl(t))return al(fl,t,e);throw ll("RegExp#exec called on incompatible receiver")},kl=Mf,jl=d,Tl=cf.UNSUPPORTED_Y,Pl=Math.min,Il=[].push,Nl=vl(/./.exec),Cl=vl(Il),Ll=vl("".slice);hl("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=xl(gl(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!yl(t))return dl(e,n,t,o);for(var i,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=new RegExp(t.source,s+"g");(i=dl(kl,l,n))&&!((a=l.lastIndex)>f&&(Cl(c,Ll(n,f,i.index)),i.length>1&&i.index<n.length&&pl(Il,c,Ol(i,1)),u=i[0].length,f=a,c.length>=o));)l.lastIndex===i.index&&l.lastIndex++;return f===n.length?!u&&Nl(l,"")||Cl(c,""):Cl(c,Ll(n,f)),c.length>o?Ol(c,0,o):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:dl(e,this,t,r)}:e,[function(e,r){var o=gl(this),i=null==e?void 0:Sl(e,t);return i?dl(i,e,o,r):dl(n,xl(o),e,r)},function(t,o){var i=bl(this),a=xl(t),u=r(n,i,a,o,n!==e);if(u.done)return u.value;var c=ml(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Tl?"g":"y"),l=new c(Tl?"^(?:"+i.source+")":i,f),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===El(l,a)?[a]:[];for(var d=0,v=0,h=[];v<a.length;){l.lastIndex=Tl?0:v;var y,b=El(l,Tl?Ll(a,v):a);if(null===b||(y=Pl(_l(l.lastIndex+(Tl?v:0)),a.length))===d)v=wl(a,v,s);else{if(Cl(h,Ll(a,d,v)),h.length===p)return h;for(var g=1;g<=b.length-1;g++)if(Cl(h,b[g]),h.length===p)return h;v=d=y}}return Cl(h,Ll(a,d)),h}]}),!!jl((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Tl);var Rl=po,Ml=io?{}.toString:function(){return"[object "+Rl(this)+"]"};io||$r(Object.prototype,"toString",Ml,{unsafe:!0});var Al,Dl,Fl,Ul,Vl="process"==M(l.process),Gl=J,zl=String,Kl=TypeError,Bl=N,Wl=Me,Jl=function(t){if("object"==typeof t||Gl(t))return t;throw Kl("Can't set "+zl(t)+" as a prototype")},Hl=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Bl(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Wl(r),Jl(n),e?t(r,n):r.__proto__=n,r}}():void 0),Yl=Q,$l=Ie,Xl=v,ql=ne("species"),Ql=Z,Zl=TypeError,tp=TypeError,ep=function(t,e){if(t<e)throw tp("Not enough arguments");return t},rp=/(?:ipad|iphone|ipod).*applewebkit/i.test(tt),np=l,op=mu,ip=bi,ap=J,up=Gt,cp=d,sp=Eo,fp=wu,lp=ge,pp=ep,dp=rp,vp=Vl,hp=np.setImmediate,yp=np.clearImmediate,bp=np.process,gp=np.Dispatch,mp=np.Function,wp=np.MessageChannel,_p=np.String,xp=0,Sp={};try{Al=np.location}catch(t){}var Op=function(t){if(up(Sp,t)){var e=Sp[t];delete Sp[t],e()}},Ep=function(t){return function(){Op(t)}},kp=function(t){Op(t.data)},jp=function(t){np.postMessage(_p(t),Al.protocol+"//"+Al.host)};hp&&yp||(hp=function(t){pp(arguments.length,1);var e=ap(t)?t:mp(t),r=fp(arguments,1);return Sp[++xp]=function(){op(e,void 0,r)},Dl(xp),xp},yp=function(t){delete Sp[t]},vp?Dl=function(t){bp.nextTick(Ep(t))}:gp&&gp.now?Dl=function(t){gp.now(Ep(t))}:wp&&!dp?(Ul=(Fl=new wp).port2,Fl.port1.onmessage=kp,Dl=ip(Ul.postMessage,Ul)):np.addEventListener&&ap(np.postMessage)&&!np.importScripts&&Al&&"file:"!==Al.protocol&&!cp(jp)?(Dl=jp,np.addEventListener("message",kp,!1)):Dl="onreadystatechange"in lp("script")?function(t){sp.appendChild(lp("script")).onreadystatechange=function(){sp.removeChild(this),Op(t)}}:function(t){setTimeout(Ep(t),0)});var Tp,Pp,Ip,Np,Cp,Lp,Rp,Mp,Ap={set:hp,clear:yp},Dp=l,Fp=/ipad|iphone|ipod/i.test(tt)&&void 0!==Dp.Pebble,Up=/web0s(?!.*chrome)/i.test(tt),Vp=l,Gp=bi,zp=p.f,Kp=Ap.set,Bp=rp,Wp=Fp,Jp=Up,Hp=Vl,Yp=Vp.MutationObserver||Vp.WebKitMutationObserver,$p=Vp.document,Xp=Vp.process,qp=Vp.Promise,Qp=zp(Vp,"queueMicrotask"),Zp=Qp&&Qp.value;Zp||(Tp=function(){var t,e;for(Hp&&(t=Xp.domain)&&t.exit();Pp;){e=Pp.fn,Pp=Pp.next;try{e()}catch(t){throw Pp?Np():Ip=void 0,t}}Ip=void 0,t&&t.enter()},Bp||Hp||Jp||!Yp||!$p?!Wp&&qp&&qp.resolve?((Rp=qp.resolve(void 0)).constructor=qp,Mp=Gp(Rp.then,Rp),Np=function(){Mp(Tp)}):Hp?Np=function(){Xp.nextTick(Tp)}:(Kp=Gp(Kp,Vp),Np=function(){Kp(Tp)}):(Cp=!0,Lp=$p.createTextNode(""),new Yp(Tp).observe(Lp,{characterData:!0}),Np=function(){Lp.data=Cp=!Cp}));var td=Zp||function(t){var e={fn:t,next:void 0};Ip&&(Ip.next=e),Pp||(Pp=e,Np()),Ip=e},ed=l,rd=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},nd=function(){this.head=null,this.tail=null};nd.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var od=nd,id=l.Promise,ad="object"==typeof window&&"object"!=typeof Deno,ud=l,cd=id,sd=J,fd=Bn,ld=ar,pd=ne,dd=ad,vd=ut;cd&&cd.prototype;var hd=pd("species"),yd=!1,bd=sd(ud.PromiseRejectionEvent),gd=fd("Promise",(function(){var t=ld(cd),e=t!==String(cd);if(!e&&66===vd)return!0;if(vd>=51&&/native code/.test(t))return!1;var r=new cd((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[hd]=n,!(yd=r.then((function(){}))instanceof n)||!e&&dd&&!bd})),md={CONSTRUCTOR:gd,REJECTION_EVENT:bd,SUBCLASSING:yd},wd={},_d=xt,xd=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=_d(e),this.reject=_d(r)};wd.f=function(t){return new xd(t)};var Sd,Od,Ed,kd=Qn,jd=Vl,Td=l,Pd=g,Id=$r,Nd=Hl,Cd=di,Ld=function(t){var e=Yl(t),r=$l.f;Xl&&e&&!e[ql]&&r(e,ql,{configurable:!0,get:function(){return this}})},Rd=xt,Md=J,Ad=Y,Dd=function(t,e){if(Ql(e,t))return t;throw Zl("Incorrect invocation")},Fd=Xf,Ud=Ap.set,Vd=td,Gd=function(t,e){var r=ed.console;r&&r.error},zd=rd,Kd=od,Bd=Cr,Wd=id,Jd=wd,Hd=md.CONSTRUCTOR,Yd=md.REJECTION_EVENT,$d=md.SUBCLASSING,Xd=Bd.getterFor("Promise"),qd=Bd.set,Qd=Wd&&Wd.prototype,Zd=Wd,tv=Qd,ev=Td.TypeError,rv=Td.document,nv=Td.process,ov=Jd.f,iv=ov,av=!!(rv&&rv.createEvent&&Td.dispatchEvent),uv=function(t){var e;return!(!Ad(t)||!Md(e=t.then))&&e},cv=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&dv(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s(ev("Promise-chain cycle")):(n=uv(r))?Pd(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},sv=function(t,e){t.notified||(t.notified=!0,Vd((function(){for(var r,n=t.reactions;r=n.get();)cv(r,t);t.notified=!1,e&&!t.rejection&&lv(t)})))},fv=function(t,e,r){var n,o;av?((n=rv.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),Td.dispatchEvent(n)):n={promise:e,reason:r},!Yd&&(o=Td["on"+t])?o(n):"unhandledrejection"===t&&Gd("Unhandled promise rejection",r)},lv=function(t){Pd(Ud,Td,(function(){var e,r=t.facade,n=t.value;if(pv(t)&&(e=zd((function(){jd?nv.emit("unhandledRejection",n,r):fv("unhandledrejection",r,n)})),t.rejection=jd||pv(t)?2:1,e.error))throw e.value}))},pv=function(t){return 1!==t.rejection&&!t.parent},dv=function(t){Pd(Ud,Td,(function(){var e=t.facade;jd?nv.emit("rejectionHandled",e):fv("rejectionhandled",e,t.value)}))},vv=function(t,e,r){return function(n){t(e,n,r)}},hv=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,sv(t,!0))},yv=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw ev("Promise can't be resolved itself");var n=uv(e);n?Vd((function(){var r={done:!1};try{Pd(n,e,vv(yv,r,t),vv(hv,r,t))}catch(e){hv(r,e,t)}})):(t.value=e,t.state=1,sv(t,!1))}catch(e){hv({done:!1},e,t)}}};if(Hd&&(tv=(Zd=function(t){Dd(this,tv),Rd(t),Pd(Sd,this);var e=Xd(this);try{t(vv(yv,e),vv(hv,e))}catch(t){hv(e,t)}}).prototype,(Sd=function(t){qd(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Kd,rejection:!1,state:0,value:void 0})}).prototype=Id(tv,"then",(function(t,e){var r=Xd(this),n=ov(Fd(this,Zd));return r.parent=!0,n.ok=!Md(t)||t,n.fail=Md(e)&&e,n.domain=jd?nv.domain:void 0,0==r.state?r.reactions.add(n):Vd((function(){cv(n,r)})),n.promise})),Od=function(){var t=new Sd,e=Xd(t);this.promise=t,this.resolve=vv(yv,e),this.reject=vv(hv,e)},Jd.f=ov=function(t){return t===Zd||undefined===t?new Od(t):iv(t)},Md(Wd)&&Qd!==Object.prototype)){Ed=Qd.then,$d||Id(Qd,"then",(function(t,e){var r=this;return new Zd((function(t,e){Pd(Ed,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete Qd.constructor}catch(t){}Nd&&Nd(Qd,tv)}kd({global:!0,constructor:!0,wrap:!0,forced:Hd},{Promise:Zd}),Cd(Zd,"Promise",!1),Ld("Promise");var bv={},gv=bv,mv=ne("iterator"),wv=Array.prototype,_v=po,xv=Ot,Sv=bv,Ov=ne("iterator"),Ev=function(t){if(null!=t)return xv(t,Ov)||xv(t,"@@iterator")||Sv[_v(t)]},kv=g,jv=xt,Tv=Me,Pv=gt,Iv=Ev,Nv=TypeError,Cv=g,Lv=Me,Rv=Ot,Mv=bi,Av=g,Dv=Me,Fv=gt,Uv=function(t){return void 0!==t&&(gv.Array===t||wv[mv]===t)},Vv=fn,Gv=Z,zv=function(t,e){var r=arguments.length<2?Iv(t):e;if(jv(r))return Tv(kv(r,t));throw Nv(Pv(t)+" is not iterable")},Kv=Ev,Bv=function(t,e,r){var n,o;Lv(t);try{if(!(n=Rv(t,"return"))){if("throw"===e)throw r;return r}n=Cv(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Lv(n),r},Wv=TypeError,Jv=function(t,e){this.stopped=t,this.result=e},Hv=Jv.prototype,Yv=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),v=Mv(e,f),h=function(t){return n&&Bv(n,"normal",t),new Jv(!0,t)},y=function(t){return l?(Dv(t),d?v(t[0],t[1],h):v(t[0],t[1])):d?v(t,h):v(t)};if(p)n=t;else{if(!(o=Kv(t)))throw Wv(Fv(t)+" is not iterable");if(Uv(o)){for(i=0,a=Vv(t);a>i;i++)if((u=y(t[i]))&&Gv(Hv,u))return u;return new Jv(!1)}n=zv(t,o)}for(c=n.next;!(s=Av(c,n)).done;){try{u=y(s.value)}catch(t){Bv(n,"throw",t)}if("object"==typeof u&&u&&Gv(Hv,u))return u}return new Jv(!1)},$v=ne("iterator"),Xv=!1;try{var qv=0,Qv={next:function(){return{done:!!qv++}},return:function(){Xv=!0}};Qv[$v]=function(){return this},Array.from(Qv,(function(){throw 2}))}catch(t){}var Zv=id,th=function(t,e){if(!e&&!Xv)return!1;var r=!1;try{var n={};n[$v]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},eh=md.CONSTRUCTOR||!th((function(t){Zv.all(t).then(void 0,(function(){}))})),rh=g,nh=xt,oh=wd,ih=rd,ah=Yv;Qn({target:"Promise",stat:!0,forced:eh},{all:function(t){var e=this,r=oh.f(e),n=r.resolve,o=r.reject,i=ih((function(){var r=nh(e.resolve),i=[],a=0,u=1;ah(t,(function(t){var c=a++,s=!1;u++,rh(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var uh=Qn,ch=md.CONSTRUCTOR,sh=id,fh=Q,lh=J,ph=$r,dh=sh&&sh.prototype;if(uh({target:"Promise",proto:!0,forced:ch,real:!0},{catch:function(t){return this.then(void 0,t)}}),lh(sh)){var vh=fh("Promise").prototype.catch;dh.catch!==vh&&ph(dh,"catch",vh,{unsafe:!0})}var hh=g,yh=xt,bh=wd,gh=rd,mh=Yv;Qn({target:"Promise",stat:!0,forced:eh},{race:function(t){var e=this,r=bh.f(e),n=r.reject,o=gh((function(){var o=yh(e.resolve);mh(t,(function(t){hh(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var wh=g,_h=wd;Qn({target:"Promise",stat:!0,forced:md.CONSTRUCTOR},{reject:function(t){var e=_h.f(this);return wh(e.reject,void 0,t),e.promise}});var xh=Me,Sh=Y,Oh=wd,Eh=Qn,kh=md.CONSTRUCTOR,jh=function(t,e){if(xh(t),Sh(e)&&e.constructor===t)return e;var r=Oh.f(t);return(0,r.resolve)(e),r.promise};Q("Promise"),Eh({target:"Promise",stat:!0,forced:kh},{resolve:function(t){return jh(this,t)}});Qn({target:"Array",proto:!0,forced:[].forEach!=lc},{forEach:lc});var Th=Qn,Ph=Date,Ih=N(Ph.prototype.getTime);Th({target:"Date",stat:!0},{now:function(){return Ih(new Ph)}});var Nh=N,Ch=$r,Lh=Date.prototype,Rh=Nh(Lh.toString),Mh=Nh(Lh.getTime);"Invalid Date"!=String(new Date(NaN))&&Ch(Lh,"toString",(function(){var t=Mh(this);return t==t?Rh(this):"Invalid Date"}));var Ah=v,Dh=Ze.EXISTS,Fh=N,Uh=Ie.f,Vh=Function.prototype,Gh=Fh(Vh.toString),zh=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Kh=Fh(zh.exec);Ah&&!Dh&&Uh(Vh,"name",{configurable:!0,get:function(){try{return Kh(zh,Gh(this))[1]}catch(t){return""}}});var Bh=l,Wh=mu,Jh=J,Hh=wu,Yh=ep,$h=/MSIE .\./.test(tt),Xh=Bh.Function,qh=function(t){return $h?function(e,r){var n=Yh(arguments.length,1)>2,o=Jh(e)?e:Xh(e),i=n?Hh(arguments,2):void 0;return t(n?function(){Wh(o,this,i)}:o,r)}:t},Qh={setTimeout:qh(Bh.setTimeout),setInterval:qh(Bh.setInterval)},Zh=Qh.setInterval;Qn({global:!0,bind:!0,forced:l.setInterval!==Zh},{setInterval:Zh});var ty=Qh.setTimeout;Qn({global:!0,bind:!0,forced:l.setTimeout!==ty},{setTimeout:ty});var ey=Qn,ry=Yi.find,ny=Ws,oy=!0;"find"in[]&&Array(1).find((function(){oy=!1})),ey({target:"Array",proto:!0,forced:oy},{find:function(t){return ry(this,t,arguments.length>1?arguments[1]:void 0)}}),ny("find");var iy=Yi.map;Qn({target:"Array",proto:!0,forced:!qu("map")},{map:function(t){return iy(this,t,arguments.length>1?arguments[1]:void 0)}});var ay=gt,uy=TypeError,cy=Yo,sy=Math.floor,fy=function(t,e){var r=t.length,n=sy(r/2);return r<8?ly(t,e):py(t,fy(cy(t,0,n),e),fy(cy(t,n),e),e)},ly=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},py=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},dy=fy,vy=tt.match(/firefox\/(\d+)/i),hy=!!vy&&+vy[1],yy=/MSIE|Trident/.test(tt),by=tt.match(/AppleWebKit\/(\d+)\./),gy=!!by&&+by[1],my=Qn,wy=N,_y=xt,xy=Ft,Sy=fn,Oy=function(t,e){if(!delete t[e])throw uy("Cannot delete property "+ay(e)+" of "+ay(t))},Ey=yo,ky=d,jy=dy,Ty=sc,Py=hy,Iy=yy,Ny=ut,Cy=gy,Ly=[],Ry=wy(Ly.sort),My=wy(Ly.push),Ay=ky((function(){Ly.sort(void 0)})),Dy=ky((function(){Ly.sort(null)})),Fy=Ty("sort"),Uy=!ky((function(){if(Ny)return Ny<70;if(!(Py&&Py>3)){if(Iy)return!0;if(Cy)return Cy<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Ly.push({k:e+n,v:r})}for(Ly.sort((function(t,e){return e.v-t.v})),n=0;n<Ly.length;n++)e=Ly[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));my({target:"Array",proto:!0,forced:Ay||!Dy||!Fy||!Uy},{sort:function(t){void 0!==t&&_y(t);var e=xy(this);if(Uy)return void 0===t?Ry(e):Ry(e,t);var r,n,o=[],i=Sy(e);for(n=0;n<i;n++)n in e&&My(o,e[n]);for(jy(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Ey(e)>Ey(r)?1:-1}}(t)),r=o.length,n=0;n<r;)e[n]=o[n++];for(;n<i;)Oy(e,n++);return e}});var Vy=/http[s]{0,1}:\/\/([\w.]+\/?)\S*/,Gy=function(t){return 1024*t*1024},zy=function(t){return new Promise((function(e,r){var n=document.createElement("video");n.preload="metadata",n.src=t,n.onloadedmetadata=function(){e({duration:n.duration}),n=null},n.onerror=function(){r(new Error("视频加载失败")),n=null}}))},Ky=function(t){return t?t.split("//").pop():""},By={expireRedundancy:1e4,partsStrategy:[{min:Gy(1024),partSize:Gy(20),concurrentNum:10},{min:Gy(512),partSize:Gy(20),concurrentNum:10},{min:Gy(200),partSize:Gy(15),concurrentNum:10},{min:Gy(100),partSize:Gy(10),concurrentNum:10}],checkIsVideo:function(t){return t.type.startsWith("video/")},videoToVod:!1,needVideoDuration:!1,needVodURL:!1,vodTimesLimit:0,vodTimeInterval:1e3},Wy=Ft,Jy=le;Qn({target:"Date",proto:!0,arity:1,forced:d((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=Wy(this),r=Jy(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}});var Hy=g;function Yy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yy(Object(r),!0).forEach((function(e){Dc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}Qn({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Hy(URL.prototype.toString,this)}});var Xy=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Error(t||e.CommonMsg.Message);return n.isThenError=!0,n.result=e,Object.keys(r).forEach((function(t){n[t]=r[t]})),n.toJSON=function(){return $y({result:e,isThenError:!0},r)},n};function qy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qy(Object(r),!0).forEach((function(e){Dc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Zy=function(){function c(t,e){Lc(this,c),Dc(this,"VERSION","1.0.3-alpha.0"),Dc(this,"_options",{}),Dc(this,"obsClient",null),Dc(this,"_bucketName",null),Dc(this,"_obsServer",null),Dc(this,"_tokenCreateTime",null),Dc(this,"_tokenExpire",null),this._init(t,e)}return Mc(c,[{key:"_init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e(Qy(Qy({},By),n));t.bucketName&&(this._bucketName=t.bucketName),o.videoToVod&&(r(n.apiObsToVod)||console.warn("当需要将视频上传到vod时，apiObsToVod 方法必传，且必须反回一个promise")),o.needVodURL&&(r(n.apiVodDetails)||console.warn("当需要获取视频vod播放地址时，apiVodDetails 方法必传，且必须反回一个promise")),this._options=t,this.config=o}},{key:"_fillServer",value:function(t){return function(t){return Vy.test(t)}(t)||t.startsWith("//")?t:"https://".concat(t)}},{key:"_getUploadKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t&&t.startsWith("/")&&(t=t.slice(1)),"".concat(t).concat(n()).concat(this._getFileType(e))}},{key:"_getFileType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";try{if(t.includes(".")){var r=t.split(".");e=r[r.length-1]}}catch(t){e=""}return e?".".concat(e):""}},{key:"getClient",value:function(){var e=this;return new Promise((function(r,n){var o=function(){var o=e._options,i=["timeout","is_cname","useRawXhr"],a=e._warn;if(o.ak&&o.sk&&o.server){var u=o.server,c={access_key_id:o.ak,secret_access_key:o.sk,server:u};i.forEach((function(t){t in o&&(c[t]=o[t])}));["ak","sk","server","bucketName"].forEach((function(t){o[t]||a("参数：'".concat(t,"' 为必传参数"))})),e._bucketName=o.bucketName,e._obsServer=u,e.obsClient=new t(c),e._tokenExpire=0,r(e.obsClient)}else o.getAuthorization?o.getAuthorization({}).then((function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=["ak","sk"];u.forEach((function(t){n[t]||a("参数：'".concat(t,"' 为必传参数"))}));var c=n.server||e._obsServer||null;c||a("参数：'server' 为必传参数");var s={access_key_id:n.ak,secret_access_key:n.sk,server:c};e._obsServer=c,i.forEach((function(t){t in o&&(s[t]=o[t])})),n.securityToken&&(s.security_token=n.securityToken),n.expireSeconds?(e._tokenExpire=1e3*n.expireSeconds,e._tokenCreateTime=Date.now()):e._tokenExpire=-1,n.bucketName&&(e._bucketName=n.bucketName),e.obsClient=new t(s),r(e.obsClient)})).catch((function(t){n(t)})):(n(new Error("未提供初始化参数")),console.warn("未提供初始化参数"))};e.obsClient?0===e._tokenExpire||e._tokenCreateTime&&e._tokenCreateTime+e._tokenExpire-e.config.expireRedundancy>Date.now()?r(e.obsClient):(e.obsClient=null,o()):o()}))}},{key:"upload",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var c=Nc(Gc.mark((function c(s,f){var l,p,d,v,h,y,b,g,m,w,_,x,S,O,E,k,j,T;return Gc.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(m=function(t){t.obs_upload_uploadId&&t.obs_upload_key&&l.getClient().then((function(e){e.abortMultipartUpload({Bucket:d,Key:t.obs_upload_key,UploadId:t.obs_upload_uploadId})})),e.onError&&e.onError(t),f(t)},l=t,e.file){c.next=5;break}return m(new Error("缺少必传参数：'file'")),c.abrupt("return");case 5:if(p=t.config,d=null,v=null,h=p.checkIsVideo(e.file),y=null,!p.getUploadKey){c.next=23;break}return c.prev=11,c.next=14,p.getUploadKey(e.file,r,n,t._getFileType(e.file.name));case 14:v=c.sent,c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(11),m(c.t0),c.abrupt("return");case 21:c.next=24;break;case 23:v=t._getUploadKey(r.folderPath,e.file.name);case 24:if(v){c.next=27;break}return m(new Error("'getUploadKey' 返回的 key 不存在")),c.abrupt("return");case 27:b=function(){var r=function(){var t=p.partsStrategy;if(t&&t.length>0)return t[t.length-1].min}();!r||e.file.size<r?t.getClient().then((function(r){(d=t._bucketName)?(y=r,r.putObject({Bucket:d,Key:v,SourceFile:e.file,ProgressCallback:function(t,e,r){var n=t/e*100|0;n>95&&(n=95),g({percent:n})}},(function(t,r){t?m(t,e):r.CommonMsg.Status<300?(r.obs_upload_direct=!0,r.obs_upload_bucketName=d,r.obs_upload_key=v,w(r)):m(Xy(null,r))}))):m(new Error("缺少必传参数：'bucketName'"))})).catch((function(t){m(t)})):O(e)},g=function(t){e.onProgress&&e.onProgress(t)},w=function(r){var n="https://".concat(d,".").concat(Ky(t._obsServer),"/").concat(r.obs_upload_key);r.obs_upload_server=t._obsServer,r.obs_upload_data={key:r.obs_upload_key,fullUrl:n,isFromVod:!1,obsUrl:n,isVideo:h},r.obs_upload_data,p.videoToVod&&h?p.apiObsToVod(e.file,{key:v,bucketName:d,server:t._obsServer,obsURL:n}).then(Nc(Gc.mark((function a(){var c,s,f,l,h,y,b=arguments;return Gc.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.length>0&&void 0!==b[0]?b[0]:{},s=c.data,f=c.msg,l=c.otherData,!s||!s.vodId){a.next=34;break}if(p.needVodURL&&s.url&&(r.obs_upload_data.fullUrl=s.url,r.obs_upload_data.isFromVod=!0),r.obs_upload_data.vodId=s.vodId,r.obs_upload_vod_data=l,!p.needVodURL||s.url){a.next=31;break}if(h=void 0,"number"!=typeof p.vodTimeInterval){a.next=15;break}h=p.vodTimeInterval,a.next=25;break;case 15:return a.prev=15,a.next=18,p.vodTimeInterval(e.file,{key:v,bucketName:d,server:t._obsServer,obsURL:n,vodId:s.vodId});case 18:h=a.sent,a.next=25;break;case 21:return a.prev=21,a.t0=a.catch(15),m(a.t0),a.abrupt("return");case 25:if("number"==typeof h){a.next=28;break}return m(new Error("'vodTimeInterval' 参数必须为 Number 类型")),a.abrupt("return");case 28:0===p.vodTimesLimit?u((function(){return new Promise((function(e,o){p.apiVodDetails(s.vodId,{key:v,bucketName:d,server:t._obsServer,obsURL:n}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,o=t.otherData;n&&n.url?(e(!0),r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=n.url,r.obs_upload_vod_details=o,x(r,n.duration)):e(!1)})).catch((function(t){o(t),t.obs_upload_key=r.obs_upload_key,m(t)}))}))}),{interval:h,before:!1}).catch((function(){})):o((function(){return new Promise((function(e,r){p.apiVodDetails(s.vodId,{key:v,bucketName:d,server:t._obsServer,obsURL:n}).then((function(t){var n=t.data;n&&n.url?e(t):setTimeout((function(){r(new Error(t.msg||"vod 转码中，无法获取播放地址"))}),h)})).catch((function(t){r(new i(t.message))}))}))}),{retries:p.vodTimesLimit}).then((function(t){r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=t.data.url,r.obs_upload_vod_details=t.otherData,x(r,t.data.duration)})).catch((function(t){t.message,t.obs_upload_key=r.obs_upload_key,m(t)})),a.next=32;break;case 31:x(r,s.duration);case 32:a.next=36;break;case 34:y=new Error(f||"obs转换vod失败"),m(y);case 36:case"end":return a.stop()}}),a,null,[[15,21]])})))).catch((function(t){t.obs_upload_key=r.obs_upload_key,m(t)})):_(r)},_=function(t){p.needVideoDuration&&h?zy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,g({percent:100}),S(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,m(e)})):(g({percent:100}),S(t))},x=function(t,e){p.needVideoDuration?0!==e&&e?(t.obs_upload_data.duration=e,g({percent:100}),S(t)):zy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,g({percent:100}),S(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,m(e)})):(g({percent:100}),S(t))},S=function(t){e.onSuccess&&e.onSuccess(t),s(t)},O=function(){t.getClient().then((function(e){(d=t._bucketName)?(y=e,e.initiateMultipartUpload({Bucket:d,Key:v,ContentType:"text/plain"},(function(t,e){t?m(t):(e.CommonMsg.Status,e.CommonMsg.Status<300&&e.InterfaceResult?(e.InterfaceResult.UploadId,k(e)):m(Xy(null,e)))}))):m(new Error("缺少必传参数：'bucketName'"))})).catch((function(t){m(t)}))},E=function(t){return p.partsStrategy.find((function(e){return t>=e.min}))},k=function(t){for(var r=0,n=e.file.size,o=E(n),i=o.partSize,u=Math.ceil(n/i),c=t.InterfaceResult.UploadId,s=[],f=0;r<u;)!function(t){s.push((function(){return y.uploadPart({Bucket:d,Key:v,PartNumber:t,UploadId:c,SourceFile:e.file,PartSize:i,Offset:(t-1)*i}).then((function(t){var e=++f/u*100|0;return e>95&&(e=95),g({percent:e}),t}))}))}(++r);a(s,{concurrency:o.concurrentNum}).then((function(t){j(u,c)})).catch((function(t){t.obs_upload_uploadId=c,t.obs_upload_key=v,m(t)}))},j=function(t,e){y.listParts({Bucket:d,Key:v,UploadId:e},(function(r,n){if(r)r.obs_upload_uploadId=e,r.obs_upload_key=v,m(r);else if(n.CommonMsg.Status,n.CommonMsg.Status<300&&n.InterfaceResult)if(n.InterfaceResult.Parts,n.InterfaceResult.Parts.length===t){var o=n.InterfaceResult.Parts.sort((function(t,e){return t.PartNumber-e.PartNumber})).map((function(t){return{PartNumber:t.PartNumber,ETag:JSON.parse(t.ETag)}}));T(o,e)}else m(Xy("片段不完整",n,{obs_upload_uploadId:e,obs_upload_key:v}));else m(Xy(null,n,{obs_upload_uploadId:e,obs_upload_key:v}))}))},T=function(t,r){y.completeMultipartUpload({Bucket:d,Key:v,UploadId:r,Parts:t},(function(t,r){t?m(t):(r.CommonMsg.Status<300?(r.obs_upload_direct=!1,r.obs_upload_key=v,r.obs_upload_bucketName=d,w(r,e)):m(Xy(null,r)),r.CommonMsg.Status)}))},b();case 39:case"end":return c.stop()}}),c,null,[[11,17]])})));return function(t,e){return c.apply(this,arguments)}}())}},{key:"_warn",value:function(t){console.warn(t)}}]),c}();export{Zy as default};
