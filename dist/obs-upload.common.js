/*! obs-upload version 1.0.1-alpha.2 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("esdk-obs-browserjs"),e=require("lodash-es"),r=require("nanoid"),n=require("p-retry"),o=require("p-all");function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=i(t),u=i(n),c=i(o),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l=function(t){return t&&t.Math==Math&&t},p=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof s&&s)||function(){return this}()||Function("return this")(),d={},h=function(t){try{return!!t()}catch(t){return!0}},v=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=!h((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),g=y,b=Function.prototype.call,m=g?b.bind(b):function(){return b.apply(b,arguments)},w={},_={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,x=S&&!_.call({1:2},1);w.f=x?function(t){var e=S(this,t);return!!e&&e.enumerable}:_;var O,E,T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j=y,k=Function.prototype,P=k.bind,I=k.call,N=j&&P.bind(I,I),C=j?function(t){return t&&N(t)}:function(t){return t&&function(){return I.apply(t,arguments)}},L=C,R=L({}.toString),M=L("".slice),D=function(t){return M(R(t),8,-1)},A=h,F=D,U=Object,V=C("".split),G=A((function(){return!U("z").propertyIsEnumerable(0)}))?function(t){return"String"==F(t)?V(t,""):U(t)}:U,z=TypeError,B=function(t){if(null==t)throw z("Can't call method on "+t);return t},K=G,W=B,J=function(t){return K(W(t))},Y=function(t){return"function"==typeof t},q=Y,$=function(t){return"object"==typeof t?null!==t:q(t)},H=p,X=Y,Q=function(t){return X(t)?t:void 0},Z=function(t,e){return arguments.length<2?Q(H[t]):H[t]&&H[t][e]},tt=C({}.isPrototypeOf),et=Z("navigator","userAgent")||"",rt=p,nt=et,ot=rt.process,it=rt.Deno,at=ot&&ot.versions||it&&it.version,ut=at&&at.v8;ut&&(E=(O=ut.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!E&&nt&&(!(O=nt.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=nt.match(/Chrome\/(\d+)/))&&(E=+O[1]);var ct=E,st=ct,ft=h,lt=!!Object.getOwnPropertySymbols&&!ft((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&st&&st<41})),pt=lt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,dt=Z,ht=Y,vt=tt,yt=Object,gt=pt?function(t){return"symbol"==typeof t}:function(t){var e=dt("Symbol");return ht(e)&&vt(e.prototype,yt(t))},bt=String,mt=function(t){try{return bt(t)}catch(t){return"Object"}},wt=Y,_t=mt,St=TypeError,xt=function(t){if(wt(t))return t;throw St(_t(t)+" is not a function")},Ot=xt,Et=function(t,e){var r=t[e];return null==r?void 0:Ot(r)},Tt=m,jt=Y,kt=$,Pt=TypeError,It={exports:{}},Nt=p,Ct=Object.defineProperty,Lt=function(t,e){try{Ct(Nt,t,{value:e,configurable:!0,writable:!0})}catch(r){Nt[t]=e}return e},Rt=Lt,Mt=p["__core-js_shared__"]||Rt("__core-js_shared__",{}),Dt=Mt;(It.exports=function(t,e){return Dt[t]||(Dt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"});var At=B,Ft=Object,Ut=function(t){return Ft(At(t))},Vt=Ut,Gt=C({}.hasOwnProperty),zt=Object.hasOwn||function(t,e){return Gt(Vt(t),e)},Bt=C,Kt=0,Wt=Math.random(),Jt=Bt(1..toString),Yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Jt(++Kt+Wt,36)},qt=p,$t=It.exports,Ht=zt,Xt=Yt,Qt=lt,Zt=pt,te=$t("wks"),ee=qt.Symbol,re=ee&&ee.for,ne=Zt?ee:ee&&ee.withoutSetter||Xt,oe=function(t){if(!Ht(te,t)||!Qt&&"string"!=typeof te[t]){var e="Symbol."+t;Qt&&Ht(ee,t)?te[t]=ee[t]:te[t]=Zt&&re?re(e):ne(e)}return te[t]},ie=m,ae=$,ue=gt,ce=Et,se=function(t,e){var r,n;if("string"===e&&jt(r=t.toString)&&!kt(n=Tt(r,t)))return n;if(jt(r=t.valueOf)&&!kt(n=Tt(r,t)))return n;if("string"!==e&&jt(r=t.toString)&&!kt(n=Tt(r,t)))return n;throw Pt("Can't convert object to primitive value")},fe=TypeError,le=oe("toPrimitive"),pe=function(t,e){if(!ae(t)||ue(t))return t;var r,n=ce(t,le);if(n){if(void 0===e&&(e="default"),r=ie(n,t,e),!ae(r)||ue(r))return r;throw fe("Can't convert object to primitive value")}return void 0===e&&(e="number"),se(t,e)},de=pe,he=gt,ve=function(t){var e=de(t,"string");return he(e)?e:e+""},ye=$,ge=p.document,be=ye(ge)&&ye(ge.createElement),me=function(t){return be?ge.createElement(t):{}},we=me,_e=!v&&!h((function(){return 7!=Object.defineProperty(we("div"),"a",{get:function(){return 7}}).a})),Se=v,xe=m,Oe=w,Ee=T,Te=J,je=ve,ke=zt,Pe=_e,Ie=Object.getOwnPropertyDescriptor;d.f=Se?Ie:function(t,e){if(t=Te(t),e=je(e),Pe)try{return Ie(t,e)}catch(t){}if(ke(t,e))return Ee(!xe(Oe.f,t,e),t[e])};var Ne={},Ce=v&&h((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Le=$,Re=String,Me=TypeError,De=function(t){if(Le(t))return t;throw Me(Re(t)+" is not an object")},Ae=v,Fe=_e,Ue=Ce,Ve=De,Ge=ve,ze=TypeError,Be=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor;Ne.f=Ae?Ue?function(t,e,r){if(Ve(t),e=Ge(e),Ve(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Ke(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return Be(t,e,r)}:Be:function(t,e,r){if(Ve(t),e=Ge(e),Ve(r),Fe)try{return Be(t,e,r)}catch(t){}if("get"in r||"set"in r)throw ze("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var We=Ne,Je=T,Ye=v?function(t,e,r){return We.f(t,e,Je(1,r))}:function(t,e,r){return t[e]=r,t},qe={exports:{}},$e=v,He=zt,Xe=Function.prototype,Qe=$e&&Object.getOwnPropertyDescriptor,Ze=He(Xe,"name"),tr={EXISTS:Ze,PROPER:Ze&&"something"===function(){}.name,CONFIGURABLE:Ze&&(!$e||$e&&Qe(Xe,"name").configurable)},er=Y,rr=Mt,nr=C(Function.toString);er(rr.inspectSource)||(rr.inspectSource=function(t){return nr(t)});var or,ir,ar,ur=rr.inspectSource,cr=Y,sr=ur,fr=p.WeakMap,lr=cr(fr)&&/native code/.test(sr(fr)),pr=It.exports,dr=Yt,hr=pr("keys"),vr=function(t){return hr[t]||(hr[t]=dr(t))},yr={},gr=lr,br=p,mr=C,wr=$,_r=Ye,Sr=zt,xr=Mt,Or=vr,Er=yr,Tr=br.TypeError,jr=br.WeakMap;if(gr||xr.state){var kr=xr.state||(xr.state=new jr),Pr=mr(kr.get),Ir=mr(kr.has),Nr=mr(kr.set);or=function(t,e){if(Ir(kr,t))throw new Tr("Object already initialized");return e.facade=t,Nr(kr,t,e),e},ir=function(t){return Pr(kr,t)||{}},ar=function(t){return Ir(kr,t)}}else{var Cr=Or("state");Er[Cr]=!0,or=function(t,e){if(Sr(t,Cr))throw new Tr("Object already initialized");return e.facade=t,_r(t,Cr,e),e},ir=function(t){return Sr(t,Cr)?t[Cr]:{}},ar=function(t){return Sr(t,Cr)}}var Lr={set:or,get:ir,has:ar,enforce:function(t){return ar(t)?ir(t):or(t,{})},getterFor:function(t){return function(e){var r;if(!wr(e)||(r=ir(e)).type!==t)throw Tr("Incompatible receiver, "+t+" required");return r}}},Rr=h,Mr=Y,Dr=zt,Ar=v,Fr=tr.CONFIGURABLE,Ur=ur,Vr=Lr.enforce,Gr=Lr.get,zr=Object.defineProperty,Br=Ar&&!Rr((function(){return 8!==zr((function(){}),"length",{value:8}).length})),Kr=String(String).split("String"),Wr=qe.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Dr(t,"name")||Fr&&t.name!==e)&&zr(t,"name",{value:e,configurable:!0}),Br&&r&&Dr(r,"arity")&&t.length!==r.arity&&zr(t,"length",{value:r.arity});try{r&&Dr(r,"constructor")&&r.constructor?Ar&&zr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Vr(t);return Dr(n,"source")||(n.source=Kr.join("string"==typeof e?e:"")),t};Function.prototype.toString=Wr((function(){return Mr(this)&&Gr(this).source||Ur(this)}),"toString");var Jr=Y,Yr=Ne,qr=qe.exports,$r=Lt,Hr=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;return Jr(r)&&qr(r,i,n),n.global?o?t[e]=r:$r(e,r):(n.unsafe?t[e]&&(o=!0):delete t[e],o?t[e]=r:Yr.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})),t},Xr={},Qr=Math.ceil,Zr=Math.floor,tn=Math.trunc||function(t){var e=+t;return(e>0?Zr:Qr)(e)},en=function(t){var e=+t;return e!=e||0===e?0:tn(e)},rn=en,nn=Math.max,on=Math.min,an=function(t,e){var r=rn(t);return r<0?nn(r+e,0):on(r,e)},un=en,cn=Math.min,sn=function(t){return t>0?cn(un(t),9007199254740991):0},fn=sn,ln=function(t){return fn(t.length)},pn=J,dn=an,hn=ln,vn=function(t){return function(e,r,n){var o,i=pn(e),a=hn(i),u=dn(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},yn={includes:vn(!0),indexOf:vn(!1)},gn=zt,bn=J,mn=yn.indexOf,wn=yr,_n=C([].push),Sn=function(t,e){var r,n=bn(t),o=0,i=[];for(r in n)!gn(wn,r)&&gn(n,r)&&_n(i,r);for(;e.length>o;)gn(n,r=e[o++])&&(~mn(i,r)||_n(i,r));return i},xn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],On=Sn,En=xn.concat("length","prototype");Xr.f=Object.getOwnPropertyNames||function(t){return On(t,En)};var Tn={};Tn.f=Object.getOwnPropertySymbols;var jn=Z,kn=Xr,Pn=Tn,In=De,Nn=C([].concat),Cn=jn("Reflect","ownKeys")||function(t){var e=kn.f(In(t)),r=Pn.f;return r?Nn(e,r(t)):e},Ln=zt,Rn=Cn,Mn=d,Dn=Ne,An=h,Fn=Y,Un=/#|\.prototype\./,Vn=function(t,e){var r=zn[Gn(t)];return r==Kn||r!=Bn&&(Fn(e)?An(e):!!e)},Gn=Vn.normalize=function(t){return String(t).replace(Un,".").toLowerCase()},zn=Vn.data={},Bn=Vn.NATIVE="N",Kn=Vn.POLYFILL="P",Wn=Vn,Jn=p,Yn=d.f,qn=Ye,$n=Hr,Hn=Lt,Xn=function(t,e,r){for(var n=Rn(e),o=Dn.f,i=Mn.f,a=0;a<n.length;a++){var u=n[a];Ln(t,u)||r&&Ln(r,u)||o(t,u,i(e,u))}},Qn=Wn,Zn=function(t,e){var r,n,o,i,a,u=t.target,c=t.global,s=t.stat;if(r=c?Jn:s?Jn[u]||Hn(u,{}):(Jn[u]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=Yn(r,n))&&a.value:r[n],!Qn(c?n:u+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Xn(i,o)}(t.sham||o&&o.sham)&&qn(i,"sham",!0),$n(r,n,i,t)}},to=Sn,eo=xn,ro=Object.keys||function(t){return to(t,eo)},no=Ut,oo=ro;Zn({target:"Object",stat:!0,forced:h((function(){oo(1)}))},{keys:function(t){return oo(no(t))}});var io={};io[oe("toStringTag")]="z";var ao="[object z]"===String(io),uo=ao,co=Y,so=D,fo=oe("toStringTag"),lo=Object,po="Arguments"==so(function(){return arguments}()),ho=uo?so:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=lo(t),fo))?r:po?so(e):"Object"==(n=so(e))&&co(e.callee)?"Arguments":n},vo=ho,yo=String,go=function(t){if("Symbol"===vo(t))throw TypeError("Cannot convert a Symbol value to a string");return yo(t)},bo={},mo=v,wo=Ce,_o=Ne,So=De,xo=J,Oo=ro;bo.f=mo&&!wo?Object.defineProperties:function(t,e){So(t);for(var r,n=xo(e),o=Oo(e),i=o.length,a=0;i>a;)_o.f(t,r=o[a++],n[r]);return t};var Eo,To=Z("document","documentElement"),jo=De,ko=bo,Po=xn,Io=yr,No=To,Co=me,Lo=vr("IE_PROTO"),Ro=function(){},Mo=function(t){return"<script>"+t+"<\/script>"},Do=function(t){t.write(Mo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ao=function(){try{Eo=new ActiveXObject("htmlfile")}catch(t){}var t,e;Ao="undefined"!=typeof document?document.domain&&Eo?Do(Eo):((e=Co("iframe")).style.display="none",No.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Mo("document.F=Object")),t.close(),t.F):Do(Eo);for(var r=Po.length;r--;)delete Ao.prototype[Po[r]];return Ao()};Io[Lo]=!0;var Fo=Object.create||function(t,e){var r;return null!==t?(Ro.prototype=jo(t),r=new Ro,Ro.prototype=null,r[Lo]=t):r=Ao(),void 0===e?r:ko.f(r,e)},Uo={},Vo=ve,Go=Ne,zo=T,Bo=function(t,e,r){var n=Vo(e);n in t?Go.f(t,n,zo(0,r)):t[n]=r},Ko=an,Wo=ln,Jo=Bo,Yo=Array,qo=Math.max,$o=function(t,e,r){for(var n=Wo(t),o=Ko(e,n),i=Ko(void 0===r?n:r,n),a=Yo(qo(i-o,0)),u=0;o<i;o++,u++)Jo(a,u,t[o]);return a.length=u,a},Ho=D,Xo=J,Qo=Xr.f,Zo=$o,ti="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Uo.f=function(t){return ti&&"Window"==Ho(t)?function(t){try{return Qo(t)}catch(t){return Zo(ti)}}(t):Qo(Xo(t))};var ei={},ri=oe;ei.f=ri;var ni=p,oi=zt,ii=ei,ai=Ne.f,ui=m,ci=Z,si=oe,fi=Hr,li=Ne.f,pi=zt,di=oe("toStringTag"),hi=function(t,e,r){t&&!r&&(t=t.prototype),t&&!pi(t,di)&&li(t,di,{configurable:!0,value:e})},vi=xt,yi=y,gi=C(C.bind),bi=function(t,e){return vi(t),void 0===e?t:yi?gi(t,e):function(){return t.apply(e,arguments)}},mi=D,wi=Array.isArray||function(t){return"Array"==mi(t)},_i=C,Si=h,xi=Y,Oi=ho,Ei=ur,Ti=function(){},ji=[],ki=Z("Reflect","construct"),Pi=/^\s*(?:class|function)\b/,Ii=_i(Pi.exec),Ni=!Pi.exec(Ti),Ci=function(t){if(!xi(t))return!1;try{return ki(Ti,ji,t),!0}catch(t){return!1}},Li=function(t){if(!xi(t))return!1;switch(Oi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ni||!!Ii(Pi,Ei(t))}catch(t){return!0}};Li.sham=!0;var Ri=!ki||Si((function(){var t;return Ci(Ci.call)||!Ci(Object)||!Ci((function(){t=!0}))||t}))?Li:Ci,Mi=wi,Di=Ri,Ai=$,Fi=oe("species"),Ui=Array,Vi=function(t){var e;return Mi(t)&&(e=t.constructor,(Di(e)&&(e===Ui||Mi(e.prototype))||Ai(e)&&null===(e=e[Fi]))&&(e=void 0)),void 0===e?Ui:e},Gi=function(t,e){return new(Vi(t))(0===e?0:e)},zi=bi,Bi=G,Ki=Ut,Wi=ln,Ji=Gi,Yi=C([].push),qi=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,d,h=Ki(c),v=Bi(h),y=zi(s,f),g=Wi(v),b=0,m=l||Ji,w=e?m(c,g):r||a?m(c,0):void 0;g>b;b++)if((u||b in v)&&(d=y(p=v[b],b,h),t))if(e)w[b]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return b;case 2:Yi(w,p)}else switch(t){case 4:return!1;case 7:Yi(w,p)}return i?-1:n||o?o:w}},$i={forEach:qi(0),map:qi(1),filter:qi(2),some:qi(3),every:qi(4),find:qi(5),findIndex:qi(6),filterReject:qi(7)},Hi=Zn,Xi=p,Qi=m,Zi=C,ta=v,ea=lt,ra=h,na=zt,oa=tt,ia=De,aa=J,ua=ve,ca=go,sa=T,fa=Fo,la=ro,pa=Xr,da=Uo,ha=Tn,va=d,ya=Ne,ga=bo,ba=w,ma=Hr,wa=It.exports,_a=yr,Sa=Yt,xa=oe,Oa=ei,Ea=function(t){var e=ni.Symbol||(ni.Symbol={});oi(e,t)||ai(e,t,{value:ii.f(t)})},Ta=function(){var t=ci("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=si("toPrimitive");e&&!e[n]&&fi(e,n,(function(t){return ui(r,this)}),{arity:1})},ja=hi,ka=Lr,Pa=$i.forEach,Ia=vr("hidden"),Na=ka.set,Ca=ka.getterFor("Symbol"),La=Object.prototype,Ra=Xi.Symbol,Ma=Ra&&Ra.prototype,Da=Xi.TypeError,Aa=Xi.QObject,Fa=va.f,Ua=ya.f,Va=da.f,Ga=ba.f,za=Zi([].push),Ba=wa("symbols"),Ka=wa("op-symbols"),Wa=wa("wks"),Ja=!Aa||!Aa.prototype||!Aa.prototype.findChild,Ya=ta&&ra((function(){return 7!=fa(Ua({},"a",{get:function(){return Ua(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Fa(La,e);n&&delete La[e],Ua(t,e,r),n&&t!==La&&Ua(La,e,n)}:Ua,qa=function(t,e){var r=Ba[t]=fa(Ma);return Na(r,{type:"Symbol",tag:t,description:e}),ta||(r.description=e),r},$a=function(t,e,r){t===La&&$a(Ka,e,r),ia(t);var n=ua(e);return ia(r),na(Ba,n)?(r.enumerable?(na(t,Ia)&&t[Ia][n]&&(t[Ia][n]=!1),r=fa(r,{enumerable:sa(0,!1)})):(na(t,Ia)||Ua(t,Ia,sa(1,{})),t[Ia][n]=!0),Ya(t,n,r)):Ua(t,n,r)},Ha=function(t,e){ia(t);var r=aa(e),n=la(r).concat(tu(r));return Pa(n,(function(e){ta&&!Qi(Xa,r,e)||$a(t,e,r[e])})),t},Xa=function(t){var e=ua(t),r=Qi(Ga,this,e);return!(this===La&&na(Ba,e)&&!na(Ka,e))&&(!(r||!na(this,e)||!na(Ba,e)||na(this,Ia)&&this[Ia][e])||r)},Qa=function(t,e){var r=aa(t),n=ua(e);if(r!==La||!na(Ba,n)||na(Ka,n)){var o=Fa(r,n);return!o||!na(Ba,n)||na(r,Ia)&&r[Ia][n]||(o.enumerable=!0),o}},Za=function(t){var e=Va(aa(t)),r=[];return Pa(e,(function(t){na(Ba,t)||na(_a,t)||za(r,t)})),r},tu=function(t){var e=t===La,r=Va(e?Ka:aa(t)),n=[];return Pa(r,(function(t){!na(Ba,t)||e&&!na(La,t)||za(n,Ba[t])})),n};ea||(ma(Ma=(Ra=function(){if(oa(Ma,this))throw Da("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?ca(arguments[0]):void 0,e=Sa(t),r=function(t){this===La&&Qi(r,Ka,t),na(this,Ia)&&na(this[Ia],e)&&(this[Ia][e]=!1),Ya(this,e,sa(1,t))};return ta&&Ja&&Ya(La,e,{configurable:!0,set:r}),qa(e,t)}).prototype,"toString",(function(){return Ca(this).tag})),ma(Ra,"withoutSetter",(function(t){return qa(Sa(t),t)})),ba.f=Xa,ya.f=$a,ga.f=Ha,va.f=Qa,pa.f=da.f=Za,ha.f=tu,Oa.f=function(t){return qa(xa(t),t)},ta&&(Ua(Ma,"description",{configurable:!0,get:function(){return Ca(this).description}}),ma(La,"propertyIsEnumerable",Xa,{unsafe:!0}))),Hi({global:!0,constructor:!0,wrap:!0,forced:!ea,sham:!ea},{Symbol:Ra}),Pa(la(Wa),(function(t){Ea(t)})),Hi({target:"Symbol",stat:!0,forced:!ea},{useSetter:function(){Ja=!0},useSimple:function(){Ja=!1}}),Hi({target:"Object",stat:!0,forced:!ea,sham:!ta},{create:function(t,e){return void 0===e?fa(t):Ha(fa(t),e)},defineProperty:$a,defineProperties:Ha,getOwnPropertyDescriptor:Qa}),Hi({target:"Object",stat:!0,forced:!ea},{getOwnPropertyNames:Za}),Ta(),ja(Ra,"Symbol"),_a[Ia]=!0;var eu=lt&&!!Symbol.for&&!!Symbol.keyFor,ru=Zn,nu=Z,ou=zt,iu=go,au=It.exports,uu=eu,cu=au("string-to-symbol-registry"),su=au("symbol-to-string-registry");ru({target:"Symbol",stat:!0,forced:!uu},{for:function(t){var e=iu(t);if(ou(cu,e))return cu[e];var r=nu("Symbol")(e);return cu[e]=r,su[r]=e,r}});var fu=Zn,lu=zt,pu=gt,du=mt,hu=eu,vu=(0,It.exports)("symbol-to-string-registry");fu({target:"Symbol",stat:!0,forced:!hu},{keyFor:function(t){if(!pu(t))throw TypeError(du(t)+" is not a symbol");if(lu(vu,t))return vu[t]}});var yu=y,gu=Function.prototype,bu=gu.apply,mu=gu.call,wu="object"==typeof Reflect&&Reflect.apply||(yu?mu.bind(bu):function(){return mu.apply(bu,arguments)}),_u=C([].slice),Su=Zn,xu=Z,Ou=wu,Eu=m,Tu=C,ju=h,ku=wi,Pu=Y,Iu=$,Nu=gt,Cu=_u,Lu=lt,Ru=xu("JSON","stringify"),Mu=Tu(/./.exec),Du=Tu("".charAt),Au=Tu("".charCodeAt),Fu=Tu("".replace),Uu=Tu(1..toString),Vu=/[\uD800-\uDFFF]/g,Gu=/^[\uD800-\uDBFF]$/,zu=/^[\uDC00-\uDFFF]$/,Bu=!Lu||ju((function(){var t=xu("Symbol")();return"[null]"!=Ru([t])||"{}"!=Ru({a:t})||"{}"!=Ru(Object(t))})),Ku=ju((function(){return'"\\udf06\\ud834"'!==Ru("\udf06\ud834")||'"\\udead"'!==Ru("\udead")})),Wu=function(t,e){var r=Cu(arguments),n=e;if((Iu(e)||void 0!==t)&&!Nu(t))return ku(e)||(e=function(t,e){if(Pu(n)&&(e=Eu(n,this,t,e)),!Nu(e))return e}),r[1]=e,Ou(Ru,null,r)},Ju=function(t,e,r){var n=Du(r,e-1),o=Du(r,e+1);return Mu(Gu,t)&&!Mu(zu,o)||Mu(zu,t)&&!Mu(Gu,n)?"\\u"+Uu(Au(t,0),16):t};Ru&&Su({target:"JSON",stat:!0,arity:3,forced:Bu||Ku},{stringify:function(t,e,r){var n=Cu(arguments),o=Ou(Bu?Wu:Ru,null,n);return Ku&&"string"==typeof o?Fu(o,Vu,Ju):o}});var Yu=Tn,qu=Ut;Zn({target:"Object",stat:!0,forced:!lt||h((function(){Yu.f(1)}))},{getOwnPropertySymbols:function(t){var e=Yu.f;return e?e(qu(t)):[]}});var $u=h,Hu=ct,Xu=oe("species"),Qu=function(t){return Hu>=51||!$u((function(){var e=[];return(e.constructor={})[Xu]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Zu=$i.filter;Zn({target:"Array",proto:!0,forced:!Qu("filter")},{filter:function(t){return Zu(this,t,arguments.length>1?arguments[1]:void 0)}});var tc=Zn,ec=h,rc=J,nc=d.f,oc=v,ic=ec((function(){nc(1)}));tc({target:"Object",stat:!0,forced:!oc||ic,sham:!oc},{getOwnPropertyDescriptor:function(t,e){return nc(rc(t),e)}});var ac=me("span").classList,uc=ac&&ac.constructor&&ac.constructor.prototype,cc=uc===Object.prototype?void 0:uc,sc=h,fc=function(t,e){var r=[][t];return!!r&&sc((function(){r.call(null,e||function(){return 1},1)}))},lc=$i.forEach,pc=fc("forEach")?[].forEach:function(t){return lc(this,t,arguments.length>1?arguments[1]:void 0)},dc=p,hc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vc=cc,yc=pc,gc=Ye,bc=function(t){if(t&&t.forEach!==yc)try{gc(t,"forEach",yc)}catch(e){t.forEach=yc}};for(var mc in hc)hc[mc]&&bc(dc[mc]&&dc[mc].prototype);bc(vc);var wc=Cn,_c=J,Sc=d,xc=Bo;Zn({target:"Object",stat:!0,sham:!v},{getOwnPropertyDescriptors:function(t){for(var e,r,n=_c(t),o=Sc.f,i=wc(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&xc(a,e,r);return a}});var Oc=Zn,Ec=v,Tc=bo.f;Oc({target:"Object",stat:!0,forced:Object.defineProperties!==Tc,sham:!Ec},{defineProperties:Tc});var jc=Zn,kc=v,Pc=Ne.f;jc({target:"Object",stat:!0,forced:Object.defineProperty!==Pc,sham:!kc},{defineProperty:Pc});var Ic={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(Ic);var Nc,Cc=f(Ic.exports),Lc={exports:{}};(Nc=Lc).exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Nc.exports.__esModule=!0,Nc.exports.default=Nc.exports;var Rc=f(Lc.exports),Mc={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Mc);var Dc=f(Mc.exports),Ac={exports:{}};!function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}(Ac);var Fc=f(Ac.exports),Uc={exports:{}},Vc={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Vc),function(t){var e=Vc.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new T(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=x(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=l;var d={};function h(){}function v(){}function y(){}var g={};f(g,u,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(j([])));m&&m!==o&&i.call(m,u)&&(g=m);var w=y.prototype=h.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,r){function n(o,a,u,c){var s=p(t[o],t,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==e(l)&&i.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):r.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,f(w,"constructor",y),f(y,"constructor",v),v.displayName=f(y,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},_(S.prototype),f(S.prototype,c,(function(){return this})),n.AsyncIterator=S,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new S(l(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),f(w,s,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Uc);var Gc=Uc.exports(),zc=Gc;try{regeneratorRuntime=Gc}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Gc:Function("r","regeneratorRuntime = r")(Gc)}var Bc,Kc=$,Wc=D,Jc=oe("match"),Yc=function(t){var e;return Kc(t)&&(void 0!==(e=t[Jc])?!!e:"RegExp"==Wc(t))},qc=Yc,$c=TypeError,Hc=function(t){if(qc(t))throw $c("The method doesn't accept regular expressions");return t},Xc=oe("match"),Qc=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Xc]=!1,"/./"[t](e)}catch(t){}}return!1},Zc=Zn,ts=C,es=d.f,rs=sn,ns=go,os=Hc,is=B,as=Qc,us=ts("".startsWith),cs=ts("".slice),ss=Math.min,fs=as("startsWith");Zc({target:"String",proto:!0,forced:!!(fs||(Bc=es(String.prototype,"startsWith"),!Bc||Bc.writable))&&!fs},{startsWith:function(t){var e=ns(is(this));os(t);var r=rs(ss(arguments.length>1?arguments[1]:void 0,e.length)),n=ns(t);return us?us(e,n,r):cs(e,r,r+n.length)===n}});var ls=Zn,ps=wi,ds=Ri,hs=$,vs=an,ys=ln,gs=J,bs=Bo,ms=oe,ws=_u,_s=Qu("slice"),Ss=ms("species"),xs=Array,Os=Math.max;ls({target:"Array",proto:!0,forced:!_s},{slice:function(t,e){var r,n,o,i=gs(this),a=ys(i),u=vs(t,a),c=vs(void 0===e?a:e,a);if(ps(i)&&(r=i.constructor,(ds(r)&&(r===xs||ps(r.prototype))||hs(r)&&null===(r=r[Ss]))&&(r=void 0),r===xs||void 0===r))return ws(i,u,c);for(n=new(void 0===r?xs:r)(Os(c-u,0)),o=0;u<c;u++,o++)u in i&&bs(n,o,i[u]);return n.length=o,n}});var Es=TypeError,Ts=Zn,js=h,ks=wi,Ps=$,Is=Ut,Ns=ln,Cs=function(t){if(t>9007199254740991)throw Es("Maximum allowed index exceeded");return t},Ls=Bo,Rs=Gi,Ms=Qu,Ds=ct,As=oe("isConcatSpreadable"),Fs=Ds>=51||!js((function(){var t=[];return t[As]=!1,t.concat()[0]!==t})),Us=Ms("concat"),Vs=function(t){if(!Ps(t))return!1;var e=t[As];return void 0!==e?!!e:ks(t)};Ts({target:"Array",proto:!0,arity:1,forced:!Fs||!Us},{concat:function(t){var e,r,n,o,i,a=Is(this),u=Rs(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Vs(i=-1===e?a:arguments[e]))for(o=Ns(i),Cs(c+o),r=0;r<o;r++,c++)r in i&&Ls(u,c,i[r]);else Cs(c+1),Ls(u,c++,i);return u.length=c,u}});var Gs=oe,zs=Fo,Bs=Ne.f,Ks=Gs("unscopables"),Ws=Array.prototype;null==Ws[Ks]&&Bs(Ws,Ks,{configurable:!0,value:zs(null)});var Js=function(t){Ws[Ks][t]=!0},Ys=yn.includes,qs=Js;Zn({target:"Array",proto:!0,forced:h((function(){return!Array(1).includes()}))},{includes:function(t){return Ys(this,t,arguments.length>1?arguments[1]:void 0)}}),qs("includes");var $s=Zn,Hs=Hc,Xs=B,Qs=go,Zs=Qc,tf=C("".indexOf);$s({target:"String",proto:!0,forced:!Zs("includes")},{includes:function(t){return!!~tf(Qs(Xs(this)),Qs(Hs(t)),arguments.length>1?arguments[1]:void 0)}});var ef,rf,nf=De,of=h,af=p.RegExp,uf=of((function(){var t=af("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),cf=uf||of((function(){return!af("a","y").sticky})),sf={BROKEN_CARET:uf||of((function(){var t=af("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:cf,UNSUPPORTED_Y:uf},ff=h,lf=p.RegExp,pf=ff((function(){var t=lf(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),df=h,hf=p.RegExp,vf=df((function(){var t=hf("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),yf=m,gf=C,bf=go,mf=function(){var t=nf(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},wf=sf,_f=It.exports,Sf=Fo,xf=Lr.get,Of=pf,Ef=vf,Tf=_f("native-string-replace",String.prototype.replace),jf=RegExp.prototype.exec,kf=jf,Pf=gf("".charAt),If=gf("".indexOf),Nf=gf("".replace),Cf=gf("".slice),Lf=(rf=/b*/g,yf(jf,ef=/a/,"a"),yf(jf,rf,"a"),0!==ef.lastIndex||0!==rf.lastIndex),Rf=wf.BROKEN_CARET,Mf=void 0!==/()??/.exec("")[1];(Lf||Mf||Rf||Of||Ef)&&(kf=function(t){var e,r,n,o,i,a,u,c=this,s=xf(c),f=bf(t),l=s.raw;if(l)return l.lastIndex=c.lastIndex,e=yf(kf,l,f),c.lastIndex=l.lastIndex,e;var p=s.groups,d=Rf&&c.sticky,h=yf(mf,c),v=c.source,y=0,g=f;if(d&&(h=Nf(h,"y",""),-1===If(h,"g")&&(h+="g"),g=Cf(f,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Pf(f,c.lastIndex-1))&&(v="(?: "+v+")",g=" "+g,y++),r=new RegExp("^(?:"+v+")",h)),Mf&&(r=new RegExp("^"+v+"$(?!\\s)",h)),Lf&&(n=c.lastIndex),o=yf(jf,d?r:c,g),d?o?(o.input=Cf(o.input,y),o[0]=Cf(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Lf&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),Mf&&o&&o.length>1&&yf(Tf,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=Sf(null),i=0;i<p.length;i++)a[(u=p[i])[0]]=o[u[1]];return o});var Df=kf;Zn({target:"RegExp",proto:!0,forced:/./.exec!==Df},{exec:Df});var Af=C,Ff=Hr,Uf=Df,Vf=h,Gf=oe,zf=Ye,Bf=Gf("species"),Kf=RegExp.prototype,Wf=Ri,Jf=mt,Yf=TypeError,qf=De,$f=function(t){if(Wf(t))return t;throw Yf(Jf(t)+" is not a constructor")},Hf=oe("species"),Xf=function(t,e){var r,n=qf(t).constructor;return void 0===n||null==(r=qf(n)[Hf])?e:$f(r)},Qf=C,Zf=en,tl=go,el=B,rl=Qf("".charAt),nl=Qf("".charCodeAt),ol=Qf("".slice),il=function(t){return function(e,r){var n,o,i=tl(el(e)),a=Zf(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=nl(i,a))<55296||n>56319||a+1===u||(o=nl(i,a+1))<56320||o>57343?t?rl(i,a):n:t?ol(i,a,a+2):o-56320+(n-55296<<10)+65536}},al={codeAt:il(!1),charAt:il(!0)}.charAt,ul=m,cl=De,sl=Y,fl=D,ll=Df,pl=TypeError,dl=wu,hl=m,vl=C,yl=function(t,e,r,n){var o=Gf(t),i=!Vf((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!Vf((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Bf]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var u=Af(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var a=Af(t),c=e.exec;return c===Uf||c===Kf.exec?i&&!o?{done:!0,value:u(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));Ff(String.prototype,t,c[0]),Ff(Kf,o,c[1])}n&&zf(Kf[o],"sham",!0)},gl=Yc,bl=De,ml=B,wl=Xf,_l=function(t,e,r){return e+(r?al(t,e).length:1)},Sl=sn,xl=go,Ol=Et,El=$o,Tl=function(t,e){var r=t.exec;if(sl(r)){var n=ul(r,t,e);return null!==n&&cl(n),n}if("RegExp"===fl(t))return ul(ll,t,e);throw pl("RegExp#exec called on incompatible receiver")},jl=Df,kl=h,Pl=sf.UNSUPPORTED_Y,Il=Math.min,Nl=[].push,Cl=vl(/./.exec),Ll=vl(Nl),Rl=vl("".slice);yl("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=xl(ml(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!gl(t))return hl(e,n,t,o);for(var i,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=new RegExp(t.source,s+"g");(i=hl(jl,l,n))&&!((a=l.lastIndex)>f&&(Ll(c,Rl(n,f,i.index)),i.length>1&&i.index<n.length&&dl(Nl,c,El(i,1)),u=i[0].length,f=a,c.length>=o));)l.lastIndex===i.index&&l.lastIndex++;return f===n.length?!u&&Cl(l,"")||Ll(c,""):Ll(c,Rl(n,f)),c.length>o?El(c,0,o):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:hl(e,this,t,r)}:e,[function(e,r){var o=ml(this),i=null==e?void 0:Ol(e,t);return i?hl(i,e,o,r):hl(n,xl(o),e,r)},function(t,o){var i=bl(this),a=xl(t),u=r(n,i,a,o,n!==e);if(u.done)return u.value;var c=wl(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Pl?"g":"y"),l=new c(Pl?"^(?:"+i.source+")":i,f),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===Tl(l,a)?[a]:[];for(var d=0,h=0,v=[];h<a.length;){l.lastIndex=Pl?0:h;var y,g=Tl(l,Pl?Rl(a,h):a);if(null===g||(y=Il(Sl(l.lastIndex+(Pl?h:0)),a.length))===d)h=_l(a,h,s);else{if(Ll(v,Rl(a,d,h)),v.length===p)return v;for(var b=1;b<=g.length-1;b++)if(Ll(v,g[b]),v.length===p)return v;h=d=y}}return Ll(v,Rl(a,d)),v}]}),!!kl((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Pl);var Ml=ho,Dl=ao?{}.toString:function(){return"[object "+Ml(this)+"]"};ao||Hr(Object.prototype,"toString",Dl,{unsafe:!0});var Al,Fl,Ul,Vl,Gl="process"==D(p.process),zl=Y,Bl=String,Kl=TypeError,Wl=C,Jl=De,Yl=function(t){if("object"==typeof t||zl(t))return t;throw Kl("Can't set "+Bl(t)+" as a prototype")},ql=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Wl(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Jl(r),Yl(n),e?t(r,n):r.__proto__=n,r}}():void 0),$l=Z,Hl=Ne,Xl=v,Ql=oe("species"),Zl=tt,tp=TypeError,ep=TypeError,rp=function(t,e){if(t<e)throw ep("Not enough arguments");return t},np=/(?:ipad|iphone|ipod).*applewebkit/i.test(et),op=p,ip=wu,ap=bi,up=Y,cp=zt,sp=h,fp=To,lp=_u,pp=me,dp=rp,hp=np,vp=Gl,yp=op.setImmediate,gp=op.clearImmediate,bp=op.process,mp=op.Dispatch,wp=op.Function,_p=op.MessageChannel,Sp=op.String,xp=0,Op={};try{Al=op.location}catch(t){}var Ep=function(t){if(cp(Op,t)){var e=Op[t];delete Op[t],e()}},Tp=function(t){return function(){Ep(t)}},jp=function(t){Ep(t.data)},kp=function(t){op.postMessage(Sp(t),Al.protocol+"//"+Al.host)};yp&&gp||(yp=function(t){dp(arguments.length,1);var e=up(t)?t:wp(t),r=lp(arguments,1);return Op[++xp]=function(){ip(e,void 0,r)},Fl(xp),xp},gp=function(t){delete Op[t]},vp?Fl=function(t){bp.nextTick(Tp(t))}:mp&&mp.now?Fl=function(t){mp.now(Tp(t))}:_p&&!hp?(Vl=(Ul=new _p).port2,Ul.port1.onmessage=jp,Fl=ap(Vl.postMessage,Vl)):op.addEventListener&&up(op.postMessage)&&!op.importScripts&&Al&&"file:"!==Al.protocol&&!sp(kp)?(Fl=kp,op.addEventListener("message",jp,!1)):Fl="onreadystatechange"in pp("script")?function(t){fp.appendChild(pp("script")).onreadystatechange=function(){fp.removeChild(this),Ep(t)}}:function(t){setTimeout(Tp(t),0)});var Pp,Ip,Np,Cp,Lp,Rp,Mp,Dp,Ap={set:yp,clear:gp},Fp=p,Up=/ipad|iphone|ipod/i.test(et)&&void 0!==Fp.Pebble,Vp=/web0s(?!.*chrome)/i.test(et),Gp=p,zp=bi,Bp=d.f,Kp=Ap.set,Wp=np,Jp=Up,Yp=Vp,qp=Gl,$p=Gp.MutationObserver||Gp.WebKitMutationObserver,Hp=Gp.document,Xp=Gp.process,Qp=Gp.Promise,Zp=Bp(Gp,"queueMicrotask"),td=Zp&&Zp.value;td||(Pp=function(){var t,e;for(qp&&(t=Xp.domain)&&t.exit();Ip;){e=Ip.fn,Ip=Ip.next;try{e()}catch(t){throw Ip?Cp():Np=void 0,t}}Np=void 0,t&&t.enter()},Wp||qp||Yp||!$p||!Hp?!Jp&&Qp&&Qp.resolve?((Mp=Qp.resolve(void 0)).constructor=Qp,Dp=zp(Mp.then,Mp),Cp=function(){Dp(Pp)}):qp?Cp=function(){Xp.nextTick(Pp)}:(Kp=zp(Kp,Gp),Cp=function(){Kp(Pp)}):(Lp=!0,Rp=Hp.createTextNode(""),new $p(Pp).observe(Rp,{characterData:!0}),Cp=function(){Rp.data=Lp=!Lp}));var ed=td||function(t){var e={fn:t,next:void 0};Np&&(Np.next=e),Ip||(Ip=e,Cp()),Np=e},rd=p,nd=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},od=function(){this.head=null,this.tail=null};od.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var id=od,ad=p.Promise,ud="object"==typeof window&&"object"!=typeof Deno,cd=p,sd=ad,fd=Y,ld=Wn,pd=ur,dd=oe,hd=ud,vd=ct;sd&&sd.prototype;var yd=dd("species"),gd=!1,bd=fd(cd.PromiseRejectionEvent),md=ld("Promise",(function(){var t=pd(sd),e=t!==String(sd);if(!e&&66===vd)return!0;if(vd>=51&&/native code/.test(t))return!1;var r=new sd((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[yd]=n,!(gd=r.then((function(){}))instanceof n)||!e&&hd&&!bd})),wd={CONSTRUCTOR:md,REJECTION_EVENT:bd,SUBCLASSING:gd},_d={},Sd=xt,xd=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Sd(e),this.reject=Sd(r)};_d.f=function(t){return new xd(t)};var Od,Ed,Td,jd=Zn,kd=Gl,Pd=p,Id=m,Nd=Hr,Cd=ql,Ld=hi,Rd=function(t){var e=$l(t),r=Hl.f;Xl&&e&&!e[Ql]&&r(e,Ql,{configurable:!0,get:function(){return this}})},Md=xt,Dd=Y,Ad=$,Fd=function(t,e){if(Zl(e,t))return t;throw tp("Incorrect invocation")},Ud=Xf,Vd=Ap.set,Gd=ed,zd=function(t,e){var r=rd.console;r&&r.error},Bd=nd,Kd=id,Wd=Lr,Jd=ad,Yd=_d,qd=wd.CONSTRUCTOR,$d=wd.REJECTION_EVENT,Hd=wd.SUBCLASSING,Xd=Wd.getterFor("Promise"),Qd=Wd.set,Zd=Jd&&Jd.prototype,th=Jd,eh=Zd,rh=Pd.TypeError,nh=Pd.document,oh=Pd.process,ih=Yd.f,ah=ih,uh=!!(nh&&nh.createEvent&&Pd.dispatchEvent),ch=function(t){var e;return!(!Ad(t)||!Dd(e=t.then))&&e},sh=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&hh(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s(rh("Promise-chain cycle")):(n=ch(r))?Id(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},fh=function(t,e){t.notified||(t.notified=!0,Gd((function(){for(var r,n=t.reactions;r=n.get();)sh(r,t);t.notified=!1,e&&!t.rejection&&ph(t)})))},lh=function(t,e,r){var n,o;uh?((n=nh.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),Pd.dispatchEvent(n)):n={promise:e,reason:r},!$d&&(o=Pd["on"+t])?o(n):"unhandledrejection"===t&&zd("Unhandled promise rejection",r)},ph=function(t){Id(Vd,Pd,(function(){var e,r=t.facade,n=t.value;if(dh(t)&&(e=Bd((function(){kd?oh.emit("unhandledRejection",n,r):lh("unhandledrejection",r,n)})),t.rejection=kd||dh(t)?2:1,e.error))throw e.value}))},dh=function(t){return 1!==t.rejection&&!t.parent},hh=function(t){Id(Vd,Pd,(function(){var e=t.facade;kd?oh.emit("rejectionHandled",e):lh("rejectionhandled",e,t.value)}))},vh=function(t,e,r){return function(n){t(e,n,r)}},yh=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,fh(t,!0))},gh=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw rh("Promise can't be resolved itself");var n=ch(e);n?Gd((function(){var r={done:!1};try{Id(n,e,vh(gh,r,t),vh(yh,r,t))}catch(e){yh(r,e,t)}})):(t.value=e,t.state=1,fh(t,!1))}catch(e){yh({done:!1},e,t)}}};if(qd&&(eh=(th=function(t){Fd(this,eh),Md(t),Id(Od,this);var e=Xd(this);try{t(vh(gh,e),vh(yh,e))}catch(t){yh(e,t)}}).prototype,(Od=function(t){Qd(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Kd,rejection:!1,state:0,value:void 0})}).prototype=Nd(eh,"then",(function(t,e){var r=Xd(this),n=ih(Ud(this,th));return r.parent=!0,n.ok=!Dd(t)||t,n.fail=Dd(e)&&e,n.domain=kd?oh.domain:void 0,0==r.state?r.reactions.add(n):Gd((function(){sh(n,r)})),n.promise})),Ed=function(){var t=new Od,e=Xd(t);this.promise=t,this.resolve=vh(gh,e),this.reject=vh(yh,e)},Yd.f=ih=function(t){return t===th||undefined===t?new Ed(t):ah(t)},Dd(Jd)&&Zd!==Object.prototype)){Td=Zd.then,Hd||Nd(Zd,"then",(function(t,e){var r=this;return new th((function(t,e){Id(Td,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete Zd.constructor}catch(t){}Cd&&Cd(Zd,eh)}jd({global:!0,constructor:!0,wrap:!0,forced:qd},{Promise:th}),Ld(th,"Promise",!1),Rd("Promise");var bh={},mh=bh,wh=oe("iterator"),_h=Array.prototype,Sh=ho,xh=Et,Oh=bh,Eh=oe("iterator"),Th=function(t){if(null!=t)return xh(t,Eh)||xh(t,"@@iterator")||Oh[Sh(t)]},jh=m,kh=xt,Ph=De,Ih=mt,Nh=Th,Ch=TypeError,Lh=m,Rh=De,Mh=Et,Dh=bi,Ah=m,Fh=De,Uh=mt,Vh=function(t){return void 0!==t&&(mh.Array===t||_h[wh]===t)},Gh=ln,zh=tt,Bh=function(t,e){var r=arguments.length<2?Nh(t):e;if(kh(r))return Ph(jh(r,t));throw Ch(Ih(t)+" is not iterable")},Kh=Th,Wh=function(t,e,r){var n,o;Rh(t);try{if(!(n=Mh(t,"return"))){if("throw"===e)throw r;return r}n=Lh(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Rh(n),r},Jh=TypeError,Yh=function(t,e){this.stopped=t,this.result=e},qh=Yh.prototype,$h=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),h=Dh(e,f),v=function(t){return n&&Wh(n,"normal",t),new Yh(!0,t)},y=function(t){return l?(Fh(t),d?h(t[0],t[1],v):h(t[0],t[1])):d?h(t,v):h(t)};if(p)n=t;else{if(!(o=Kh(t)))throw Jh(Uh(t)+" is not iterable");if(Vh(o)){for(i=0,a=Gh(t);a>i;i++)if((u=y(t[i]))&&zh(qh,u))return u;return new Yh(!1)}n=Bh(t,o)}for(c=n.next;!(s=Ah(c,n)).done;){try{u=y(s.value)}catch(t){Wh(n,"throw",t)}if("object"==typeof u&&u&&zh(qh,u))return u}return new Yh(!1)},Hh=oe("iterator"),Xh=!1;try{var Qh=0,Zh={next:function(){return{done:!!Qh++}},return:function(){Xh=!0}};Zh[Hh]=function(){return this},Array.from(Zh,(function(){throw 2}))}catch(t){}var tv=ad,ev=function(t,e){if(!e&&!Xh)return!1;var r=!1;try{var n={};n[Hh]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},rv=wd.CONSTRUCTOR||!ev((function(t){tv.all(t).then(void 0,(function(){}))})),nv=m,ov=xt,iv=_d,av=nd,uv=$h;Zn({target:"Promise",stat:!0,forced:rv},{all:function(t){var e=this,r=iv.f(e),n=r.resolve,o=r.reject,i=av((function(){var r=ov(e.resolve),i=[],a=0,u=1;uv(t,(function(t){var c=a++,s=!1;u++,nv(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var cv=Zn,sv=wd.CONSTRUCTOR,fv=ad,lv=Z,pv=Y,dv=Hr,hv=fv&&fv.prototype;if(cv({target:"Promise",proto:!0,forced:sv,real:!0},{catch:function(t){return this.then(void 0,t)}}),pv(fv)){var vv=lv("Promise").prototype.catch;hv.catch!==vv&&dv(hv,"catch",vv,{unsafe:!0})}var yv=m,gv=xt,bv=_d,mv=nd,wv=$h;Zn({target:"Promise",stat:!0,forced:rv},{race:function(t){var e=this,r=bv.f(e),n=r.reject,o=mv((function(){var o=gv(e.resolve);wv(t,(function(t){yv(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var _v=m,Sv=_d;Zn({target:"Promise",stat:!0,forced:wd.CONSTRUCTOR},{reject:function(t){var e=Sv.f(this);return _v(e.reject,void 0,t),e.promise}});var xv=De,Ov=$,Ev=_d,Tv=Zn,jv=wd.CONSTRUCTOR,kv=function(t,e){if(xv(t),Ov(e)&&e.constructor===t)return e;var r=Ev.f(t);return(0,r.resolve)(e),r.promise};Z("Promise"),Tv({target:"Promise",stat:!0,forced:jv},{resolve:function(t){return kv(this,t)}});Zn({target:"Array",proto:!0,forced:[].forEach!=pc},{forEach:pc});var Pv=Zn,Iv=Date,Nv=C(Iv.prototype.getTime);Pv({target:"Date",stat:!0},{now:function(){return Nv(new Iv)}});var Cv=C,Lv=Hr,Rv=Date.prototype,Mv=Cv(Rv.toString),Dv=Cv(Rv.getTime);"Invalid Date"!=String(new Date(NaN))&&Lv(Rv,"toString",(function(){var t=Dv(this);return t==t?Mv(this):"Invalid Date"}));var Av=v,Fv=tr.EXISTS,Uv=C,Vv=Ne.f,Gv=Function.prototype,zv=Uv(Gv.toString),Bv=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Kv=Uv(Bv.exec);Av&&!Fv&&Vv(Gv,"name",{configurable:!0,get:function(){try{return Kv(Bv,zv(this))[1]}catch(t){return""}}});var Wv=p,Jv=wu,Yv=Y,qv=_u,$v=rp,Hv=/MSIE .\./.test(et),Xv=Wv.Function,Qv=function(t){return Hv?function(e,r){var n=$v(arguments.length,1)>2,o=Yv(e)?e:Xv(e),i=n?qv(arguments,2):void 0;return t(n?function(){Jv(o,this,i)}:o,r)}:t},Zv={setTimeout:Qv(Wv.setTimeout),setInterval:Qv(Wv.setInterval)},ty=Zv.setInterval;Zn({global:!0,bind:!0,forced:p.setInterval!==ty},{setInterval:ty});var ey=Zv.setTimeout;Zn({global:!0,bind:!0,forced:p.setTimeout!==ey},{setTimeout:ey});var ry=Zn,ny=$i.find,oy=Js,iy=!0;"find"in[]&&Array(1).find((function(){iy=!1})),ry({target:"Array",proto:!0,forced:iy},{find:function(t){return ny(this,t,arguments.length>1?arguments[1]:void 0)}}),oy("find");var ay=$i.map;Zn({target:"Array",proto:!0,forced:!Qu("map")},{map:function(t){return ay(this,t,arguments.length>1?arguments[1]:void 0)}});var uy=mt,cy=TypeError,sy=$o,fy=Math.floor,ly=function(t,e){var r=t.length,n=fy(r/2);return r<8?py(t,e):dy(t,ly(sy(t,0,n),e),ly(sy(t,n),e),e)},py=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},dy=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},hy=ly,vy=et.match(/firefox\/(\d+)/i),yy=!!vy&&+vy[1],gy=/MSIE|Trident/.test(et),by=et.match(/AppleWebKit\/(\d+)\./),my=!!by&&+by[1],wy=Zn,_y=C,Sy=xt,xy=Ut,Oy=ln,Ey=function(t,e){if(!delete t[e])throw cy("Cannot delete property "+uy(e)+" of "+uy(t))},Ty=go,jy=h,ky=hy,Py=fc,Iy=yy,Ny=gy,Cy=ct,Ly=my,Ry=[],My=_y(Ry.sort),Dy=_y(Ry.push),Ay=jy((function(){Ry.sort(void 0)})),Fy=jy((function(){Ry.sort(null)})),Uy=Py("sort"),Vy=!jy((function(){if(Cy)return Cy<70;if(!(Iy&&Iy>3)){if(Ny)return!0;if(Ly)return Ly<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Ry.push({k:e+n,v:r})}for(Ry.sort((function(t,e){return e.v-t.v})),n=0;n<Ry.length;n++)e=Ry[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));wy({target:"Array",proto:!0,forced:Ay||!Fy||!Uy||!Vy},{sort:function(t){void 0!==t&&Sy(t);var e=xy(this);if(Vy)return void 0===t?My(e):My(e,t);var r,n,o=[],i=Oy(e);for(n=0;n<i;n++)n in e&&Dy(o,e[n]);for(ky(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Ty(e)>Ty(r)?1:-1}}(t)),r=o.length,n=0;n<r;)e[n]=o[n++];for(;n<i;)Ey(e,n++);return e}});var Gy=/http[s]{0,1}:\/\/([\w.]+\/?)\S*/;class zy extends Error{constructor(t){super(t),this.name="TimeoutError"}}class By extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const Ky=t=>void 0===globalThis.DOMException?new By(t):new DOMException(t),Wy=t=>{const e=void 0===t.reason?Ky("This operation was aborted."):t.reason;return e instanceof Error?e:Ky(e)};async function Jy(t,e={}){const{interval:r=20,timeout:n=Number.POSITIVE_INFINITY,before:o=!0}=e;let i;const a=new Promise(((e,n)=>{const a=async()=>{try{const n=await t();if("boolean"!=typeof n)throw new TypeError("Expected condition to return a boolean");!0===n?e():i=setTimeout(a,r)}catch(t){n(t)}};o?a():i=setTimeout(a,r)}));if(n!==Number.POSITIVE_INFINITY)try{return await function(t,e,r,n){let o;const i=new Promise(((i,a)=>{if("number"!=typeof e||1!==Math.sign(e))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...n}).signal){const{signal:t}=n;t.aborted&&a(Wy(t)),t.addEventListener("abort",(()=>{a(Wy(t))}))}o=n.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof r){try{i(r())}catch(t){a(t)}return}const n=r instanceof Error?r:new zy("string"==typeof r?r:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),a(n)}),e),(async()=>{try{i(await t)}catch(t){a(t)}finally{n.customTimers.clearTimeout.call(void 0,o)}})()}else i(t)}));return i.clear=()=>{clearTimeout(o),o=void 0},i}(a,n)}catch(t){throw i&&clearTimeout(i),t}return a}var Yy=function(t){return 1024*t*1024},qy=function(t){return new Promise((function(e,r){var n=document.createElement("video");n.preload="metadata",n.src=t,n.onloadedmetadata=function(){e({duration:n.duration}),n=null},n.onerror=function(){r(new Error("è§é¢å è½½å¤±è´¥")),n=null}}))},$y=function(t){return t?t.split("//").pop():""},Hy={expireRedundancy:1e4,partsStrategy:[{min:Yy(1024),partSize:Yy(20),concurrentNum:10},{min:Yy(512),partSize:Yy(20),concurrentNum:10},{min:Yy(200),partSize:Yy(15),concurrentNum:10},{min:Yy(100),partSize:Yy(10),concurrentNum:10}],checkIsVideo:function(t){return t.type.startsWith("video/")},videoToVod:!1,needVideoDuration:!1,needVodURL:!1,vodTimesLimit:0,vodTimeInterval:1e3},Xy=Ut,Qy=pe;Zn({target:"Date",proto:!0,arity:1,forced:h((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=Xy(this),r=Qy(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}});var Zy=m;function tg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function eg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tg(Object(r),!0).forEach((function(e){Fc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}Zn({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Zy(URL.prototype.toString,this)}});var rg=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Error(t||e.CommonMsg.Message);return n.isThenError=!0,n.result=e,Object.keys(r).forEach((function(t){n[t]=r[t]})),n.toJSON=function(){return eg({result:e,isThenError:!0},r)},n};function ng(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function og(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ng(Object(r),!0).forEach((function(e){Fc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ig=function(){function t(e,r){Rc(this,t),Fc(this,"VERSION","1.0.1-alpha.2"),Fc(this,"_options",{}),Fc(this,"obsClient",null),Fc(this,"_bucketName",null),Fc(this,"_obsServer",null),Fc(this,"_tokenCreateTime",null),Fc(this,"_tokenExpire",null),this._init(e,r)}return Dc(t,[{key:"_init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.cloneDeep(og(og({},Hy),r));t.bucketName&&(this._bucketName=t.bucketName),n.videoToVod&&(e.isFunction(r.apiObsToVod)||console.warn("å½éè¦å°è§é¢ä¸ä¼ å°vodæ¶ï¼apiObsToVod æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),n.needVodURL&&(e.isFunction(r.apiVodDetails)||console.warn("å½éè¦è·åè§é¢vodæ­æ¾å°åæ¶ï¼apiVodDetails æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),this._options=t,this.config=n}},{key:"_fillServer",value:function(t){return function(t){return Gy.test(t)}(t)||t.startsWith("//")?t:"https://".concat(t)}},{key:"_getUploadKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t&&t.startsWith("/")&&(t=t.slice(1)),"".concat(t).concat(r.nanoid()).concat(this._getFileType(e))}},{key:"_getFileType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";try{if(t.includes(".")){var r=t.split(".");e=r[r.length-1]}}catch(t){e=""}return e?".".concat(e):""}},{key:"getClient",value:function(){var t=this;return new Promise((function(e,r){var n=function(){var n=t._options,o=["timeout","is_cname","useRawXhr"],i=t._warn;if(n.ak&&n.sk&&n.server){var u=n.server,c={access_key_id:n.ak,secret_access_key:n.sk,server:u};o.forEach((function(t){t in n&&(c[t]=n[t])}));["ak","sk","server","bucketName"].forEach((function(t){n[t]||i("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))})),t._bucketName=n.bucketName,t._obsServer=u,t.obsClient=new a.default(c),t._tokenExpire=0,e(t.obsClient)}else n.getAuthorization?n.getAuthorization({}).then((function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=["ak","sk"];u.forEach((function(t){r[t]||i("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))}));var c=r.server||t._obsServer||null;c||i("åæ°ï¼'server' ä¸ºå¿ä¼ åæ°");var s={access_key_id:r.ak,secret_access_key:r.sk,server:c};t._obsServer=c,o.forEach((function(t){t in n&&(s[t]=n[t])})),r.securityToken&&(s.security_token=r.securityToken),r.expireSeconds?(t._tokenExpire=1e3*r.expireSeconds,t._tokenCreateTime=Date.now()):t._tokenExpire=-1,r.bucketName&&(t._bucketName=r.bucketName),t.obsClient=new a.default(s),e(t.obsClient)})).catch((function(t){r(t)})):(r(new Error("æªæä¾åå§ååæ°")),console.warn("æªæä¾åå§ååæ°"))};t.obsClient?0===t._tokenExpire||t._tokenCreateTime&&t._tokenCreateTime+t._tokenExpire-t.config.expireRedundancy>Date.now()?e(t.obsClient):(t.obsClient=null,n()):n()}))}},{key:"upload",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var i=Cc(zc.mark((function i(a,s){var f,l,p,d,h,v,y,g,b,m,w,_,S,x,O,E,T,j;return zc.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(b=function(t){t.obs_upload_uploadId&&t.obs_upload_key&&f.getClient().then((function(e){e.abortMultipartUpload({Bucket:p,Key:t.obs_upload_key,UploadId:t.obs_upload_uploadId})})),e.onError&&e.onError(t),s(t)},f=t,e.file){i.next=5;break}return b(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'file'")),i.abrupt("return");case 5:if(l=t.config,p=null,d=null,h=l.checkIsVideo(e.file),v=null,!l.getUploadKey){i.next=23;break}return i.prev=11,i.next=14,l.getUploadKey(e.file,o,r.nanoid,t._getFileType(e.file.name));case 14:d=i.sent,i.next=21;break;case 17:return i.prev=17,i.t0=i.catch(11),b(i.t0),i.abrupt("return");case 21:i.next=24;break;case 23:d=t._getUploadKey(o.folderPath,e.file.name);case 24:y=function(){var r=function(){var t=l.partsStrategy;if(t&&t.length>0)return t[t.length-1].min}();!r||e.file.size<r?t.getClient().then((function(r){(p=t._bucketName)?(v=r,r.putObject({Bucket:p,Key:d,SourceFile:e.file,ProgressCallback:function(t,e,r){var n=t/e*100|0;n>95&&(n=95),g({percent:n})}},(function(t,r){t?b(t,e):r.CommonMsg.Status<300?(r.obs_upload_direct=!0,r.obs_upload_bucketName=p,r.obs_upload_key=d,m(r)):b(rg(null,r))}))):b(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){b(t)})):x(e)},g=function(t){e.onProgress&&e.onProgress(t)},m=function(r){var o="https://".concat(p,".").concat($y(t._obsServer),"/").concat(r.obs_upload_key);r.obs_upload_server=t._obsServer,r.obs_upload_data={key:r.obs_upload_key,fullUrl:o,isFromVod:!1,obsUrl:o},r.obs_upload_data,l.videoToVod&&h?l.apiObsToVod(e.file,{key:d,bucketName:p,server:t._obsServer,obsURL:o}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.data,a=e.msg,c=e.otherData;if(i&&i.vodId)l.needVodURL&&i.url&&(r.obs_upload_data.fullUrl=i.url,r.obs_upload_data.isFromVod=!0),r.obs_upload_data.vodId=i.vodId,r.obs_upload_vod_data=c,l.needVodURL&&!i.url?0===l.vodTimesLimit?Jy((function(){return new Promise((function(e,n){l.apiVodDetails(i.vodId,{key:d,bucketName:p,server:t._obsServer,obsURL:o}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,o=t.otherData;n&&n.url?(e(!0),r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=n.url,r.obs_upload_vod_details=o,_(r,n.duration)):e(!1)})).catch((function(t){n(t),t.obs_upload_key=r.obs_upload_key,b(t)}))}))}),{interval:l.vodTimeInterval,before:!1}).catch((function(){})):u.default((function(){return new Promise((function(e,r){l.apiVodDetails(i.vodId,{key:d,bucketName:p,server:t._obsServer,obsURL:o}).then((function(t){var n=t.data;n&&n.url?e(t):setTimeout((function(){r(new Error(t.msg||"vod è½¬ç ä¸­ï¼æ æ³è·åæ­æ¾å°å"))}),l.vodTimeInterval)})).catch((function(t){r(new n.AbortError(t.message))}))}))}),{retries:l.vodTimesLimit}).then((function(t){r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=t.data.url,r.obs_upload_vod_details=t.otherData,_(r,t.data.duration)})).catch((function(t){t.message,t.obs_upload_key=r.obs_upload_key,b(t)})):_(r,i.duration);else{var s=new Error(a||"obsè½¬æ¢vodå¤±è´¥");b(s)}})).catch((function(t){t.obs_upload_key=r.obs_upload_key,b(t)})):w(r)},w=function(t){l.needVideoDuration&&h?qy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,g({percent:100}),S(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,b(e)})):(g({percent:100}),S(t))},_=function(t,e){l.needVideoDuration?0!==e&&e?(t.obs_upload_data.duration=e,g({percent:100}),S(t)):qy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,g({percent:100}),S(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,b(e)})):(g({percent:100}),S(t))},S=function(t){e.onSuccess&&e.onSuccess(t),a(t)},x=function(){t.getClient().then((function(e){(p=t._bucketName)?(v=e,e.initiateMultipartUpload({Bucket:p,Key:d,ContentType:"text/plain"},(function(t,e){t?b(t):(e.CommonMsg.Status,e.CommonMsg.Status<300&&e.InterfaceResult?(e.InterfaceResult.UploadId,E(e)):b(rg(null,e)))}))):b(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){b(t)}))},O=function(t){return l.partsStrategy.find((function(e){return t>=e.min}))},E=function(t){for(var r=0,n=e.file.size,o=O(n),i=o.partSize,a=Math.ceil(n/i),u=t.InterfaceResult.UploadId,s=[],f=0;r<a;)!function(t){s.push((function(){return v.uploadPart({Bucket:p,Key:d,PartNumber:t,UploadId:u,SourceFile:e.file,PartSize:i,Offset:(t-1)*i}).then((function(t){var e=++f/a*100|0;return e>95&&(e=95),g({percent:e}),t}))}))}(++r);c.default(s,{concurrency:o.concurrentNum}).then((function(t){T(a,u)})).catch((function(t){t.obs_upload_uploadId=u,t.obs_upload_key=d,b(t)}))},T=function(t,e){v.listParts({Bucket:p,Key:d,UploadId:e},(function(r,n){if(r)r.obs_upload_uploadId=e,r.obs_upload_key=d,b(r);else if(n.CommonMsg.Status,n.CommonMsg.Status<300&&n.InterfaceResult)if(n.InterfaceResult.Parts,n.InterfaceResult.Parts.length===t){var o=n.InterfaceResult.Parts.sort((function(t,e){return t.PartNumber-e.PartNumber})).map((function(t){return{PartNumber:t.PartNumber,ETag:JSON.parse(t.ETag)}}));j(o,e)}else b(rg("çæ®µä¸å®æ´",n,{obs_upload_uploadId:e,obs_upload_key:d}));else b(rg(null,n,{obs_upload_uploadId:e,obs_upload_key:d}))}))},j=function(t,r){v.completeMultipartUpload({Bucket:p,Key:d,UploadId:r,Parts:t},(function(t,r){t?b(t):(r.CommonMsg.Status<300?(r.obs_upload_direct=!1,r.obs_upload_key=d,r.obs_upload_bucketName=p,m(r,e)):b(rg(null,r)),r.CommonMsg.Status)}))},y();case 36:case"end":return i.stop()}}),i,null,[[11,17]])})));return function(t,e){return i.apply(this,arguments)}}())}},{key:"_warn",value:function(t){console.warn(t)}}]),t}();Object.defineProperty(exports,"ObsClient",{enumerable:!0,get:function(){return a.default}}),exports.default=ig;
