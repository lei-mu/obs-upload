/*! obs-upload version 1.0.2 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("esdk-obs-browserjs"),e=require("lodash-es"),r=require("nanoid"),n=require("p-retry"),o=require("p-all");function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=i(t),u=i(n),c=i(o),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l=function(t){return t&&t.Math==Math&&t},p=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof s&&s)||function(){return this}()||Function("return this")(),d={},v=function(t){try{return!!t()}catch(t){return!0}},h=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=!v((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),b=y,g=Function.prototype.call,m=b?g.bind(g):function(){return g.apply(g,arguments)},w={},_={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,S=x&&!_.call({1:2},1);w.f=S?function(t){var e=x(this,t);return!!e&&e.enumerable}:_;var O,E,k=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=y,j=Function.prototype,P=j.bind,I=j.call,N=T&&P.bind(I,I),C=T?function(t){return t&&N(t)}:function(t){return t&&function(){return I.apply(t,arguments)}},L=C,R=L({}.toString),M=L("".slice),D=function(t){return M(R(t),8,-1)},A=v,F=D,U=Object,V=C("".split),G=A((function(){return!U("z").propertyIsEnumerable(0)}))?function(t){return"String"==F(t)?V(t,""):U(t)}:U,z=TypeError,K=function(t){if(null==t)throw z("Can't call method on "+t);return t},B=G,W=K,J=function(t){return B(W(t))},Y=function(t){return"function"==typeof t},q=Y,$=function(t){return"object"==typeof t?null!==t:q(t)},H=p,X=Y,Q=function(t){return X(t)?t:void 0},Z=function(t,e){return arguments.length<2?Q(H[t]):H[t]&&H[t][e]},tt=C({}.isPrototypeOf),et=Z("navigator","userAgent")||"",rt=p,nt=et,ot=rt.process,it=rt.Deno,at=ot&&ot.versions||it&&it.version,ut=at&&at.v8;ut&&(E=(O=ut.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!E&&nt&&(!(O=nt.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=nt.match(/Chrome\/(\d+)/))&&(E=+O[1]);var ct=E,st=ct,ft=v,lt=!!Object.getOwnPropertySymbols&&!ft((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&st&&st<41})),pt=lt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,dt=Z,vt=Y,ht=tt,yt=Object,bt=pt?function(t){return"symbol"==typeof t}:function(t){var e=dt("Symbol");return vt(e)&&ht(e.prototype,yt(t))},gt=String,mt=function(t){try{return gt(t)}catch(t){return"Object"}},wt=Y,_t=mt,xt=TypeError,St=function(t){if(wt(t))return t;throw xt(_t(t)+" is not a function")},Ot=St,Et=function(t,e){var r=t[e];return null==r?void 0:Ot(r)},kt=m,Tt=Y,jt=$,Pt=TypeError,It={exports:{}},Nt=p,Ct=Object.defineProperty,Lt=function(t,e){try{Ct(Nt,t,{value:e,configurable:!0,writable:!0})}catch(r){Nt[t]=e}return e},Rt=Lt,Mt=p["__core-js_shared__"]||Rt("__core-js_shared__",{}),Dt=Mt;(It.exports=function(t,e){return Dt[t]||(Dt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"});var At=K,Ft=Object,Ut=function(t){return Ft(At(t))},Vt=Ut,Gt=C({}.hasOwnProperty),zt=Object.hasOwn||function(t,e){return Gt(Vt(t),e)},Kt=C,Bt=0,Wt=Math.random(),Jt=Kt(1..toString),Yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Jt(++Bt+Wt,36)},qt=p,$t=It.exports,Ht=zt,Xt=Yt,Qt=lt,Zt=pt,te=$t("wks"),ee=qt.Symbol,re=ee&&ee.for,ne=Zt?ee:ee&&ee.withoutSetter||Xt,oe=function(t){if(!Ht(te,t)||!Qt&&"string"!=typeof te[t]){var e="Symbol."+t;Qt&&Ht(ee,t)?te[t]=ee[t]:te[t]=Zt&&re?re(e):ne(e)}return te[t]},ie=m,ae=$,ue=bt,ce=Et,se=function(t,e){var r,n;if("string"===e&&Tt(r=t.toString)&&!jt(n=kt(r,t)))return n;if(Tt(r=t.valueOf)&&!jt(n=kt(r,t)))return n;if("string"!==e&&Tt(r=t.toString)&&!jt(n=kt(r,t)))return n;throw Pt("Can't convert object to primitive value")},fe=TypeError,le=oe("toPrimitive"),pe=function(t,e){if(!ae(t)||ue(t))return t;var r,n=ce(t,le);if(n){if(void 0===e&&(e="default"),r=ie(n,t,e),!ae(r)||ue(r))return r;throw fe("Can't convert object to primitive value")}return void 0===e&&(e="number"),se(t,e)},de=pe,ve=bt,he=function(t){var e=de(t,"string");return ve(e)?e:e+""},ye=$,be=p.document,ge=ye(be)&&ye(be.createElement),me=function(t){return ge?be.createElement(t):{}},we=me,_e=!h&&!v((function(){return 7!=Object.defineProperty(we("div"),"a",{get:function(){return 7}}).a})),xe=h,Se=m,Oe=w,Ee=k,ke=J,Te=he,je=zt,Pe=_e,Ie=Object.getOwnPropertyDescriptor;d.f=xe?Ie:function(t,e){if(t=ke(t),e=Te(e),Pe)try{return Ie(t,e)}catch(t){}if(je(t,e))return Ee(!Se(Oe.f,t,e),t[e])};var Ne={},Ce=h&&v((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Le=$,Re=String,Me=TypeError,De=function(t){if(Le(t))return t;throw Me(Re(t)+" is not an object")},Ae=h,Fe=_e,Ue=Ce,Ve=De,Ge=he,ze=TypeError,Ke=Object.defineProperty,Be=Object.getOwnPropertyDescriptor;Ne.f=Ae?Ue?function(t,e,r){if(Ve(t),e=Ge(e),Ve(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Be(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return Ke(t,e,r)}:Ke:function(t,e,r){if(Ve(t),e=Ge(e),Ve(r),Fe)try{return Ke(t,e,r)}catch(t){}if("get"in r||"set"in r)throw ze("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var We=Ne,Je=k,Ye=h?function(t,e,r){return We.f(t,e,Je(1,r))}:function(t,e,r){return t[e]=r,t},qe={exports:{}},$e=h,He=zt,Xe=Function.prototype,Qe=$e&&Object.getOwnPropertyDescriptor,Ze=He(Xe,"name"),tr={EXISTS:Ze,PROPER:Ze&&"something"===function(){}.name,CONFIGURABLE:Ze&&(!$e||$e&&Qe(Xe,"name").configurable)},er=Y,rr=Mt,nr=C(Function.toString);er(rr.inspectSource)||(rr.inspectSource=function(t){return nr(t)});var or,ir,ar,ur=rr.inspectSource,cr=Y,sr=ur,fr=p.WeakMap,lr=cr(fr)&&/native code/.test(sr(fr)),pr=It.exports,dr=Yt,vr=pr("keys"),hr=function(t){return vr[t]||(vr[t]=dr(t))},yr={},br=lr,gr=p,mr=C,wr=$,_r=Ye,xr=zt,Sr=Mt,Or=hr,Er=yr,kr=gr.TypeError,Tr=gr.WeakMap;if(br||Sr.state){var jr=Sr.state||(Sr.state=new Tr),Pr=mr(jr.get),Ir=mr(jr.has),Nr=mr(jr.set);or=function(t,e){if(Ir(jr,t))throw new kr("Object already initialized");return e.facade=t,Nr(jr,t,e),e},ir=function(t){return Pr(jr,t)||{}},ar=function(t){return Ir(jr,t)}}else{var Cr=Or("state");Er[Cr]=!0,or=function(t,e){if(xr(t,Cr))throw new kr("Object already initialized");return e.facade=t,_r(t,Cr,e),e},ir=function(t){return xr(t,Cr)?t[Cr]:{}},ar=function(t){return xr(t,Cr)}}var Lr={set:or,get:ir,has:ar,enforce:function(t){return ar(t)?ir(t):or(t,{})},getterFor:function(t){return function(e){var r;if(!wr(e)||(r=ir(e)).type!==t)throw kr("Incompatible receiver, "+t+" required");return r}}},Rr=v,Mr=Y,Dr=zt,Ar=h,Fr=tr.CONFIGURABLE,Ur=ur,Vr=Lr.enforce,Gr=Lr.get,zr=Object.defineProperty,Kr=Ar&&!Rr((function(){return 8!==zr((function(){}),"length",{value:8}).length})),Br=String(String).split("String"),Wr=qe.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Dr(t,"name")||Fr&&t.name!==e)&&zr(t,"name",{value:e,configurable:!0}),Kr&&r&&Dr(r,"arity")&&t.length!==r.arity&&zr(t,"length",{value:r.arity});try{r&&Dr(r,"constructor")&&r.constructor?Ar&&zr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Vr(t);return Dr(n,"source")||(n.source=Br.join("string"==typeof e?e:"")),t};Function.prototype.toString=Wr((function(){return Mr(this)&&Gr(this).source||Ur(this)}),"toString");var Jr=Y,Yr=Ne,qr=qe.exports,$r=Lt,Hr=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;return Jr(r)&&qr(r,i,n),n.global?o?t[e]=r:$r(e,r):(n.unsafe?t[e]&&(o=!0):delete t[e],o?t[e]=r:Yr.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})),t},Xr={},Qr=Math.ceil,Zr=Math.floor,tn=Math.trunc||function(t){var e=+t;return(e>0?Zr:Qr)(e)},en=function(t){var e=+t;return e!=e||0===e?0:tn(e)},rn=en,nn=Math.max,on=Math.min,an=function(t,e){var r=rn(t);return r<0?nn(r+e,0):on(r,e)},un=en,cn=Math.min,sn=function(t){return t>0?cn(un(t),9007199254740991):0},fn=sn,ln=function(t){return fn(t.length)},pn=J,dn=an,vn=ln,hn=function(t){return function(e,r,n){var o,i=pn(e),a=vn(i),u=dn(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},yn={includes:hn(!0),indexOf:hn(!1)},bn=zt,gn=J,mn=yn.indexOf,wn=yr,_n=C([].push),xn=function(t,e){var r,n=gn(t),o=0,i=[];for(r in n)!bn(wn,r)&&bn(n,r)&&_n(i,r);for(;e.length>o;)bn(n,r=e[o++])&&(~mn(i,r)||_n(i,r));return i},Sn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],On=xn,En=Sn.concat("length","prototype");Xr.f=Object.getOwnPropertyNames||function(t){return On(t,En)};var kn={};kn.f=Object.getOwnPropertySymbols;var Tn=Z,jn=Xr,Pn=kn,In=De,Nn=C([].concat),Cn=Tn("Reflect","ownKeys")||function(t){var e=jn.f(In(t)),r=Pn.f;return r?Nn(e,r(t)):e},Ln=zt,Rn=Cn,Mn=d,Dn=Ne,An=v,Fn=Y,Un=/#|\.prototype\./,Vn=function(t,e){var r=zn[Gn(t)];return r==Bn||r!=Kn&&(Fn(e)?An(e):!!e)},Gn=Vn.normalize=function(t){return String(t).replace(Un,".").toLowerCase()},zn=Vn.data={},Kn=Vn.NATIVE="N",Bn=Vn.POLYFILL="P",Wn=Vn,Jn=p,Yn=d.f,qn=Ye,$n=Hr,Hn=Lt,Xn=function(t,e,r){for(var n=Rn(e),o=Dn.f,i=Mn.f,a=0;a<n.length;a++){var u=n[a];Ln(t,u)||r&&Ln(r,u)||o(t,u,i(e,u))}},Qn=Wn,Zn=function(t,e){var r,n,o,i,a,u=t.target,c=t.global,s=t.stat;if(r=c?Jn:s?Jn[u]||Hn(u,{}):(Jn[u]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=Yn(r,n))&&a.value:r[n],!Qn(c?n:u+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Xn(i,o)}(t.sham||o&&o.sham)&&qn(i,"sham",!0),$n(r,n,i,t)}},to=xn,eo=Sn,ro=Object.keys||function(t){return to(t,eo)},no=Ut,oo=ro;Zn({target:"Object",stat:!0,forced:v((function(){oo(1)}))},{keys:function(t){return oo(no(t))}});var io={};io[oe("toStringTag")]="z";var ao="[object z]"===String(io),uo=ao,co=Y,so=D,fo=oe("toStringTag"),lo=Object,po="Arguments"==so(function(){return arguments}()),vo=uo?so:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=lo(t),fo))?r:po?so(e):"Object"==(n=so(e))&&co(e.callee)?"Arguments":n},ho=vo,yo=String,bo=function(t){if("Symbol"===ho(t))throw TypeError("Cannot convert a Symbol value to a string");return yo(t)},go={},mo=h,wo=Ce,_o=Ne,xo=De,So=J,Oo=ro;go.f=mo&&!wo?Object.defineProperties:function(t,e){xo(t);for(var r,n=So(e),o=Oo(e),i=o.length,a=0;i>a;)_o.f(t,r=o[a++],n[r]);return t};var Eo,ko=Z("document","documentElement"),To=De,jo=go,Po=Sn,Io=yr,No=ko,Co=me,Lo=hr("IE_PROTO"),Ro=function(){},Mo=function(t){return"<script>"+t+"<\/script>"},Do=function(t){t.write(Mo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ao=function(){try{Eo=new ActiveXObject("htmlfile")}catch(t){}var t,e;Ao="undefined"!=typeof document?document.domain&&Eo?Do(Eo):((e=Co("iframe")).style.display="none",No.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Mo("document.F=Object")),t.close(),t.F):Do(Eo);for(var r=Po.length;r--;)delete Ao.prototype[Po[r]];return Ao()};Io[Lo]=!0;var Fo=Object.create||function(t,e){var r;return null!==t?(Ro.prototype=To(t),r=new Ro,Ro.prototype=null,r[Lo]=t):r=Ao(),void 0===e?r:jo.f(r,e)},Uo={},Vo=he,Go=Ne,zo=k,Ko=function(t,e,r){var n=Vo(e);n in t?Go.f(t,n,zo(0,r)):t[n]=r},Bo=an,Wo=ln,Jo=Ko,Yo=Array,qo=Math.max,$o=function(t,e,r){for(var n=Wo(t),o=Bo(e,n),i=Bo(void 0===r?n:r,n),a=Yo(qo(i-o,0)),u=0;o<i;o++,u++)Jo(a,u,t[o]);return a.length=u,a},Ho=D,Xo=J,Qo=Xr.f,Zo=$o,ti="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Uo.f=function(t){return ti&&"Window"==Ho(t)?function(t){try{return Qo(t)}catch(t){return Zo(ti)}}(t):Qo(Xo(t))};var ei={},ri=oe;ei.f=ri;var ni=p,oi=zt,ii=ei,ai=Ne.f,ui=m,ci=Z,si=oe,fi=Hr,li=Ne.f,pi=zt,di=oe("toStringTag"),vi=function(t,e,r){t&&!r&&(t=t.prototype),t&&!pi(t,di)&&li(t,di,{configurable:!0,value:e})},hi=St,yi=y,bi=C(C.bind),gi=function(t,e){return hi(t),void 0===e?t:yi?bi(t,e):function(){return t.apply(e,arguments)}},mi=D,wi=Array.isArray||function(t){return"Array"==mi(t)},_i=C,xi=v,Si=Y,Oi=vo,Ei=ur,ki=function(){},Ti=[],ji=Z("Reflect","construct"),Pi=/^\s*(?:class|function)\b/,Ii=_i(Pi.exec),Ni=!Pi.exec(ki),Ci=function(t){if(!Si(t))return!1;try{return ji(ki,Ti,t),!0}catch(t){return!1}},Li=function(t){if(!Si(t))return!1;switch(Oi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ni||!!Ii(Pi,Ei(t))}catch(t){return!0}};Li.sham=!0;var Ri=!ji||xi((function(){var t;return Ci(Ci.call)||!Ci(Object)||!Ci((function(){t=!0}))||t}))?Li:Ci,Mi=wi,Di=Ri,Ai=$,Fi=oe("species"),Ui=Array,Vi=function(t){var e;return Mi(t)&&(e=t.constructor,(Di(e)&&(e===Ui||Mi(e.prototype))||Ai(e)&&null===(e=e[Fi]))&&(e=void 0)),void 0===e?Ui:e},Gi=function(t,e){return new(Vi(t))(0===e?0:e)},zi=gi,Ki=G,Bi=Ut,Wi=ln,Ji=Gi,Yi=C([].push),qi=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,d,v=Bi(c),h=Ki(v),y=zi(s,f),b=Wi(h),g=0,m=l||Ji,w=e?m(c,b):r||a?m(c,0):void 0;b>g;g++)if((u||g in h)&&(d=y(p=h[g],g,v),t))if(e)w[g]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return g;case 2:Yi(w,p)}else switch(t){case 4:return!1;case 7:Yi(w,p)}return i?-1:n||o?o:w}},$i={forEach:qi(0),map:qi(1),filter:qi(2),some:qi(3),every:qi(4),find:qi(5),findIndex:qi(6),filterReject:qi(7)},Hi=Zn,Xi=p,Qi=m,Zi=C,ta=h,ea=lt,ra=v,na=zt,oa=tt,ia=De,aa=J,ua=he,ca=bo,sa=k,fa=Fo,la=ro,pa=Xr,da=Uo,va=kn,ha=d,ya=Ne,ba=go,ga=w,ma=Hr,wa=It.exports,_a=yr,xa=Yt,Sa=oe,Oa=ei,Ea=function(t){var e=ni.Symbol||(ni.Symbol={});oi(e,t)||ai(e,t,{value:ii.f(t)})},ka=function(){var t=ci("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=si("toPrimitive");e&&!e[n]&&fi(e,n,(function(t){return ui(r,this)}),{arity:1})},Ta=vi,ja=Lr,Pa=$i.forEach,Ia=hr("hidden"),Na=ja.set,Ca=ja.getterFor("Symbol"),La=Object.prototype,Ra=Xi.Symbol,Ma=Ra&&Ra.prototype,Da=Xi.TypeError,Aa=Xi.QObject,Fa=ha.f,Ua=ya.f,Va=da.f,Ga=ga.f,za=Zi([].push),Ka=wa("symbols"),Ba=wa("op-symbols"),Wa=wa("wks"),Ja=!Aa||!Aa.prototype||!Aa.prototype.findChild,Ya=ta&&ra((function(){return 7!=fa(Ua({},"a",{get:function(){return Ua(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Fa(La,e);n&&delete La[e],Ua(t,e,r),n&&t!==La&&Ua(La,e,n)}:Ua,qa=function(t,e){var r=Ka[t]=fa(Ma);return Na(r,{type:"Symbol",tag:t,description:e}),ta||(r.description=e),r},$a=function(t,e,r){t===La&&$a(Ba,e,r),ia(t);var n=ua(e);return ia(r),na(Ka,n)?(r.enumerable?(na(t,Ia)&&t[Ia][n]&&(t[Ia][n]=!1),r=fa(r,{enumerable:sa(0,!1)})):(na(t,Ia)||Ua(t,Ia,sa(1,{})),t[Ia][n]=!0),Ya(t,n,r)):Ua(t,n,r)},Ha=function(t,e){ia(t);var r=aa(e),n=la(r).concat(tu(r));return Pa(n,(function(e){ta&&!Qi(Xa,r,e)||$a(t,e,r[e])})),t},Xa=function(t){var e=ua(t),r=Qi(Ga,this,e);return!(this===La&&na(Ka,e)&&!na(Ba,e))&&(!(r||!na(this,e)||!na(Ka,e)||na(this,Ia)&&this[Ia][e])||r)},Qa=function(t,e){var r=aa(t),n=ua(e);if(r!==La||!na(Ka,n)||na(Ba,n)){var o=Fa(r,n);return!o||!na(Ka,n)||na(r,Ia)&&r[Ia][n]||(o.enumerable=!0),o}},Za=function(t){var e=Va(aa(t)),r=[];return Pa(e,(function(t){na(Ka,t)||na(_a,t)||za(r,t)})),r},tu=function(t){var e=t===La,r=Va(e?Ba:aa(t)),n=[];return Pa(r,(function(t){!na(Ka,t)||e&&!na(La,t)||za(n,Ka[t])})),n};ea||(ma(Ma=(Ra=function(){if(oa(Ma,this))throw Da("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?ca(arguments[0]):void 0,e=xa(t),r=function(t){this===La&&Qi(r,Ba,t),na(this,Ia)&&na(this[Ia],e)&&(this[Ia][e]=!1),Ya(this,e,sa(1,t))};return ta&&Ja&&Ya(La,e,{configurable:!0,set:r}),qa(e,t)}).prototype,"toString",(function(){return Ca(this).tag})),ma(Ra,"withoutSetter",(function(t){return qa(xa(t),t)})),ga.f=Xa,ya.f=$a,ba.f=Ha,ha.f=Qa,pa.f=da.f=Za,va.f=tu,Oa.f=function(t){return qa(Sa(t),t)},ta&&(Ua(Ma,"description",{configurable:!0,get:function(){return Ca(this).description}}),ma(La,"propertyIsEnumerable",Xa,{unsafe:!0}))),Hi({global:!0,constructor:!0,wrap:!0,forced:!ea,sham:!ea},{Symbol:Ra}),Pa(la(Wa),(function(t){Ea(t)})),Hi({target:"Symbol",stat:!0,forced:!ea},{useSetter:function(){Ja=!0},useSimple:function(){Ja=!1}}),Hi({target:"Object",stat:!0,forced:!ea,sham:!ta},{create:function(t,e){return void 0===e?fa(t):Ha(fa(t),e)},defineProperty:$a,defineProperties:Ha,getOwnPropertyDescriptor:Qa}),Hi({target:"Object",stat:!0,forced:!ea},{getOwnPropertyNames:Za}),ka(),Ta(Ra,"Symbol"),_a[Ia]=!0;var eu=lt&&!!Symbol.for&&!!Symbol.keyFor,ru=Zn,nu=Z,ou=zt,iu=bo,au=It.exports,uu=eu,cu=au("string-to-symbol-registry"),su=au("symbol-to-string-registry");ru({target:"Symbol",stat:!0,forced:!uu},{for:function(t){var e=iu(t);if(ou(cu,e))return cu[e];var r=nu("Symbol")(e);return cu[e]=r,su[r]=e,r}});var fu=Zn,lu=zt,pu=bt,du=mt,vu=eu,hu=(0,It.exports)("symbol-to-string-registry");fu({target:"Symbol",stat:!0,forced:!vu},{keyFor:function(t){if(!pu(t))throw TypeError(du(t)+" is not a symbol");if(lu(hu,t))return hu[t]}});var yu=y,bu=Function.prototype,gu=bu.apply,mu=bu.call,wu="object"==typeof Reflect&&Reflect.apply||(yu?mu.bind(gu):function(){return mu.apply(gu,arguments)}),_u=C([].slice),xu=Zn,Su=Z,Ou=wu,Eu=m,ku=C,Tu=v,ju=wi,Pu=Y,Iu=$,Nu=bt,Cu=_u,Lu=lt,Ru=Su("JSON","stringify"),Mu=ku(/./.exec),Du=ku("".charAt),Au=ku("".charCodeAt),Fu=ku("".replace),Uu=ku(1..toString),Vu=/[\uD800-\uDFFF]/g,Gu=/^[\uD800-\uDBFF]$/,zu=/^[\uDC00-\uDFFF]$/,Ku=!Lu||Tu((function(){var t=Su("Symbol")();return"[null]"!=Ru([t])||"{}"!=Ru({a:t})||"{}"!=Ru(Object(t))})),Bu=Tu((function(){return'"\\udf06\\ud834"'!==Ru("\udf06\ud834")||'"\\udead"'!==Ru("\udead")})),Wu=function(t,e){var r=Cu(arguments),n=e;if((Iu(e)||void 0!==t)&&!Nu(t))return ju(e)||(e=function(t,e){if(Pu(n)&&(e=Eu(n,this,t,e)),!Nu(e))return e}),r[1]=e,Ou(Ru,null,r)},Ju=function(t,e,r){var n=Du(r,e-1),o=Du(r,e+1);return Mu(Gu,t)&&!Mu(zu,o)||Mu(zu,t)&&!Mu(Gu,n)?"\\u"+Uu(Au(t,0),16):t};Ru&&xu({target:"JSON",stat:!0,arity:3,forced:Ku||Bu},{stringify:function(t,e,r){var n=Cu(arguments),o=Ou(Ku?Wu:Ru,null,n);return Bu&&"string"==typeof o?Fu(o,Vu,Ju):o}});var Yu=kn,qu=Ut;Zn({target:"Object",stat:!0,forced:!lt||v((function(){Yu.f(1)}))},{getOwnPropertySymbols:function(t){var e=Yu.f;return e?e(qu(t)):[]}});var $u=v,Hu=ct,Xu=oe("species"),Qu=function(t){return Hu>=51||!$u((function(){var e=[];return(e.constructor={})[Xu]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Zu=$i.filter;Zn({target:"Array",proto:!0,forced:!Qu("filter")},{filter:function(t){return Zu(this,t,arguments.length>1?arguments[1]:void 0)}});var tc=Zn,ec=v,rc=J,nc=d.f,oc=h,ic=ec((function(){nc(1)}));tc({target:"Object",stat:!0,forced:!oc||ic,sham:!oc},{getOwnPropertyDescriptor:function(t,e){return nc(rc(t),e)}});var ac=me("span").classList,uc=ac&&ac.constructor&&ac.constructor.prototype,cc=uc===Object.prototype?void 0:uc,sc=v,fc=function(t,e){var r=[][t];return!!r&&sc((function(){r.call(null,e||function(){return 1},1)}))},lc=$i.forEach,pc=fc("forEach")?[].forEach:function(t){return lc(this,t,arguments.length>1?arguments[1]:void 0)},dc=p,vc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},hc=cc,yc=pc,bc=Ye,gc=function(t){if(t&&t.forEach!==yc)try{bc(t,"forEach",yc)}catch(e){t.forEach=yc}};for(var mc in vc)vc[mc]&&gc(dc[mc]&&dc[mc].prototype);gc(hc);var wc=Cn,_c=J,xc=d,Sc=Ko;Zn({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(t){for(var e,r,n=_c(t),o=xc.f,i=wc(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&Sc(a,e,r);return a}});var Oc=Zn,Ec=h,kc=go.f;Oc({target:"Object",stat:!0,forced:Object.defineProperties!==kc,sham:!Ec},{defineProperties:kc});var Tc=Zn,jc=h,Pc=Ne.f;Tc({target:"Object",stat:!0,forced:Object.defineProperty!==Pc,sham:!jc},{defineProperty:Pc});var Ic={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(Ic);var Nc,Cc=f(Ic.exports),Lc={exports:{}};(Nc=Lc).exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Nc.exports.__esModule=!0,Nc.exports.default=Nc.exports;var Rc=f(Lc.exports),Mc={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Mc);var Dc=f(Mc.exports),Ac={exports:{}};!function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}(Ac);var Fc=f(Ac.exports),Uc={exports:{}},Vc={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Vc),function(t){var e=Vc.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=l;var d={};function v(){}function h(){}function y(){}var b={};f(b,u,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(T([])));m&&m!==o&&i.call(m,u)&&(b=m);var w=y.prototype=v.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,r){function n(o,a,u,c){var s=p(t[o],t,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==e(l)&&i.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):r.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=y,f(w,"constructor",y),f(y,"constructor",h),h.displayName=f(y,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},_(x.prototype),f(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new x(l(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),f(w,s,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Uc);var Gc=Uc.exports(),zc=Gc;try{regeneratorRuntime=Gc}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Gc:Function("r","regeneratorRuntime = r")(Gc)}var Kc,Bc=$,Wc=D,Jc=oe("match"),Yc=function(t){var e;return Bc(t)&&(void 0!==(e=t[Jc])?!!e:"RegExp"==Wc(t))},qc=Yc,$c=TypeError,Hc=function(t){if(qc(t))throw $c("The method doesn't accept regular expressions");return t},Xc=oe("match"),Qc=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Xc]=!1,"/./"[t](e)}catch(t){}}return!1},Zc=Zn,ts=C,es=d.f,rs=sn,ns=bo,os=Hc,is=K,as=Qc,us=ts("".startsWith),cs=ts("".slice),ss=Math.min,fs=as("startsWith");Zc({target:"String",proto:!0,forced:!!(fs||(Kc=es(String.prototype,"startsWith"),!Kc||Kc.writable))&&!fs},{startsWith:function(t){var e=ns(is(this));os(t);var r=rs(ss(arguments.length>1?arguments[1]:void 0,e.length)),n=ns(t);return us?us(e,n,r):cs(e,r,r+n.length)===n}});var ls=Zn,ps=wi,ds=Ri,vs=$,hs=an,ys=ln,bs=J,gs=Ko,ms=oe,ws=_u,_s=Qu("slice"),xs=ms("species"),Ss=Array,Os=Math.max;ls({target:"Array",proto:!0,forced:!_s},{slice:function(t,e){var r,n,o,i=bs(this),a=ys(i),u=hs(t,a),c=hs(void 0===e?a:e,a);if(ps(i)&&(r=i.constructor,(ds(r)&&(r===Ss||ps(r.prototype))||vs(r)&&null===(r=r[xs]))&&(r=void 0),r===Ss||void 0===r))return ws(i,u,c);for(n=new(void 0===r?Ss:r)(Os(c-u,0)),o=0;u<c;u++,o++)u in i&&gs(n,o,i[u]);return n.length=o,n}});var Es=TypeError,ks=Zn,Ts=v,js=wi,Ps=$,Is=Ut,Ns=ln,Cs=function(t){if(t>9007199254740991)throw Es("Maximum allowed index exceeded");return t},Ls=Ko,Rs=Gi,Ms=Qu,Ds=ct,As=oe("isConcatSpreadable"),Fs=Ds>=51||!Ts((function(){var t=[];return t[As]=!1,t.concat()[0]!==t})),Us=Ms("concat"),Vs=function(t){if(!Ps(t))return!1;var e=t[As];return void 0!==e?!!e:js(t)};ks({target:"Array",proto:!0,arity:1,forced:!Fs||!Us},{concat:function(t){var e,r,n,o,i,a=Is(this),u=Rs(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Vs(i=-1===e?a:arguments[e]))for(o=Ns(i),Cs(c+o),r=0;r<o;r++,c++)r in i&&Ls(u,c,i[r]);else Cs(c+1),Ls(u,c++,i);return u.length=c,u}});var Gs=oe,zs=Fo,Ks=Ne.f,Bs=Gs("unscopables"),Ws=Array.prototype;null==Ws[Bs]&&Ks(Ws,Bs,{configurable:!0,value:zs(null)});var Js=function(t){Ws[Bs][t]=!0},Ys=yn.includes,qs=Js;Zn({target:"Array",proto:!0,forced:v((function(){return!Array(1).includes()}))},{includes:function(t){return Ys(this,t,arguments.length>1?arguments[1]:void 0)}}),qs("includes");var $s=Zn,Hs=Hc,Xs=K,Qs=bo,Zs=Qc,tf=C("".indexOf);$s({target:"String",proto:!0,forced:!Zs("includes")},{includes:function(t){return!!~tf(Qs(Xs(this)),Qs(Hs(t)),arguments.length>1?arguments[1]:void 0)}});var ef,rf,nf=De,of=v,af=p.RegExp,uf=of((function(){var t=af("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),cf=uf||of((function(){return!af("a","y").sticky})),sf={BROKEN_CARET:uf||of((function(){var t=af("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:cf,UNSUPPORTED_Y:uf},ff=v,lf=p.RegExp,pf=ff((function(){var t=lf(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),df=v,vf=p.RegExp,hf=df((function(){var t=vf("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),yf=m,bf=C,gf=bo,mf=function(){var t=nf(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},wf=sf,_f=It.exports,xf=Fo,Sf=Lr.get,Of=pf,Ef=hf,kf=_f("native-string-replace",String.prototype.replace),Tf=RegExp.prototype.exec,jf=Tf,Pf=bf("".charAt),If=bf("".indexOf),Nf=bf("".replace),Cf=bf("".slice),Lf=(rf=/b*/g,yf(Tf,ef=/a/,"a"),yf(Tf,rf,"a"),0!==ef.lastIndex||0!==rf.lastIndex),Rf=wf.BROKEN_CARET,Mf=void 0!==/()??/.exec("")[1];(Lf||Mf||Rf||Of||Ef)&&(jf=function(t){var e,r,n,o,i,a,u,c=this,s=Sf(c),f=gf(t),l=s.raw;if(l)return l.lastIndex=c.lastIndex,e=yf(jf,l,f),c.lastIndex=l.lastIndex,e;var p=s.groups,d=Rf&&c.sticky,v=yf(mf,c),h=c.source,y=0,b=f;if(d&&(v=Nf(v,"y",""),-1===If(v,"g")&&(v+="g"),b=Cf(f,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Pf(f,c.lastIndex-1))&&(h="(?: "+h+")",b=" "+b,y++),r=new RegExp("^(?:"+h+")",v)),Mf&&(r=new RegExp("^"+h+"$(?!\\s)",v)),Lf&&(n=c.lastIndex),o=yf(Tf,d?r:c,b),d?o?(o.input=Cf(o.input,y),o[0]=Cf(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Lf&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),Mf&&o&&o.length>1&&yf(kf,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=xf(null),i=0;i<p.length;i++)a[(u=p[i])[0]]=o[u[1]];return o});var Df=jf;Zn({target:"RegExp",proto:!0,forced:/./.exec!==Df},{exec:Df});var Af=C,Ff=Hr,Uf=Df,Vf=v,Gf=oe,zf=Ye,Kf=Gf("species"),Bf=RegExp.prototype,Wf=Ri,Jf=mt,Yf=TypeError,qf=De,$f=function(t){if(Wf(t))return t;throw Yf(Jf(t)+" is not a constructor")},Hf=oe("species"),Xf=function(t,e){var r,n=qf(t).constructor;return void 0===n||null==(r=qf(n)[Hf])?e:$f(r)},Qf=C,Zf=en,tl=bo,el=K,rl=Qf("".charAt),nl=Qf("".charCodeAt),ol=Qf("".slice),il=function(t){return function(e,r){var n,o,i=tl(el(e)),a=Zf(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=nl(i,a))<55296||n>56319||a+1===u||(o=nl(i,a+1))<56320||o>57343?t?rl(i,a):n:t?ol(i,a,a+2):o-56320+(n-55296<<10)+65536}},al={codeAt:il(!1),charAt:il(!0)}.charAt,ul=m,cl=De,sl=Y,fl=D,ll=Df,pl=TypeError,dl=wu,vl=m,hl=C,yl=function(t,e,r,n){var o=Gf(t),i=!Vf((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!Vf((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Kf]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var u=Af(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var a=Af(t),c=e.exec;return c===Uf||c===Bf.exec?i&&!o?{done:!0,value:u(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));Ff(String.prototype,t,c[0]),Ff(Bf,o,c[1])}n&&zf(Bf[o],"sham",!0)},bl=Yc,gl=De,ml=K,wl=Xf,_l=function(t,e,r){return e+(r?al(t,e).length:1)},xl=sn,Sl=bo,Ol=Et,El=$o,kl=function(t,e){var r=t.exec;if(sl(r)){var n=ul(r,t,e);return null!==n&&cl(n),n}if("RegExp"===fl(t))return ul(ll,t,e);throw pl("RegExp#exec called on incompatible receiver")},Tl=Df,jl=v,Pl=sf.UNSUPPORTED_Y,Il=Math.min,Nl=[].push,Cl=hl(/./.exec),Ll=hl(Nl),Rl=hl("".slice);yl("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=Sl(ml(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!bl(t))return vl(e,n,t,o);for(var i,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=new RegExp(t.source,s+"g");(i=vl(Tl,l,n))&&!((a=l.lastIndex)>f&&(Ll(c,Rl(n,f,i.index)),i.length>1&&i.index<n.length&&dl(Nl,c,El(i,1)),u=i[0].length,f=a,c.length>=o));)l.lastIndex===i.index&&l.lastIndex++;return f===n.length?!u&&Cl(l,"")||Ll(c,""):Ll(c,Rl(n,f)),c.length>o?El(c,0,o):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:vl(e,this,t,r)}:e,[function(e,r){var o=ml(this),i=null==e?void 0:Ol(e,t);return i?vl(i,e,o,r):vl(n,Sl(o),e,r)},function(t,o){var i=gl(this),a=Sl(t),u=r(n,i,a,o,n!==e);if(u.done)return u.value;var c=wl(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Pl?"g":"y"),l=new c(Pl?"^(?:"+i.source+")":i,f),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===kl(l,a)?[a]:[];for(var d=0,v=0,h=[];v<a.length;){l.lastIndex=Pl?0:v;var y,b=kl(l,Pl?Rl(a,v):a);if(null===b||(y=Il(xl(l.lastIndex+(Pl?v:0)),a.length))===d)v=_l(a,v,s);else{if(Ll(h,Rl(a,d,v)),h.length===p)return h;for(var g=1;g<=b.length-1;g++)if(Ll(h,b[g]),h.length===p)return h;v=d=y}}return Ll(h,Rl(a,d)),h}]}),!!jl((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Pl);var Ml=vo,Dl=ao?{}.toString:function(){return"[object "+Ml(this)+"]"};ao||Hr(Object.prototype,"toString",Dl,{unsafe:!0});var Al,Fl,Ul,Vl,Gl="process"==D(p.process),zl=Y,Kl=String,Bl=TypeError,Wl=C,Jl=De,Yl=function(t){if("object"==typeof t||zl(t))return t;throw Bl("Can't set "+Kl(t)+" as a prototype")},ql=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Wl(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Jl(r),Yl(n),e?t(r,n):r.__proto__=n,r}}():void 0),$l=Z,Hl=Ne,Xl=h,Ql=oe("species"),Zl=tt,tp=TypeError,ep=TypeError,rp=function(t,e){if(t<e)throw ep("Not enough arguments");return t},np=/(?:ipad|iphone|ipod).*applewebkit/i.test(et),op=p,ip=wu,ap=gi,up=Y,cp=zt,sp=v,fp=ko,lp=_u,pp=me,dp=rp,vp=np,hp=Gl,yp=op.setImmediate,bp=op.clearImmediate,gp=op.process,mp=op.Dispatch,wp=op.Function,_p=op.MessageChannel,xp=op.String,Sp=0,Op={};try{Al=op.location}catch(t){}var Ep=function(t){if(cp(Op,t)){var e=Op[t];delete Op[t],e()}},kp=function(t){return function(){Ep(t)}},Tp=function(t){Ep(t.data)},jp=function(t){op.postMessage(xp(t),Al.protocol+"//"+Al.host)};yp&&bp||(yp=function(t){dp(arguments.length,1);var e=up(t)?t:wp(t),r=lp(arguments,1);return Op[++Sp]=function(){ip(e,void 0,r)},Fl(Sp),Sp},bp=function(t){delete Op[t]},hp?Fl=function(t){gp.nextTick(kp(t))}:mp&&mp.now?Fl=function(t){mp.now(kp(t))}:_p&&!vp?(Vl=(Ul=new _p).port2,Ul.port1.onmessage=Tp,Fl=ap(Vl.postMessage,Vl)):op.addEventListener&&up(op.postMessage)&&!op.importScripts&&Al&&"file:"!==Al.protocol&&!sp(jp)?(Fl=jp,op.addEventListener("message",Tp,!1)):Fl="onreadystatechange"in pp("script")?function(t){fp.appendChild(pp("script")).onreadystatechange=function(){fp.removeChild(this),Ep(t)}}:function(t){setTimeout(kp(t),0)});var Pp,Ip,Np,Cp,Lp,Rp,Mp,Dp,Ap={set:yp,clear:bp},Fp=p,Up=/ipad|iphone|ipod/i.test(et)&&void 0!==Fp.Pebble,Vp=/web0s(?!.*chrome)/i.test(et),Gp=p,zp=gi,Kp=d.f,Bp=Ap.set,Wp=np,Jp=Up,Yp=Vp,qp=Gl,$p=Gp.MutationObserver||Gp.WebKitMutationObserver,Hp=Gp.document,Xp=Gp.process,Qp=Gp.Promise,Zp=Kp(Gp,"queueMicrotask"),td=Zp&&Zp.value;td||(Pp=function(){var t,e;for(qp&&(t=Xp.domain)&&t.exit();Ip;){e=Ip.fn,Ip=Ip.next;try{e()}catch(t){throw Ip?Cp():Np=void 0,t}}Np=void 0,t&&t.enter()},Wp||qp||Yp||!$p||!Hp?!Jp&&Qp&&Qp.resolve?((Mp=Qp.resolve(void 0)).constructor=Qp,Dp=zp(Mp.then,Mp),Cp=function(){Dp(Pp)}):qp?Cp=function(){Xp.nextTick(Pp)}:(Bp=zp(Bp,Gp),Cp=function(){Bp(Pp)}):(Lp=!0,Rp=Hp.createTextNode(""),new $p(Pp).observe(Rp,{characterData:!0}),Cp=function(){Rp.data=Lp=!Lp}));var ed=td||function(t){var e={fn:t,next:void 0};Np&&(Np.next=e),Ip||(Ip=e,Cp()),Np=e},rd=p,nd=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},od=function(){this.head=null,this.tail=null};od.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var id=od,ad=p.Promise,ud="object"==typeof window&&"object"!=typeof Deno,cd=p,sd=ad,fd=Y,ld=Wn,pd=ur,dd=oe,vd=ud,hd=ct;sd&&sd.prototype;var yd=dd("species"),bd=!1,gd=fd(cd.PromiseRejectionEvent),md=ld("Promise",(function(){var t=pd(sd),e=t!==String(sd);if(!e&&66===hd)return!0;if(hd>=51&&/native code/.test(t))return!1;var r=new sd((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[yd]=n,!(bd=r.then((function(){}))instanceof n)||!e&&vd&&!gd})),wd={CONSTRUCTOR:md,REJECTION_EVENT:gd,SUBCLASSING:bd},_d={},xd=St,Sd=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=xd(e),this.reject=xd(r)};_d.f=function(t){return new Sd(t)};var Od,Ed,kd,Td=Zn,jd=Gl,Pd=p,Id=m,Nd=Hr,Cd=ql,Ld=vi,Rd=function(t){var e=$l(t),r=Hl.f;Xl&&e&&!e[Ql]&&r(e,Ql,{configurable:!0,get:function(){return this}})},Md=St,Dd=Y,Ad=$,Fd=function(t,e){if(Zl(e,t))return t;throw tp("Incorrect invocation")},Ud=Xf,Vd=Ap.set,Gd=ed,zd=function(t,e){var r=rd.console;r&&r.error},Kd=nd,Bd=id,Wd=Lr,Jd=ad,Yd=_d,qd=wd.CONSTRUCTOR,$d=wd.REJECTION_EVENT,Hd=wd.SUBCLASSING,Xd=Wd.getterFor("Promise"),Qd=Wd.set,Zd=Jd&&Jd.prototype,tv=Jd,ev=Zd,rv=Pd.TypeError,nv=Pd.document,ov=Pd.process,iv=Yd.f,av=iv,uv=!!(nv&&nv.createEvent&&Pd.dispatchEvent),cv=function(t){var e;return!(!Ad(t)||!Dd(e=t.then))&&e},sv=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&vv(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s(rv("Promise-chain cycle")):(n=cv(r))?Id(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},fv=function(t,e){t.notified||(t.notified=!0,Gd((function(){for(var r,n=t.reactions;r=n.get();)sv(r,t);t.notified=!1,e&&!t.rejection&&pv(t)})))},lv=function(t,e,r){var n,o;uv?((n=nv.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),Pd.dispatchEvent(n)):n={promise:e,reason:r},!$d&&(o=Pd["on"+t])?o(n):"unhandledrejection"===t&&zd("Unhandled promise rejection",r)},pv=function(t){Id(Vd,Pd,(function(){var e,r=t.facade,n=t.value;if(dv(t)&&(e=Kd((function(){jd?ov.emit("unhandledRejection",n,r):lv("unhandledrejection",r,n)})),t.rejection=jd||dv(t)?2:1,e.error))throw e.value}))},dv=function(t){return 1!==t.rejection&&!t.parent},vv=function(t){Id(Vd,Pd,(function(){var e=t.facade;jd?ov.emit("rejectionHandled",e):lv("rejectionhandled",e,t.value)}))},hv=function(t,e,r){return function(n){t(e,n,r)}},yv=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,fv(t,!0))},bv=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw rv("Promise can't be resolved itself");var n=cv(e);n?Gd((function(){var r={done:!1};try{Id(n,e,hv(bv,r,t),hv(yv,r,t))}catch(e){yv(r,e,t)}})):(t.value=e,t.state=1,fv(t,!1))}catch(e){yv({done:!1},e,t)}}};if(qd&&(ev=(tv=function(t){Fd(this,ev),Md(t),Id(Od,this);var e=Xd(this);try{t(hv(bv,e),hv(yv,e))}catch(t){yv(e,t)}}).prototype,(Od=function(t){Qd(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Bd,rejection:!1,state:0,value:void 0})}).prototype=Nd(ev,"then",(function(t,e){var r=Xd(this),n=iv(Ud(this,tv));return r.parent=!0,n.ok=!Dd(t)||t,n.fail=Dd(e)&&e,n.domain=jd?ov.domain:void 0,0==r.state?r.reactions.add(n):Gd((function(){sv(n,r)})),n.promise})),Ed=function(){var t=new Od,e=Xd(t);this.promise=t,this.resolve=hv(bv,e),this.reject=hv(yv,e)},Yd.f=iv=function(t){return t===tv||undefined===t?new Ed(t):av(t)},Dd(Jd)&&Zd!==Object.prototype)){kd=Zd.then,Hd||Nd(Zd,"then",(function(t,e){var r=this;return new tv((function(t,e){Id(kd,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete Zd.constructor}catch(t){}Cd&&Cd(Zd,ev)}Td({global:!0,constructor:!0,wrap:!0,forced:qd},{Promise:tv}),Ld(tv,"Promise",!1),Rd("Promise");var gv={},mv=gv,wv=oe("iterator"),_v=Array.prototype,xv=vo,Sv=Et,Ov=gv,Ev=oe("iterator"),kv=function(t){if(null!=t)return Sv(t,Ev)||Sv(t,"@@iterator")||Ov[xv(t)]},Tv=m,jv=St,Pv=De,Iv=mt,Nv=kv,Cv=TypeError,Lv=m,Rv=De,Mv=Et,Dv=gi,Av=m,Fv=De,Uv=mt,Vv=function(t){return void 0!==t&&(mv.Array===t||_v[wv]===t)},Gv=ln,zv=tt,Kv=function(t,e){var r=arguments.length<2?Nv(t):e;if(jv(r))return Pv(Tv(r,t));throw Cv(Iv(t)+" is not iterable")},Bv=kv,Wv=function(t,e,r){var n,o;Rv(t);try{if(!(n=Mv(t,"return"))){if("throw"===e)throw r;return r}n=Lv(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Rv(n),r},Jv=TypeError,Yv=function(t,e){this.stopped=t,this.result=e},qv=Yv.prototype,$v=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),v=Dv(e,f),h=function(t){return n&&Wv(n,"normal",t),new Yv(!0,t)},y=function(t){return l?(Fv(t),d?v(t[0],t[1],h):v(t[0],t[1])):d?v(t,h):v(t)};if(p)n=t;else{if(!(o=Bv(t)))throw Jv(Uv(t)+" is not iterable");if(Vv(o)){for(i=0,a=Gv(t);a>i;i++)if((u=y(t[i]))&&zv(qv,u))return u;return new Yv(!1)}n=Kv(t,o)}for(c=n.next;!(s=Av(c,n)).done;){try{u=y(s.value)}catch(t){Wv(n,"throw",t)}if("object"==typeof u&&u&&zv(qv,u))return u}return new Yv(!1)},Hv=oe("iterator"),Xv=!1;try{var Qv=0,Zv={next:function(){return{done:!!Qv++}},return:function(){Xv=!0}};Zv[Hv]=function(){return this},Array.from(Zv,(function(){throw 2}))}catch(t){}var th=ad,eh=function(t,e){if(!e&&!Xv)return!1;var r=!1;try{var n={};n[Hv]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},rh=wd.CONSTRUCTOR||!eh((function(t){th.all(t).then(void 0,(function(){}))})),nh=m,oh=St,ih=_d,ah=nd,uh=$v;Zn({target:"Promise",stat:!0,forced:rh},{all:function(t){var e=this,r=ih.f(e),n=r.resolve,o=r.reject,i=ah((function(){var r=oh(e.resolve),i=[],a=0,u=1;uh(t,(function(t){var c=a++,s=!1;u++,nh(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var ch=Zn,sh=wd.CONSTRUCTOR,fh=ad,lh=Z,ph=Y,dh=Hr,vh=fh&&fh.prototype;if(ch({target:"Promise",proto:!0,forced:sh,real:!0},{catch:function(t){return this.then(void 0,t)}}),ph(fh)){var hh=lh("Promise").prototype.catch;vh.catch!==hh&&dh(vh,"catch",hh,{unsafe:!0})}var yh=m,bh=St,gh=_d,mh=nd,wh=$v;Zn({target:"Promise",stat:!0,forced:rh},{race:function(t){var e=this,r=gh.f(e),n=r.reject,o=mh((function(){var o=bh(e.resolve);wh(t,(function(t){yh(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var _h=m,xh=_d;Zn({target:"Promise",stat:!0,forced:wd.CONSTRUCTOR},{reject:function(t){var e=xh.f(this);return _h(e.reject,void 0,t),e.promise}});var Sh=De,Oh=$,Eh=_d,kh=Zn,Th=wd.CONSTRUCTOR,jh=function(t,e){if(Sh(t),Oh(e)&&e.constructor===t)return e;var r=Eh.f(t);return(0,r.resolve)(e),r.promise};Z("Promise"),kh({target:"Promise",stat:!0,forced:Th},{resolve:function(t){return jh(this,t)}});Zn({target:"Array",proto:!0,forced:[].forEach!=pc},{forEach:pc});var Ph=Zn,Ih=Date,Nh=C(Ih.prototype.getTime);Ph({target:"Date",stat:!0},{now:function(){return Nh(new Ih)}});var Ch=C,Lh=Hr,Rh=Date.prototype,Mh=Ch(Rh.toString),Dh=Ch(Rh.getTime);"Invalid Date"!=String(new Date(NaN))&&Lh(Rh,"toString",(function(){var t=Dh(this);return t==t?Mh(this):"Invalid Date"}));var Ah=h,Fh=tr.EXISTS,Uh=C,Vh=Ne.f,Gh=Function.prototype,zh=Uh(Gh.toString),Kh=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Bh=Uh(Kh.exec);Ah&&!Fh&&Vh(Gh,"name",{configurable:!0,get:function(){try{return Bh(Kh,zh(this))[1]}catch(t){return""}}});var Wh=p,Jh=wu,Yh=Y,qh=_u,$h=rp,Hh=/MSIE .\./.test(et),Xh=Wh.Function,Qh=function(t){return Hh?function(e,r){var n=$h(arguments.length,1)>2,o=Yh(e)?e:Xh(e),i=n?qh(arguments,2):void 0;return t(n?function(){Jh(o,this,i)}:o,r)}:t},Zh={setTimeout:Qh(Wh.setTimeout),setInterval:Qh(Wh.setInterval)},ty=Zh.setInterval;Zn({global:!0,bind:!0,forced:p.setInterval!==ty},{setInterval:ty});var ey=Zh.setTimeout;Zn({global:!0,bind:!0,forced:p.setTimeout!==ey},{setTimeout:ey});var ry=Zn,ny=$i.find,oy=Js,iy=!0;"find"in[]&&Array(1).find((function(){iy=!1})),ry({target:"Array",proto:!0,forced:iy},{find:function(t){return ny(this,t,arguments.length>1?arguments[1]:void 0)}}),oy("find");var ay=$i.map;Zn({target:"Array",proto:!0,forced:!Qu("map")},{map:function(t){return ay(this,t,arguments.length>1?arguments[1]:void 0)}});var uy=mt,cy=TypeError,sy=$o,fy=Math.floor,ly=function(t,e){var r=t.length,n=fy(r/2);return r<8?py(t,e):dy(t,ly(sy(t,0,n),e),ly(sy(t,n),e),e)},py=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},dy=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},vy=ly,hy=et.match(/firefox\/(\d+)/i),yy=!!hy&&+hy[1],by=/MSIE|Trident/.test(et),gy=et.match(/AppleWebKit\/(\d+)\./),my=!!gy&&+gy[1],wy=Zn,_y=C,xy=St,Sy=Ut,Oy=ln,Ey=function(t,e){if(!delete t[e])throw cy("Cannot delete property "+uy(e)+" of "+uy(t))},ky=bo,Ty=v,jy=vy,Py=fc,Iy=yy,Ny=by,Cy=ct,Ly=my,Ry=[],My=_y(Ry.sort),Dy=_y(Ry.push),Ay=Ty((function(){Ry.sort(void 0)})),Fy=Ty((function(){Ry.sort(null)})),Uy=Py("sort"),Vy=!Ty((function(){if(Cy)return Cy<70;if(!(Iy&&Iy>3)){if(Ny)return!0;if(Ly)return Ly<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Ry.push({k:e+n,v:r})}for(Ry.sort((function(t,e){return e.v-t.v})),n=0;n<Ry.length;n++)e=Ry[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));wy({target:"Array",proto:!0,forced:Ay||!Fy||!Uy||!Vy},{sort:function(t){void 0!==t&&xy(t);var e=Sy(this);if(Vy)return void 0===t?My(e):My(e,t);var r,n,o=[],i=Oy(e);for(n=0;n<i;n++)n in e&&Dy(o,e[n]);for(jy(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:ky(e)>ky(r)?1:-1}}(t)),r=o.length,n=0;n<r;)e[n]=o[n++];for(;n<i;)Ey(e,n++);return e}});var Gy=/http[s]{0,1}:\/\/([\w.]+\/?)\S*/;class zy extends Error{constructor(t){super(t),this.name="TimeoutError"}}class Ky extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const By=t=>void 0===globalThis.DOMException?new Ky(t):new DOMException(t),Wy=t=>{const e=void 0===t.reason?By("This operation was aborted."):t.reason;return e instanceof Error?e:By(e)};async function Jy(t,e={}){const{interval:r=20,timeout:n=Number.POSITIVE_INFINITY,before:o=!0}=e;let i;const a=new Promise(((e,n)=>{const a=async()=>{try{const n=await t();if("boolean"!=typeof n)throw new TypeError("Expected condition to return a boolean");!0===n?e():i=setTimeout(a,r)}catch(t){n(t)}};o?a():i=setTimeout(a,r)}));if(n!==Number.POSITIVE_INFINITY)try{return await function(t,e,r,n){let o;const i=new Promise(((i,a)=>{if("number"!=typeof e||1!==Math.sign(e))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...n}).signal){const{signal:t}=n;t.aborted&&a(Wy(t)),t.addEventListener("abort",(()=>{a(Wy(t))}))}o=n.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof r){try{i(r())}catch(t){a(t)}return}const n=r instanceof Error?r:new zy("string"==typeof r?r:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),a(n)}),e),(async()=>{try{i(await t)}catch(t){a(t)}finally{n.customTimers.clearTimeout.call(void 0,o)}})()}else i(t)}));return i.clear=()=>{clearTimeout(o),o=void 0},i}(a,n)}catch(t){throw i&&clearTimeout(i),t}return a}var Yy=function(t){return 1024*t*1024},qy=function(t){return new Promise((function(e,r){var n=document.createElement("video");n.preload="metadata",n.src=t,n.onloadedmetadata=function(){e({duration:n.duration}),n=null},n.onerror=function(){r(new Error("è§é¢å è½½å¤±è´¥")),n=null}}))},$y=function(t){return t?t.split("//").pop():""},Hy={expireRedundancy:1e4,partsStrategy:[{min:Yy(1024),partSize:Yy(20),concurrentNum:10},{min:Yy(512),partSize:Yy(20),concurrentNum:10},{min:Yy(200),partSize:Yy(15),concurrentNum:10},{min:Yy(100),partSize:Yy(10),concurrentNum:10}],checkIsVideo:function(t){return t.type.startsWith("video/")},videoToVod:!1,needVideoDuration:!1,needVodURL:!1,vodTimesLimit:0,vodTimeInterval:1e3},Xy=Ut,Qy=pe;Zn({target:"Date",proto:!0,arity:1,forced:v((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=Xy(this),r=Qy(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}});var Zy=m;function tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function eb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tb(Object(r),!0).forEach((function(e){Fc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}Zn({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Zy(URL.prototype.toString,this)}});var rb=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Error(t||e.CommonMsg.Message);return n.isThenError=!0,n.result=e,Object.keys(r).forEach((function(t){n[t]=r[t]})),n.toJSON=function(){return eb({result:e,isThenError:!0},r)},n};function nb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ob(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nb(Object(r),!0).forEach((function(e){Fc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ib=function(){function t(e,r){Rc(this,t),Fc(this,"VERSION","1.0.2"),Fc(this,"_options",{}),Fc(this,"obsClient",null),Fc(this,"_bucketName",null),Fc(this,"_obsServer",null),Fc(this,"_tokenCreateTime",null),Fc(this,"_tokenExpire",null),this._init(e,r)}return Dc(t,[{key:"_init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.cloneDeep(ob(ob({},Hy),r));t.bucketName&&(this._bucketName=t.bucketName),n.videoToVod&&(e.isFunction(r.apiObsToVod)||console.warn("å½éè¦å°è§é¢ä¸ä¼ å°vodæ¶ï¼apiObsToVod æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),n.needVodURL&&(e.isFunction(r.apiVodDetails)||console.warn("å½éè¦è·åè§é¢vodæ­æ¾å°åæ¶ï¼apiVodDetails æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),this._options=t,this.config=n}},{key:"_fillServer",value:function(t){return function(t){return Gy.test(t)}(t)||t.startsWith("//")?t:"https://".concat(t)}},{key:"_getUploadKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t&&t.startsWith("/")&&(t=t.slice(1)),"".concat(t).concat(r.nanoid()).concat(this._getFileType(e))}},{key:"_getFileType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";try{if(t.includes(".")){var r=t.split(".");e=r[r.length-1]}}catch(t){e=""}return e?".".concat(e):""}},{key:"getClient",value:function(){var t=this;return new Promise((function(e,r){var n=function(){var n=t._options,o=["timeout","is_cname","useRawXhr"],i=t._warn;if(n.ak&&n.sk&&n.server){var u=n.server,c={access_key_id:n.ak,secret_access_key:n.sk,server:u};o.forEach((function(t){t in n&&(c[t]=n[t])}));["ak","sk","server","bucketName"].forEach((function(t){n[t]||i("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))})),t._bucketName=n.bucketName,t._obsServer=u,t.obsClient=new a.default(c),t._tokenExpire=0,e(t.obsClient)}else n.getAuthorization?n.getAuthorization({}).then((function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=["ak","sk"];u.forEach((function(t){r[t]||i("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))}));var c=r.server||t._obsServer||null;c||i("åæ°ï¼'server' ä¸ºå¿ä¼ åæ°");var s={access_key_id:r.ak,secret_access_key:r.sk,server:c};t._obsServer=c,o.forEach((function(t){t in n&&(s[t]=n[t])})),r.securityToken&&(s.security_token=r.securityToken),r.expireSeconds?(t._tokenExpire=1e3*r.expireSeconds,t._tokenCreateTime=Date.now()):t._tokenExpire=-1,r.bucketName&&(t._bucketName=r.bucketName),t.obsClient=new a.default(s),e(t.obsClient)})).catch((function(t){r(t)})):(r(new Error("æªæä¾åå§ååæ°")),console.warn("æªæä¾åå§ååæ°"))};t.obsClient?0===t._tokenExpire||t._tokenCreateTime&&t._tokenCreateTime+t._tokenExpire-t.config.expireRedundancy>Date.now()?e(t.obsClient):(t.obsClient=null,n()):n()}))}},{key:"upload",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var i=Cc(zc.mark((function i(a,s){var f,l,p,d,v,h,y,b,g,m,w,_,x,S,O,E,k,T;return zc.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(g=function(t){t.obs_upload_uploadId&&t.obs_upload_key&&f.getClient().then((function(e){e.abortMultipartUpload({Bucket:p,Key:t.obs_upload_key,UploadId:t.obs_upload_uploadId})})),e.onError&&e.onError(t),s(t)},f=t,e.file){i.next=5;break}return g(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'file'")),i.abrupt("return");case 5:if(l=t.config,p=null,d=null,v=l.checkIsVideo(e.file),h=null,!l.getUploadKey){i.next=23;break}return i.prev=11,i.next=14,l.getUploadKey(e.file,o,r.nanoid,t._getFileType(e.file.name));case 14:d=i.sent,i.next=21;break;case 17:return i.prev=17,i.t0=i.catch(11),g(i.t0),i.abrupt("return");case 21:i.next=24;break;case 23:d=t._getUploadKey(o.folderPath,e.file.name);case 24:if(d){i.next=27;break}return g(new Error("'getUploadKey' è¿åç key ä¸å­å¨")),i.abrupt("return");case 27:y=function(){var r=function(){var t=l.partsStrategy;if(t&&t.length>0)return t[t.length-1].min}();!r||e.file.size<r?t.getClient().then((function(r){(p=t._bucketName)?(h=r,r.putObject({Bucket:p,Key:d,SourceFile:e.file,ProgressCallback:function(t,e,r){var n=t/e*100|0;n>95&&(n=95),b({percent:n})}},(function(t,r){t?g(t,e):r.CommonMsg.Status<300?(r.obs_upload_direct=!0,r.obs_upload_bucketName=p,r.obs_upload_key=d,m(r)):g(rb(null,r))}))):g(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){g(t)})):S(e)},b=function(t){e.onProgress&&e.onProgress(t)},m=function(r){var o="https://".concat(p,".").concat($y(t._obsServer),"/").concat(r.obs_upload_key);r.obs_upload_server=t._obsServer,r.obs_upload_data={key:r.obs_upload_key,fullUrl:o,isFromVod:!1,obsUrl:o,isVideo:v},r.obs_upload_data,l.videoToVod&&v?l.apiObsToVod(e.file,{key:d,bucketName:p,server:t._obsServer,obsURL:o}).then(Cc(zc.mark((function i(){var a,c,s,f,v,h,y=arguments;return zc.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=y.length>0&&void 0!==y[0]?y[0]:{},c=a.data,s=a.msg,f=a.otherData,!c||!c.vodId){i.next=34;break}if(l.needVodURL&&c.url&&(r.obs_upload_data.fullUrl=c.url,r.obs_upload_data.isFromVod=!0),r.obs_upload_data.vodId=c.vodId,r.obs_upload_vod_data=f,!l.needVodURL||c.url){i.next=31;break}if(v=void 0,"number"!=typeof l.vodTimeInterval){i.next=15;break}v=l.vodTimeInterval,i.next=25;break;case 15:return i.prev=15,i.next=18,l.vodTimeInterval(e.file,{key:d,bucketName:p,server:t._obsServer,obsURL:o,vodId:c.vodId});case 18:v=i.sent,i.next=25;break;case 21:return i.prev=21,i.t0=i.catch(15),g(i.t0),i.abrupt("return");case 25:if("number"==typeof v){i.next=28;break}return g(new Error("'vodTimeInterval' åæ°å¿é¡»ä¸º Number ç±»å")),i.abrupt("return");case 28:0===l.vodTimesLimit?Jy((function(){return new Promise((function(e,n){l.apiVodDetails(c.vodId,{key:d,bucketName:p,server:t._obsServer,obsURL:o}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,o=t.otherData;n&&n.url?(e(!0),r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=n.url,r.obs_upload_vod_details=o,_(r,n.duration)):e(!1)})).catch((function(t){n(t),t.obs_upload_key=r.obs_upload_key,g(t)}))}))}),{interval:v,before:!1}).catch((function(){})):u.default((function(){return new Promise((function(e,r){l.apiVodDetails(c.vodId,{key:d,bucketName:p,server:t._obsServer,obsURL:o}).then((function(t){var n=t.data;n&&n.url?e(t):setTimeout((function(){r(new Error(t.msg||"vod è½¬ç ä¸­ï¼æ æ³è·åæ­æ¾å°å"))}),v)})).catch((function(t){r(new n.AbortError(t.message))}))}))}),{retries:l.vodTimesLimit}).then((function(t){r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=t.data.url,r.obs_upload_vod_details=t.otherData,_(r,t.data.duration)})).catch((function(t){t.message,t.obs_upload_key=r.obs_upload_key,g(t)})),i.next=32;break;case 31:_(r,c.duration);case 32:i.next=36;break;case 34:h=new Error(s||"obsè½¬æ¢vodå¤±è´¥"),g(h);case 36:case"end":return i.stop()}}),i,null,[[15,21]])})))).catch((function(t){t.obs_upload_key=r.obs_upload_key,g(t)})):w(r)},w=function(t){l.needVideoDuration&&v?qy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,b({percent:100}),x(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,g(e)})):(b({percent:100}),x(t))},_=function(t,e){l.needVideoDuration?0!==e&&e?(t.obs_upload_data.duration=e,b({percent:100}),x(t)):qy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,b({percent:100}),x(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,g(e)})):(b({percent:100}),x(t))},x=function(t){e.onSuccess&&e.onSuccess(t),a(t)},S=function(){t.getClient().then((function(e){(p=t._bucketName)?(h=e,e.initiateMultipartUpload({Bucket:p,Key:d,ContentType:"text/plain"},(function(t,e){t?g(t):(e.CommonMsg.Status,e.CommonMsg.Status<300&&e.InterfaceResult?(e.InterfaceResult.UploadId,E(e)):g(rb(null,e)))}))):g(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){g(t)}))},O=function(t){return l.partsStrategy.find((function(e){return t>=e.min}))},E=function(t){for(var r=0,n=e.file.size,o=O(n),i=o.partSize,a=Math.ceil(n/i),u=t.InterfaceResult.UploadId,s=[],f=0;r<a;)!function(t){s.push((function(){return h.uploadPart({Bucket:p,Key:d,PartNumber:t,UploadId:u,SourceFile:e.file,PartSize:i,Offset:(t-1)*i}).then((function(t){var e=++f/a*100|0;return e>95&&(e=95),b({percent:e}),t}))}))}(++r);c.default(s,{concurrency:o.concurrentNum}).then((function(t){k(a,u)})).catch((function(t){t.obs_upload_uploadId=u,t.obs_upload_key=d,g(t)}))},k=function(t,e){h.listParts({Bucket:p,Key:d,UploadId:e},(function(r,n){if(r)r.obs_upload_uploadId=e,r.obs_upload_key=d,g(r);else if(n.CommonMsg.Status,n.CommonMsg.Status<300&&n.InterfaceResult)if(n.InterfaceResult.Parts,n.InterfaceResult.Parts.length===t){var o=n.InterfaceResult.Parts.sort((function(t,e){return t.PartNumber-e.PartNumber})).map((function(t){return{PartNumber:t.PartNumber,ETag:JSON.parse(t.ETag)}}));T(o,e)}else g(rb("çæ®µä¸å®æ´",n,{obs_upload_uploadId:e,obs_upload_key:d}));else g(rb(null,n,{obs_upload_uploadId:e,obs_upload_key:d}))}))},T=function(t,r){h.completeMultipartUpload({Bucket:p,Key:d,UploadId:r,Parts:t},(function(t,r){t?g(t):(r.CommonMsg.Status<300?(r.obs_upload_direct=!1,r.obs_upload_key=d,r.obs_upload_bucketName=p,m(r,e)):g(rb(null,r)),r.CommonMsg.Status)}))},y();case 39:case"end":return i.stop()}}),i,null,[[11,17]])})));return function(t,e){return i.apply(this,arguments)}}())}},{key:"_warn",value:function(t){console.warn(t)}}]),t}();Object.defineProperty(exports,"ObsClient",{enumerable:!0,get:function(){return a.default}}),exports.default=ib;
