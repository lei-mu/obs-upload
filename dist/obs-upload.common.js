/*! obs-upload version 1.0.3 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("esdk-obs-browserjs"),e=require("lodash-es"),r=require("nanoid"),n=require("p-retry"),o=require("p-all"),i=require("p-wait-for");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(t),c=a(n),s=a(o),f=a(i),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d=function(t){return t&&t.Math==Math&&t},v=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof l&&l)||function(){return this}()||Function("return this")(),h={},y=function(t){try{return!!t()}catch(t){return!0}},b=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),g=!y((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),m=g,w=Function.prototype.call,_=m?w.bind(w):function(){return w.apply(w,arguments)},x={},S={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,E=O&&!S.call({1:2},1);x.f=E?function(t){var e=O(this,t);return!!e&&e.enumerable}:S;var k,j,P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=g,I=Function.prototype,N=I.bind,C=I.call,L=T&&N.bind(C,C),R=T?function(t){return t&&L(t)}:function(t){return t&&function(){return C.apply(t,arguments)}},M=R,A=M({}.toString),D=M("".slice),F=function(t){return D(A(t),8,-1)},U=y,V=F,G=Object,z=R("".split),K=U((function(){return!G("z").propertyIsEnumerable(0)}))?function(t){return"String"==V(t)?z(t,""):G(t)}:G,B=TypeError,W=function(t){if(null==t)throw B("Can't call method on "+t);return t},J=K,q=W,H=function(t){return J(q(t))},Y=function(t){return"function"==typeof t},$=Y,X=function(t){return"object"==typeof t?null!==t:$(t)},Q=v,Z=Y,tt=function(t){return Z(t)?t:void 0},et=function(t,e){return arguments.length<2?tt(Q[t]):Q[t]&&Q[t][e]},rt=R({}.isPrototypeOf),nt=et("navigator","userAgent")||"",ot=v,it=nt,at=ot.process,ut=ot.Deno,ct=at&&at.versions||ut&&ut.version,st=ct&&ct.v8;st&&(j=(k=st.split("."))[0]>0&&k[0]<4?1:+(k[0]+k[1])),!j&&it&&(!(k=it.match(/Edge\/(\d+)/))||k[1]>=74)&&(k=it.match(/Chrome\/(\d+)/))&&(j=+k[1]);var ft=j,lt=ft,pt=y,dt=!!Object.getOwnPropertySymbols&&!pt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&lt&&lt<41})),vt=dt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ht=et,yt=Y,bt=rt,gt=Object,mt=vt?function(t){return"symbol"==typeof t}:function(t){var e=ht("Symbol");return yt(e)&&bt(e.prototype,gt(t))},wt=String,_t=function(t){try{return wt(t)}catch(t){return"Object"}},xt=Y,St=_t,Ot=TypeError,Et=function(t){if(xt(t))return t;throw Ot(St(t)+" is not a function")},kt=Et,jt=function(t,e){var r=t[e];return null==r?void 0:kt(r)},Pt=_,Tt=Y,It=X,Nt=TypeError,Ct={exports:{}},Lt=v,Rt=Object.defineProperty,Mt=function(t,e){try{Rt(Lt,t,{value:e,configurable:!0,writable:!0})}catch(r){Lt[t]=e}return e},At=Mt,Dt=v["__core-js_shared__"]||At("__core-js_shared__",{}),Ft=Dt;(Ct.exports=function(t,e){return Ft[t]||(Ft[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ut=W,Vt=Object,Gt=function(t){return Vt(Ut(t))},zt=Gt,Kt=R({}.hasOwnProperty),Bt=Object.hasOwn||function(t,e){return Kt(zt(t),e)},Wt=R,Jt=0,qt=Math.random(),Ht=Wt(1..toString),Yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Ht(++Jt+qt,36)},$t=v,Xt=Ct.exports,Qt=Bt,Zt=Yt,te=dt,ee=vt,re=Xt("wks"),ne=$t.Symbol,oe=ne&&ne.for,ie=ee?ne:ne&&ne.withoutSetter||Zt,ae=function(t){if(!Qt(re,t)||!te&&"string"!=typeof re[t]){var e="Symbol."+t;te&&Qt(ne,t)?re[t]=ne[t]:re[t]=ee&&oe?oe(e):ie(e)}return re[t]},ue=_,ce=X,se=mt,fe=jt,le=function(t,e){var r,n;if("string"===e&&Tt(r=t.toString)&&!It(n=Pt(r,t)))return n;if(Tt(r=t.valueOf)&&!It(n=Pt(r,t)))return n;if("string"!==e&&Tt(r=t.toString)&&!It(n=Pt(r,t)))return n;throw Nt("Can't convert object to primitive value")},pe=TypeError,de=ae("toPrimitive"),ve=function(t,e){if(!ce(t)||se(t))return t;var r,n=fe(t,de);if(n){if(void 0===e&&(e="default"),r=ue(n,t,e),!ce(r)||se(r))return r;throw pe("Can't convert object to primitive value")}return void 0===e&&(e="number"),le(t,e)},he=ve,ye=mt,be=function(t){var e=he(t,"string");return ye(e)?e:e+""},ge=X,me=v.document,we=ge(me)&&ge(me.createElement),_e=function(t){return we?me.createElement(t):{}},xe=_e,Se=!b&&!y((function(){return 7!=Object.defineProperty(xe("div"),"a",{get:function(){return 7}}).a})),Oe=b,Ee=_,ke=x,je=P,Pe=H,Te=be,Ie=Bt,Ne=Se,Ce=Object.getOwnPropertyDescriptor;h.f=Oe?Ce:function(t,e){if(t=Pe(t),e=Te(e),Ne)try{return Ce(t,e)}catch(t){}if(Ie(t,e))return je(!Ee(ke.f,t,e),t[e])};var Le={},Re=b&&y((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Me=X,Ae=String,De=TypeError,Fe=function(t){if(Me(t))return t;throw De(Ae(t)+" is not an object")},Ue=b,Ve=Se,Ge=Re,ze=Fe,Ke=be,Be=TypeError,We=Object.defineProperty,Je=Object.getOwnPropertyDescriptor;Le.f=Ue?Ge?function(t,e,r){if(ze(t),e=Ke(e),ze(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Je(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return We(t,e,r)}:We:function(t,e,r){if(ze(t),e=Ke(e),ze(r),Ve)try{return We(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Be("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var qe=Le,He=P,Ye=b?function(t,e,r){return qe.f(t,e,He(1,r))}:function(t,e,r){return t[e]=r,t},$e={exports:{}},Xe=b,Qe=Bt,Ze=Function.prototype,tr=Xe&&Object.getOwnPropertyDescriptor,er=Qe(Ze,"name"),rr={EXISTS:er,PROPER:er&&"something"===function(){}.name,CONFIGURABLE:er&&(!Xe||Xe&&tr(Ze,"name").configurable)},nr=Y,or=Dt,ir=R(Function.toString);nr(or.inspectSource)||(or.inspectSource=function(t){return ir(t)});var ar,ur,cr,sr=or.inspectSource,fr=Y,lr=sr,pr=v.WeakMap,dr=fr(pr)&&/native code/.test(lr(pr)),vr=Ct.exports,hr=Yt,yr=vr("keys"),br=function(t){return yr[t]||(yr[t]=hr(t))},gr={},mr=dr,wr=v,_r=R,xr=X,Sr=Ye,Or=Bt,Er=Dt,kr=br,jr=gr,Pr=wr.TypeError,Tr=wr.WeakMap;if(mr||Er.state){var Ir=Er.state||(Er.state=new Tr),Nr=_r(Ir.get),Cr=_r(Ir.has),Lr=_r(Ir.set);ar=function(t,e){if(Cr(Ir,t))throw new Pr("Object already initialized");return e.facade=t,Lr(Ir,t,e),e},ur=function(t){return Nr(Ir,t)||{}},cr=function(t){return Cr(Ir,t)}}else{var Rr=kr("state");jr[Rr]=!0,ar=function(t,e){if(Or(t,Rr))throw new Pr("Object already initialized");return e.facade=t,Sr(t,Rr,e),e},ur=function(t){return Or(t,Rr)?t[Rr]:{}},cr=function(t){return Or(t,Rr)}}var Mr={set:ar,get:ur,has:cr,enforce:function(t){return cr(t)?ur(t):ar(t,{})},getterFor:function(t){return function(e){var r;if(!xr(e)||(r=ur(e)).type!==t)throw Pr("Incompatible receiver, "+t+" required");return r}}},Ar=y,Dr=Y,Fr=Bt,Ur=b,Vr=rr.CONFIGURABLE,Gr=sr,zr=Mr.enforce,Kr=Mr.get,Br=Object.defineProperty,Wr=Ur&&!Ar((function(){return 8!==Br((function(){}),"length",{value:8}).length})),Jr=String(String).split("String"),qr=$e.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Fr(t,"name")||Vr&&t.name!==e)&&Br(t,"name",{value:e,configurable:!0}),Wr&&r&&Fr(r,"arity")&&t.length!==r.arity&&Br(t,"length",{value:r.arity});try{r&&Fr(r,"constructor")&&r.constructor?Ur&&Br(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=zr(t);return Fr(n,"source")||(n.source=Jr.join("string"==typeof e?e:"")),t};Function.prototype.toString=qr((function(){return Dr(this)&&Kr(this).source||Gr(this)}),"toString");var Hr=Y,Yr=Le,$r=$e.exports,Xr=Mt,Qr=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;return Hr(r)&&$r(r,i,n),n.global?o?t[e]=r:Xr(e,r):(n.unsafe?t[e]&&(o=!0):delete t[e],o?t[e]=r:Yr.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})),t},Zr={},tn=Math.ceil,en=Math.floor,rn=Math.trunc||function(t){var e=+t;return(e>0?en:tn)(e)},nn=function(t){var e=+t;return e!=e||0===e?0:rn(e)},on=nn,an=Math.max,un=Math.min,cn=function(t,e){var r=on(t);return r<0?an(r+e,0):un(r,e)},sn=nn,fn=Math.min,ln=function(t){return t>0?fn(sn(t),9007199254740991):0},pn=ln,dn=function(t){return pn(t.length)},vn=H,hn=cn,yn=dn,bn=function(t){return function(e,r,n){var o,i=vn(e),a=yn(i),u=hn(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},gn={includes:bn(!0),indexOf:bn(!1)},mn=Bt,wn=H,_n=gn.indexOf,xn=gr,Sn=R([].push),On=function(t,e){var r,n=wn(t),o=0,i=[];for(r in n)!mn(xn,r)&&mn(n,r)&&Sn(i,r);for(;e.length>o;)mn(n,r=e[o++])&&(~_n(i,r)||Sn(i,r));return i},En=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kn=On,jn=En.concat("length","prototype");Zr.f=Object.getOwnPropertyNames||function(t){return kn(t,jn)};var Pn={};Pn.f=Object.getOwnPropertySymbols;var Tn=et,In=Zr,Nn=Pn,Cn=Fe,Ln=R([].concat),Rn=Tn("Reflect","ownKeys")||function(t){var e=In.f(Cn(t)),r=Nn.f;return r?Ln(e,r(t)):e},Mn=Bt,An=Rn,Dn=h,Fn=Le,Un=y,Vn=Y,Gn=/#|\.prototype\./,zn=function(t,e){var r=Bn[Kn(t)];return r==Jn||r!=Wn&&(Vn(e)?Un(e):!!e)},Kn=zn.normalize=function(t){return String(t).replace(Gn,".").toLowerCase()},Bn=zn.data={},Wn=zn.NATIVE="N",Jn=zn.POLYFILL="P",qn=zn,Hn=v,Yn=h.f,$n=Ye,Xn=Qr,Qn=Mt,Zn=function(t,e,r){for(var n=An(e),o=Fn.f,i=Dn.f,a=0;a<n.length;a++){var u=n[a];Mn(t,u)||r&&Mn(r,u)||o(t,u,i(e,u))}},to=qn,eo=function(t,e){var r,n,o,i,a,u=t.target,c=t.global,s=t.stat;if(r=c?Hn:s?Hn[u]||Qn(u,{}):(Hn[u]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=Yn(r,n))&&a.value:r[n],!to(c?n:u+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Zn(i,o)}(t.sham||o&&o.sham)&&$n(i,"sham",!0),Xn(r,n,i,t)}},ro=On,no=En,oo=Object.keys||function(t){return ro(t,no)},io=Gt,ao=oo;eo({target:"Object",stat:!0,forced:y((function(){ao(1)}))},{keys:function(t){return ao(io(t))}});var uo={};uo[ae("toStringTag")]="z";var co="[object z]"===String(uo),so=co,fo=Y,lo=F,po=ae("toStringTag"),vo=Object,ho="Arguments"==lo(function(){return arguments}()),yo=so?lo:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=vo(t),po))?r:ho?lo(e):"Object"==(n=lo(e))&&fo(e.callee)?"Arguments":n},bo=yo,go=String,mo=function(t){if("Symbol"===bo(t))throw TypeError("Cannot convert a Symbol value to a string");return go(t)},wo={},_o=b,xo=Re,So=Le,Oo=Fe,Eo=H,ko=oo;wo.f=_o&&!xo?Object.defineProperties:function(t,e){Oo(t);for(var r,n=Eo(e),o=ko(e),i=o.length,a=0;i>a;)So.f(t,r=o[a++],n[r]);return t};var jo,Po=et("document","documentElement"),To=Fe,Io=wo,No=En,Co=gr,Lo=Po,Ro=_e,Mo=br("IE_PROTO"),Ao=function(){},Do=function(t){return"<script>"+t+"<\/script>"},Fo=function(t){t.write(Do("")),t.close();var e=t.parentWindow.Object;return t=null,e},Uo=function(){try{jo=new ActiveXObject("htmlfile")}catch(t){}var t,e;Uo="undefined"!=typeof document?document.domain&&jo?Fo(jo):((e=Ro("iframe")).style.display="none",Lo.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Do("document.F=Object")),t.close(),t.F):Fo(jo);for(var r=No.length;r--;)delete Uo.prototype[No[r]];return Uo()};Co[Mo]=!0;var Vo=Object.create||function(t,e){var r;return null!==t?(Ao.prototype=To(t),r=new Ao,Ao.prototype=null,r[Mo]=t):r=Uo(),void 0===e?r:Io.f(r,e)},Go={},zo=be,Ko=Le,Bo=P,Wo=function(t,e,r){var n=zo(e);n in t?Ko.f(t,n,Bo(0,r)):t[n]=r},Jo=cn,qo=dn,Ho=Wo,Yo=Array,$o=Math.max,Xo=function(t,e,r){for(var n=qo(t),o=Jo(e,n),i=Jo(void 0===r?n:r,n),a=Yo($o(i-o,0)),u=0;o<i;o++,u++)Ho(a,u,t[o]);return a.length=u,a},Qo=F,Zo=H,ti=Zr.f,ei=Xo,ri="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Go.f=function(t){return ri&&"Window"==Qo(t)?function(t){try{return ti(t)}catch(t){return ei(ri)}}(t):ti(Zo(t))};var ni={},oi=ae;ni.f=oi;var ii=v,ai=Bt,ui=ni,ci=Le.f,si=_,fi=et,li=ae,pi=Qr,di=Le.f,vi=Bt,hi=ae("toStringTag"),yi=function(t,e,r){t&&!r&&(t=t.prototype),t&&!vi(t,hi)&&di(t,hi,{configurable:!0,value:e})},bi=Et,gi=g,mi=R(R.bind),wi=function(t,e){return bi(t),void 0===e?t:gi?mi(t,e):function(){return t.apply(e,arguments)}},_i=F,xi=Array.isArray||function(t){return"Array"==_i(t)},Si=R,Oi=y,Ei=Y,ki=yo,ji=sr,Pi=function(){},Ti=[],Ii=et("Reflect","construct"),Ni=/^\s*(?:class|function)\b/,Ci=Si(Ni.exec),Li=!Ni.exec(Pi),Ri=function(t){if(!Ei(t))return!1;try{return Ii(Pi,Ti,t),!0}catch(t){return!1}},Mi=function(t){if(!Ei(t))return!1;switch(ki(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Li||!!Ci(Ni,ji(t))}catch(t){return!0}};Mi.sham=!0;var Ai=!Ii||Oi((function(){var t;return Ri(Ri.call)||!Ri(Object)||!Ri((function(){t=!0}))||t}))?Mi:Ri,Di=xi,Fi=Ai,Ui=X,Vi=ae("species"),Gi=Array,zi=function(t){var e;return Di(t)&&(e=t.constructor,(Fi(e)&&(e===Gi||Di(e.prototype))||Ui(e)&&null===(e=e[Vi]))&&(e=void 0)),void 0===e?Gi:e},Ki=function(t,e){return new(zi(t))(0===e?0:e)},Bi=wi,Wi=K,Ji=Gt,qi=dn,Hi=Ki,Yi=R([].push),$i=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,d,v=Ji(c),h=Wi(v),y=Bi(s,f),b=qi(h),g=0,m=l||Hi,w=e?m(c,b):r||a?m(c,0):void 0;b>g;g++)if((u||g in h)&&(d=y(p=h[g],g,v),t))if(e)w[g]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return g;case 2:Yi(w,p)}else switch(t){case 4:return!1;case 7:Yi(w,p)}return i?-1:n||o?o:w}},Xi={forEach:$i(0),map:$i(1),filter:$i(2),some:$i(3),every:$i(4),find:$i(5),findIndex:$i(6),filterReject:$i(7)},Qi=eo,Zi=v,ta=_,ea=R,ra=b,na=dt,oa=y,ia=Bt,aa=rt,ua=Fe,ca=H,sa=be,fa=mo,la=P,pa=Vo,da=oo,va=Zr,ha=Go,ya=Pn,ba=h,ga=Le,ma=wo,wa=x,_a=Qr,xa=Ct.exports,Sa=gr,Oa=Yt,Ea=ae,ka=ni,ja=function(t){var e=ii.Symbol||(ii.Symbol={});ai(e,t)||ci(e,t,{value:ui.f(t)})},Pa=function(){var t=fi("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=li("toPrimitive");e&&!e[n]&&pi(e,n,(function(t){return si(r,this)}),{arity:1})},Ta=yi,Ia=Mr,Na=Xi.forEach,Ca=br("hidden"),La=Ia.set,Ra=Ia.getterFor("Symbol"),Ma=Object.prototype,Aa=Zi.Symbol,Da=Aa&&Aa.prototype,Fa=Zi.TypeError,Ua=Zi.QObject,Va=ba.f,Ga=ga.f,za=ha.f,Ka=wa.f,Ba=ea([].push),Wa=xa("symbols"),Ja=xa("op-symbols"),qa=xa("wks"),Ha=!Ua||!Ua.prototype||!Ua.prototype.findChild,Ya=ra&&oa((function(){return 7!=pa(Ga({},"a",{get:function(){return Ga(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Va(Ma,e);n&&delete Ma[e],Ga(t,e,r),n&&t!==Ma&&Ga(Ma,e,n)}:Ga,$a=function(t,e){var r=Wa[t]=pa(Da);return La(r,{type:"Symbol",tag:t,description:e}),ra||(r.description=e),r},Xa=function(t,e,r){t===Ma&&Xa(Ja,e,r),ua(t);var n=sa(e);return ua(r),ia(Wa,n)?(r.enumerable?(ia(t,Ca)&&t[Ca][n]&&(t[Ca][n]=!1),r=pa(r,{enumerable:la(0,!1)})):(ia(t,Ca)||Ga(t,Ca,la(1,{})),t[Ca][n]=!0),Ya(t,n,r)):Ga(t,n,r)},Qa=function(t,e){ua(t);var r=ca(e),n=da(r).concat(ru(r));return Na(n,(function(e){ra&&!ta(Za,r,e)||Xa(t,e,r[e])})),t},Za=function(t){var e=sa(t),r=ta(Ka,this,e);return!(this===Ma&&ia(Wa,e)&&!ia(Ja,e))&&(!(r||!ia(this,e)||!ia(Wa,e)||ia(this,Ca)&&this[Ca][e])||r)},tu=function(t,e){var r=ca(t),n=sa(e);if(r!==Ma||!ia(Wa,n)||ia(Ja,n)){var o=Va(r,n);return!o||!ia(Wa,n)||ia(r,Ca)&&r[Ca][n]||(o.enumerable=!0),o}},eu=function(t){var e=za(ca(t)),r=[];return Na(e,(function(t){ia(Wa,t)||ia(Sa,t)||Ba(r,t)})),r},ru=function(t){var e=t===Ma,r=za(e?Ja:ca(t)),n=[];return Na(r,(function(t){!ia(Wa,t)||e&&!ia(Ma,t)||Ba(n,Wa[t])})),n};na||(_a(Da=(Aa=function(){if(aa(Da,this))throw Fa("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?fa(arguments[0]):void 0,e=Oa(t),r=function(t){this===Ma&&ta(r,Ja,t),ia(this,Ca)&&ia(this[Ca],e)&&(this[Ca][e]=!1),Ya(this,e,la(1,t))};return ra&&Ha&&Ya(Ma,e,{configurable:!0,set:r}),$a(e,t)}).prototype,"toString",(function(){return Ra(this).tag})),_a(Aa,"withoutSetter",(function(t){return $a(Oa(t),t)})),wa.f=Za,ga.f=Xa,ma.f=Qa,ba.f=tu,va.f=ha.f=eu,ya.f=ru,ka.f=function(t){return $a(Ea(t),t)},ra&&(Ga(Da,"description",{configurable:!0,get:function(){return Ra(this).description}}),_a(Ma,"propertyIsEnumerable",Za,{unsafe:!0}))),Qi({global:!0,constructor:!0,wrap:!0,forced:!na,sham:!na},{Symbol:Aa}),Na(da(qa),(function(t){ja(t)})),Qi({target:"Symbol",stat:!0,forced:!na},{useSetter:function(){Ha=!0},useSimple:function(){Ha=!1}}),Qi({target:"Object",stat:!0,forced:!na,sham:!ra},{create:function(t,e){return void 0===e?pa(t):Qa(pa(t),e)},defineProperty:Xa,defineProperties:Qa,getOwnPropertyDescriptor:tu}),Qi({target:"Object",stat:!0,forced:!na},{getOwnPropertyNames:eu}),Pa(),Ta(Aa,"Symbol"),Sa[Ca]=!0;var nu=dt&&!!Symbol.for&&!!Symbol.keyFor,ou=eo,iu=et,au=Bt,uu=mo,cu=Ct.exports,su=nu,fu=cu("string-to-symbol-registry"),lu=cu("symbol-to-string-registry");ou({target:"Symbol",stat:!0,forced:!su},{for:function(t){var e=uu(t);if(au(fu,e))return fu[e];var r=iu("Symbol")(e);return fu[e]=r,lu[r]=e,r}});var pu=eo,du=Bt,vu=mt,hu=_t,yu=nu,bu=(0,Ct.exports)("symbol-to-string-registry");pu({target:"Symbol",stat:!0,forced:!yu},{keyFor:function(t){if(!vu(t))throw TypeError(hu(t)+" is not a symbol");if(du(bu,t))return bu[t]}});var gu=g,mu=Function.prototype,wu=mu.apply,_u=mu.call,xu="object"==typeof Reflect&&Reflect.apply||(gu?_u.bind(wu):function(){return _u.apply(wu,arguments)}),Su=R([].slice),Ou=eo,Eu=et,ku=xu,ju=_,Pu=R,Tu=y,Iu=xi,Nu=Y,Cu=X,Lu=mt,Ru=Su,Mu=dt,Au=Eu("JSON","stringify"),Du=Pu(/./.exec),Fu=Pu("".charAt),Uu=Pu("".charCodeAt),Vu=Pu("".replace),Gu=Pu(1..toString),zu=/[\uD800-\uDFFF]/g,Ku=/^[\uD800-\uDBFF]$/,Bu=/^[\uDC00-\uDFFF]$/,Wu=!Mu||Tu((function(){var t=Eu("Symbol")();return"[null]"!=Au([t])||"{}"!=Au({a:t})||"{}"!=Au(Object(t))})),Ju=Tu((function(){return'"\\udf06\\ud834"'!==Au("\udf06\ud834")||'"\\udead"'!==Au("\udead")})),qu=function(t,e){var r=Ru(arguments),n=e;if((Cu(e)||void 0!==t)&&!Lu(t))return Iu(e)||(e=function(t,e){if(Nu(n)&&(e=ju(n,this,t,e)),!Lu(e))return e}),r[1]=e,ku(Au,null,r)},Hu=function(t,e,r){var n=Fu(r,e-1),o=Fu(r,e+1);return Du(Ku,t)&&!Du(Bu,o)||Du(Bu,t)&&!Du(Ku,n)?"\\u"+Gu(Uu(t,0),16):t};Au&&Ou({target:"JSON",stat:!0,arity:3,forced:Wu||Ju},{stringify:function(t,e,r){var n=Ru(arguments),o=ku(Wu?qu:Au,null,n);return Ju&&"string"==typeof o?Vu(o,zu,Hu):o}});var Yu=Pn,$u=Gt;eo({target:"Object",stat:!0,forced:!dt||y((function(){Yu.f(1)}))},{getOwnPropertySymbols:function(t){var e=Yu.f;return e?e($u(t)):[]}});var Xu=y,Qu=ft,Zu=ae("species"),tc=function(t){return Qu>=51||!Xu((function(){var e=[];return(e.constructor={})[Zu]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ec=Xi.filter;eo({target:"Array",proto:!0,forced:!tc("filter")},{filter:function(t){return ec(this,t,arguments.length>1?arguments[1]:void 0)}});var rc=eo,nc=y,oc=H,ic=h.f,ac=b,uc=nc((function(){ic(1)}));rc({target:"Object",stat:!0,forced:!ac||uc,sham:!ac},{getOwnPropertyDescriptor:function(t,e){return ic(oc(t),e)}});var cc=_e("span").classList,sc=cc&&cc.constructor&&cc.constructor.prototype,fc=sc===Object.prototype?void 0:sc,lc=y,pc=function(t,e){var r=[][t];return!!r&&lc((function(){r.call(null,e||function(){return 1},1)}))},dc=Xi.forEach,vc=pc("forEach")?[].forEach:function(t){return dc(this,t,arguments.length>1?arguments[1]:void 0)},hc=v,yc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},bc=fc,gc=vc,mc=Ye,wc=function(t){if(t&&t.forEach!==gc)try{mc(t,"forEach",gc)}catch(e){t.forEach=gc}};for(var _c in yc)yc[_c]&&wc(hc[_c]&&hc[_c].prototype);wc(bc);var xc=Rn,Sc=H,Oc=h,Ec=Wo;eo({target:"Object",stat:!0,sham:!b},{getOwnPropertyDescriptors:function(t){for(var e,r,n=Sc(t),o=Oc.f,i=xc(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&Ec(a,e,r);return a}});var kc=eo,jc=b,Pc=wo.f;kc({target:"Object",stat:!0,forced:Object.defineProperties!==Pc,sham:!jc},{defineProperties:Pc});var Tc=eo,Ic=b,Nc=Le.f;Tc({target:"Object",stat:!0,forced:Object.defineProperty!==Nc,sham:!Ic},{defineProperty:Nc});var Cc={exports:{}};!function(t){function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}(Cc);var Lc,Rc=p(Cc.exports),Mc={exports:{}};(Lc=Mc).exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Lc.exports.__esModule=!0,Lc.exports.default=Lc.exports;var Ac=p(Mc.exports),Dc={exports:{}};!function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(Dc);var Fc=p(Dc.exports),Uc={exports:{}};!function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}(Uc);var Vc=p(Uc.exports),Gc={exports:{}},zc={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(zc),function(t){var e=zc.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=l;var d={};function v(){}function h(){}function y(){}var b={};f(b,u,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(j([])));m&&m!==o&&i.call(m,u)&&(b=m);var w=y.prototype=v.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,r){function n(o,a,u,c){var s=p(t[o],t,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==e(l)&&i.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):r.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=y,f(w,"constructor",y),f(y,"constructor",h),h.displayName=f(y,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},_(x.prototype),f(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new x(l(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),f(w,s,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Gc);var Kc=Gc.exports(),Bc=Kc;try{regeneratorRuntime=Kc}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Kc:Function("r","regeneratorRuntime = r")(Kc)}var Wc,Jc=X,qc=F,Hc=ae("match"),Yc=function(t){var e;return Jc(t)&&(void 0!==(e=t[Hc])?!!e:"RegExp"==qc(t))},$c=Yc,Xc=TypeError,Qc=function(t){if($c(t))throw Xc("The method doesn't accept regular expressions");return t},Zc=ae("match"),ts=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Zc]=!1,"/./"[t](e)}catch(t){}}return!1},es=eo,rs=R,ns=h.f,os=ln,is=mo,as=Qc,us=W,cs=ts,ss=rs("".startsWith),fs=rs("".slice),ls=Math.min,ps=cs("startsWith");es({target:"String",proto:!0,forced:!!(ps||(Wc=ns(String.prototype,"startsWith"),!Wc||Wc.writable))&&!ps},{startsWith:function(t){var e=is(us(this));as(t);var r=os(ls(arguments.length>1?arguments[1]:void 0,e.length)),n=is(t);return ss?ss(e,n,r):fs(e,r,r+n.length)===n}});var ds=eo,vs=xi,hs=Ai,ys=X,bs=cn,gs=dn,ms=H,ws=Wo,_s=ae,xs=Su,Ss=tc("slice"),Os=_s("species"),Es=Array,ks=Math.max;ds({target:"Array",proto:!0,forced:!Ss},{slice:function(t,e){var r,n,o,i=ms(this),a=gs(i),u=bs(t,a),c=bs(void 0===e?a:e,a);if(vs(i)&&(r=i.constructor,(hs(r)&&(r===Es||vs(r.prototype))||ys(r)&&null===(r=r[Os]))&&(r=void 0),r===Es||void 0===r))return xs(i,u,c);for(n=new(void 0===r?Es:r)(ks(c-u,0)),o=0;u<c;u++,o++)u in i&&ws(n,o,i[u]);return n.length=o,n}});var js=TypeError,Ps=eo,Ts=y,Is=xi,Ns=X,Cs=Gt,Ls=dn,Rs=function(t){if(t>9007199254740991)throw js("Maximum allowed index exceeded");return t},Ms=Wo,As=Ki,Ds=tc,Fs=ft,Us=ae("isConcatSpreadable"),Vs=Fs>=51||!Ts((function(){var t=[];return t[Us]=!1,t.concat()[0]!==t})),Gs=Ds("concat"),zs=function(t){if(!Ns(t))return!1;var e=t[Us];return void 0!==e?!!e:Is(t)};Ps({target:"Array",proto:!0,arity:1,forced:!Vs||!Gs},{concat:function(t){var e,r,n,o,i,a=Cs(this),u=As(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(zs(i=-1===e?a:arguments[e]))for(o=Ls(i),Rs(c+o),r=0;r<o;r++,c++)r in i&&Ms(u,c,i[r]);else Rs(c+1),Ms(u,c++,i);return u.length=c,u}});var Ks=ae,Bs=Vo,Ws=Le.f,Js=Ks("unscopables"),qs=Array.prototype;null==qs[Js]&&Ws(qs,Js,{configurable:!0,value:Bs(null)});var Hs=function(t){qs[Js][t]=!0},Ys=gn.includes,$s=Hs;eo({target:"Array",proto:!0,forced:y((function(){return!Array(1).includes()}))},{includes:function(t){return Ys(this,t,arguments.length>1?arguments[1]:void 0)}}),$s("includes");var Xs=eo,Qs=Qc,Zs=W,tf=mo,ef=ts,rf=R("".indexOf);Xs({target:"String",proto:!0,forced:!ef("includes")},{includes:function(t){return!!~rf(tf(Zs(this)),tf(Qs(t)),arguments.length>1?arguments[1]:void 0)}});var nf,of,af=Fe,uf=y,cf=v.RegExp,sf=uf((function(){var t=cf("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),ff=sf||uf((function(){return!cf("a","y").sticky})),lf={BROKEN_CARET:sf||uf((function(){var t=cf("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:ff,UNSUPPORTED_Y:sf},pf=y,df=v.RegExp,vf=pf((function(){var t=df(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),hf=y,yf=v.RegExp,bf=hf((function(){var t=yf("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),gf=_,mf=R,wf=mo,_f=function(){var t=af(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},xf=lf,Sf=Ct.exports,Of=Vo,Ef=Mr.get,kf=vf,jf=bf,Pf=Sf("native-string-replace",String.prototype.replace),Tf=RegExp.prototype.exec,If=Tf,Nf=mf("".charAt),Cf=mf("".indexOf),Lf=mf("".replace),Rf=mf("".slice),Mf=(of=/b*/g,gf(Tf,nf=/a/,"a"),gf(Tf,of,"a"),0!==nf.lastIndex||0!==of.lastIndex),Af=xf.BROKEN_CARET,Df=void 0!==/()??/.exec("")[1];(Mf||Df||Af||kf||jf)&&(If=function(t){var e,r,n,o,i,a,u,c=this,s=Ef(c),f=wf(t),l=s.raw;if(l)return l.lastIndex=c.lastIndex,e=gf(If,l,f),c.lastIndex=l.lastIndex,e;var p=s.groups,d=Af&&c.sticky,v=gf(_f,c),h=c.source,y=0,b=f;if(d&&(v=Lf(v,"y",""),-1===Cf(v,"g")&&(v+="g"),b=Rf(f,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Nf(f,c.lastIndex-1))&&(h="(?: "+h+")",b=" "+b,y++),r=new RegExp("^(?:"+h+")",v)),Df&&(r=new RegExp("^"+h+"$(?!\\s)",v)),Mf&&(n=c.lastIndex),o=gf(Tf,d?r:c,b),d?o?(o.input=Rf(o.input,y),o[0]=Rf(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Mf&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),Df&&o&&o.length>1&&gf(Pf,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=Of(null),i=0;i<p.length;i++)a[(u=p[i])[0]]=o[u[1]];return o});var Ff=If;eo({target:"RegExp",proto:!0,forced:/./.exec!==Ff},{exec:Ff});var Uf=R,Vf=Qr,Gf=Ff,zf=y,Kf=ae,Bf=Ye,Wf=Kf("species"),Jf=RegExp.prototype,qf=Ai,Hf=_t,Yf=TypeError,$f=Fe,Xf=function(t){if(qf(t))return t;throw Yf(Hf(t)+" is not a constructor")},Qf=ae("species"),Zf=function(t,e){var r,n=$f(t).constructor;return void 0===n||null==(r=$f(n)[Qf])?e:Xf(r)},tl=R,el=nn,rl=mo,nl=W,ol=tl("".charAt),il=tl("".charCodeAt),al=tl("".slice),ul=function(t){return function(e,r){var n,o,i=rl(nl(e)),a=el(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=il(i,a))<55296||n>56319||a+1===u||(o=il(i,a+1))<56320||o>57343?t?ol(i,a):n:t?al(i,a,a+2):o-56320+(n-55296<<10)+65536}},cl={codeAt:ul(!1),charAt:ul(!0)}.charAt,sl=_,fl=Fe,ll=Y,pl=F,dl=Ff,vl=TypeError,hl=xu,yl=_,bl=R,gl=function(t,e,r,n){var o=Kf(t),i=!zf((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!zf((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Wf]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var u=Uf(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var a=Uf(t),c=e.exec;return c===Gf||c===Jf.exec?i&&!o?{done:!0,value:u(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));Vf(String.prototype,t,c[0]),Vf(Jf,o,c[1])}n&&Bf(Jf[o],"sham",!0)},ml=Yc,wl=Fe,_l=W,xl=Zf,Sl=function(t,e,r){return e+(r?cl(t,e).length:1)},Ol=ln,El=mo,kl=jt,jl=Xo,Pl=function(t,e){var r=t.exec;if(ll(r)){var n=sl(r,t,e);return null!==n&&fl(n),n}if("RegExp"===pl(t))return sl(dl,t,e);throw vl("RegExp#exec called on incompatible receiver")},Tl=Ff,Il=y,Nl=lf.UNSUPPORTED_Y,Cl=Math.min,Ll=[].push,Rl=bl(/./.exec),Ml=bl(Ll),Al=bl("".slice);gl("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=El(_l(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!ml(t))return yl(e,n,t,o);for(var i,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=new RegExp(t.source,s+"g");(i=yl(Tl,l,n))&&!((a=l.lastIndex)>f&&(Ml(c,Al(n,f,i.index)),i.length>1&&i.index<n.length&&hl(Ll,c,jl(i,1)),u=i[0].length,f=a,c.length>=o));)l.lastIndex===i.index&&l.lastIndex++;return f===n.length?!u&&Rl(l,"")||Ml(c,""):Ml(c,Al(n,f)),c.length>o?jl(c,0,o):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:yl(e,this,t,r)}:e,[function(e,r){var o=_l(this),i=null==e?void 0:kl(e,t);return i?yl(i,e,o,r):yl(n,El(o),e,r)},function(t,o){var i=wl(this),a=El(t),u=r(n,i,a,o,n!==e);if(u.done)return u.value;var c=xl(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Nl?"g":"y"),l=new c(Nl?"^(?:"+i.source+")":i,f),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===Pl(l,a)?[a]:[];for(var d=0,v=0,h=[];v<a.length;){l.lastIndex=Nl?0:v;var y,b=Pl(l,Nl?Al(a,v):a);if(null===b||(y=Cl(Ol(l.lastIndex+(Nl?v:0)),a.length))===d)v=Sl(a,v,s);else{if(Ml(h,Al(a,d,v)),h.length===p)return h;for(var g=1;g<=b.length-1;g++)if(Ml(h,b[g]),h.length===p)return h;v=d=y}}return Ml(h,Al(a,d)),h}]}),!!Il((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Nl);var Dl=yo,Fl=co?{}.toString:function(){return"[object "+Dl(this)+"]"};co||Qr(Object.prototype,"toString",Fl,{unsafe:!0});var Ul,Vl,Gl,zl,Kl="process"==F(v.process),Bl=Y,Wl=String,Jl=TypeError,ql=R,Hl=Fe,Yl=function(t){if("object"==typeof t||Bl(t))return t;throw Jl("Can't set "+Wl(t)+" as a prototype")},$l=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=ql(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Hl(r),Yl(n),e?t(r,n):r.__proto__=n,r}}():void 0),Xl=et,Ql=Le,Zl=b,tp=ae("species"),ep=rt,rp=TypeError,np=TypeError,op=function(t,e){if(t<e)throw np("Not enough arguments");return t},ip=/(?:ipad|iphone|ipod).*applewebkit/i.test(nt),ap=v,up=xu,cp=wi,sp=Y,fp=Bt,lp=y,pp=Po,dp=Su,vp=_e,hp=op,yp=ip,bp=Kl,gp=ap.setImmediate,mp=ap.clearImmediate,wp=ap.process,_p=ap.Dispatch,xp=ap.Function,Sp=ap.MessageChannel,Op=ap.String,Ep=0,kp={};try{Ul=ap.location}catch(t){}var jp=function(t){if(fp(kp,t)){var e=kp[t];delete kp[t],e()}},Pp=function(t){return function(){jp(t)}},Tp=function(t){jp(t.data)},Ip=function(t){ap.postMessage(Op(t),Ul.protocol+"//"+Ul.host)};gp&&mp||(gp=function(t){hp(arguments.length,1);var e=sp(t)?t:xp(t),r=dp(arguments,1);return kp[++Ep]=function(){up(e,void 0,r)},Vl(Ep),Ep},mp=function(t){delete kp[t]},bp?Vl=function(t){wp.nextTick(Pp(t))}:_p&&_p.now?Vl=function(t){_p.now(Pp(t))}:Sp&&!yp?(zl=(Gl=new Sp).port2,Gl.port1.onmessage=Tp,Vl=cp(zl.postMessage,zl)):ap.addEventListener&&sp(ap.postMessage)&&!ap.importScripts&&Ul&&"file:"!==Ul.protocol&&!lp(Ip)?(Vl=Ip,ap.addEventListener("message",Tp,!1)):Vl="onreadystatechange"in vp("script")?function(t){pp.appendChild(vp("script")).onreadystatechange=function(){pp.removeChild(this),jp(t)}}:function(t){setTimeout(Pp(t),0)});var Np,Cp,Lp,Rp,Mp,Ap,Dp,Fp,Up={set:gp,clear:mp},Vp=v,Gp=/ipad|iphone|ipod/i.test(nt)&&void 0!==Vp.Pebble,zp=/web0s(?!.*chrome)/i.test(nt),Kp=v,Bp=wi,Wp=h.f,Jp=Up.set,qp=ip,Hp=Gp,Yp=zp,$p=Kl,Xp=Kp.MutationObserver||Kp.WebKitMutationObserver,Qp=Kp.document,Zp=Kp.process,td=Kp.Promise,ed=Wp(Kp,"queueMicrotask"),rd=ed&&ed.value;rd||(Np=function(){var t,e;for($p&&(t=Zp.domain)&&t.exit();Cp;){e=Cp.fn,Cp=Cp.next;try{e()}catch(t){throw Cp?Rp():Lp=void 0,t}}Lp=void 0,t&&t.enter()},qp||$p||Yp||!Xp||!Qp?!Hp&&td&&td.resolve?((Dp=td.resolve(void 0)).constructor=td,Fp=Bp(Dp.then,Dp),Rp=function(){Fp(Np)}):$p?Rp=function(){Zp.nextTick(Np)}:(Jp=Bp(Jp,Kp),Rp=function(){Jp(Np)}):(Mp=!0,Ap=Qp.createTextNode(""),new Xp(Np).observe(Ap,{characterData:!0}),Rp=function(){Ap.data=Mp=!Mp}));var nd=rd||function(t){var e={fn:t,next:void 0};Lp&&(Lp.next=e),Cp||(Cp=e,Rp()),Lp=e},od=v,id=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ad=function(){this.head=null,this.tail=null};ad.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var ud=ad,cd=v.Promise,sd="object"==typeof window&&"object"!=typeof Deno,fd=v,ld=cd,pd=Y,dd=qn,vd=sr,hd=ae,yd=sd,bd=ft;ld&&ld.prototype;var gd=hd("species"),md=!1,wd=pd(fd.PromiseRejectionEvent),_d=dd("Promise",(function(){var t=vd(ld),e=t!==String(ld);if(!e&&66===bd)return!0;if(bd>=51&&/native code/.test(t))return!1;var r=new ld((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[gd]=n,!(md=r.then((function(){}))instanceof n)||!e&&yd&&!wd})),xd={CONSTRUCTOR:_d,REJECTION_EVENT:wd,SUBCLASSING:md},Sd={},Od=Et,Ed=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Od(e),this.reject=Od(r)};Sd.f=function(t){return new Ed(t)};var kd,jd,Pd,Td=eo,Id=Kl,Nd=v,Cd=_,Ld=Qr,Rd=$l,Md=yi,Ad=function(t){var e=Xl(t),r=Ql.f;Zl&&e&&!e[tp]&&r(e,tp,{configurable:!0,get:function(){return this}})},Dd=Et,Fd=Y,Ud=X,Vd=function(t,e){if(ep(e,t))return t;throw rp("Incorrect invocation")},Gd=Zf,zd=Up.set,Kd=nd,Bd=function(t,e){var r=od.console;r&&r.error},Wd=id,Jd=ud,qd=Mr,Hd=cd,Yd=Sd,$d=xd.CONSTRUCTOR,Xd=xd.REJECTION_EVENT,Qd=xd.SUBCLASSING,Zd=qd.getterFor("Promise"),tv=qd.set,ev=Hd&&Hd.prototype,rv=Hd,nv=ev,ov=Nd.TypeError,iv=Nd.document,av=Nd.process,uv=Yd.f,cv=uv,sv=!!(iv&&iv.createEvent&&Nd.dispatchEvent),fv=function(t){var e;return!(!Ud(t)||!Fd(e=t.then))&&e},lv=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&yv(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s(ov("Promise-chain cycle")):(n=fv(r))?Cd(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},pv=function(t,e){t.notified||(t.notified=!0,Kd((function(){for(var r,n=t.reactions;r=n.get();)lv(r,t);t.notified=!1,e&&!t.rejection&&vv(t)})))},dv=function(t,e,r){var n,o;sv?((n=iv.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),Nd.dispatchEvent(n)):n={promise:e,reason:r},!Xd&&(o=Nd["on"+t])?o(n):"unhandledrejection"===t&&Bd("Unhandled promise rejection",r)},vv=function(t){Cd(zd,Nd,(function(){var e,r=t.facade,n=t.value;if(hv(t)&&(e=Wd((function(){Id?av.emit("unhandledRejection",n,r):dv("unhandledrejection",r,n)})),t.rejection=Id||hv(t)?2:1,e.error))throw e.value}))},hv=function(t){return 1!==t.rejection&&!t.parent},yv=function(t){Cd(zd,Nd,(function(){var e=t.facade;Id?av.emit("rejectionHandled",e):dv("rejectionhandled",e,t.value)}))},bv=function(t,e,r){return function(n){t(e,n,r)}},gv=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,pv(t,!0))},mv=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw ov("Promise can't be resolved itself");var n=fv(e);n?Kd((function(){var r={done:!1};try{Cd(n,e,bv(mv,r,t),bv(gv,r,t))}catch(e){gv(r,e,t)}})):(t.value=e,t.state=1,pv(t,!1))}catch(e){gv({done:!1},e,t)}}};if($d&&(nv=(rv=function(t){Vd(this,nv),Dd(t),Cd(kd,this);var e=Zd(this);try{t(bv(mv,e),bv(gv,e))}catch(t){gv(e,t)}}).prototype,(kd=function(t){tv(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Jd,rejection:!1,state:0,value:void 0})}).prototype=Ld(nv,"then",(function(t,e){var r=Zd(this),n=uv(Gd(this,rv));return r.parent=!0,n.ok=!Fd(t)||t,n.fail=Fd(e)&&e,n.domain=Id?av.domain:void 0,0==r.state?r.reactions.add(n):Kd((function(){lv(n,r)})),n.promise})),jd=function(){var t=new kd,e=Zd(t);this.promise=t,this.resolve=bv(mv,e),this.reject=bv(gv,e)},Yd.f=uv=function(t){return t===rv||undefined===t?new jd(t):cv(t)},Fd(Hd)&&ev!==Object.prototype)){Pd=ev.then,Qd||Ld(ev,"then",(function(t,e){var r=this;return new rv((function(t,e){Cd(Pd,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete ev.constructor}catch(t){}Rd&&Rd(ev,nv)}Td({global:!0,constructor:!0,wrap:!0,forced:$d},{Promise:rv}),Md(rv,"Promise",!1),Ad("Promise");var wv={},_v=wv,xv=ae("iterator"),Sv=Array.prototype,Ov=yo,Ev=jt,kv=wv,jv=ae("iterator"),Pv=function(t){if(null!=t)return Ev(t,jv)||Ev(t,"@@iterator")||kv[Ov(t)]},Tv=_,Iv=Et,Nv=Fe,Cv=_t,Lv=Pv,Rv=TypeError,Mv=_,Av=Fe,Dv=jt,Fv=wi,Uv=_,Vv=Fe,Gv=_t,zv=function(t){return void 0!==t&&(_v.Array===t||Sv[xv]===t)},Kv=dn,Bv=rt,Wv=function(t,e){var r=arguments.length<2?Lv(t):e;if(Iv(r))return Nv(Tv(r,t));throw Rv(Cv(t)+" is not iterable")},Jv=Pv,qv=function(t,e,r){var n,o;Av(t);try{if(!(n=Dv(t,"return"))){if("throw"===e)throw r;return r}n=Mv(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Av(n),r},Hv=TypeError,Yv=function(t,e){this.stopped=t,this.result=e},$v=Yv.prototype,Xv=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),v=Fv(e,f),h=function(t){return n&&qv(n,"normal",t),new Yv(!0,t)},y=function(t){return l?(Vv(t),d?v(t[0],t[1],h):v(t[0],t[1])):d?v(t,h):v(t)};if(p)n=t;else{if(!(o=Jv(t)))throw Hv(Gv(t)+" is not iterable");if(zv(o)){for(i=0,a=Kv(t);a>i;i++)if((u=y(t[i]))&&Bv($v,u))return u;return new Yv(!1)}n=Wv(t,o)}for(c=n.next;!(s=Uv(c,n)).done;){try{u=y(s.value)}catch(t){qv(n,"throw",t)}if("object"==typeof u&&u&&Bv($v,u))return u}return new Yv(!1)},Qv=ae("iterator"),Zv=!1;try{var th=0,eh={next:function(){return{done:!!th++}},return:function(){Zv=!0}};eh[Qv]=function(){return this},Array.from(eh,(function(){throw 2}))}catch(t){}var rh=cd,nh=function(t,e){if(!e&&!Zv)return!1;var r=!1;try{var n={};n[Qv]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},oh=xd.CONSTRUCTOR||!nh((function(t){rh.all(t).then(void 0,(function(){}))})),ih=_,ah=Et,uh=Sd,ch=id,sh=Xv;eo({target:"Promise",stat:!0,forced:oh},{all:function(t){var e=this,r=uh.f(e),n=r.resolve,o=r.reject,i=ch((function(){var r=ah(e.resolve),i=[],a=0,u=1;sh(t,(function(t){var c=a++,s=!1;u++,ih(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var fh=eo,lh=xd.CONSTRUCTOR,ph=cd,dh=et,vh=Y,hh=Qr,yh=ph&&ph.prototype;if(fh({target:"Promise",proto:!0,forced:lh,real:!0},{catch:function(t){return this.then(void 0,t)}}),vh(ph)){var bh=dh("Promise").prototype.catch;yh.catch!==bh&&hh(yh,"catch",bh,{unsafe:!0})}var gh=_,mh=Et,wh=Sd,_h=id,xh=Xv;eo({target:"Promise",stat:!0,forced:oh},{race:function(t){var e=this,r=wh.f(e),n=r.reject,o=_h((function(){var o=mh(e.resolve);xh(t,(function(t){gh(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var Sh=_,Oh=Sd;eo({target:"Promise",stat:!0,forced:xd.CONSTRUCTOR},{reject:function(t){var e=Oh.f(this);return Sh(e.reject,void 0,t),e.promise}});var Eh=Fe,kh=X,jh=Sd,Ph=eo,Th=xd.CONSTRUCTOR,Ih=function(t,e){if(Eh(t),kh(e)&&e.constructor===t)return e;var r=jh.f(t);return(0,r.resolve)(e),r.promise};et("Promise"),Ph({target:"Promise",stat:!0,forced:Th},{resolve:function(t){return Ih(this,t)}});eo({target:"Array",proto:!0,forced:[].forEach!=vc},{forEach:vc});var Nh=eo,Ch=Date,Lh=R(Ch.prototype.getTime);Nh({target:"Date",stat:!0},{now:function(){return Lh(new Ch)}});var Rh=R,Mh=Qr,Ah=Date.prototype,Dh=Rh(Ah.toString),Fh=Rh(Ah.getTime);"Invalid Date"!=String(new Date(NaN))&&Mh(Ah,"toString",(function(){var t=Fh(this);return t==t?Dh(this):"Invalid Date"}));var Uh=b,Vh=rr.EXISTS,Gh=R,zh=Le.f,Kh=Function.prototype,Bh=Gh(Kh.toString),Wh=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Jh=Gh(Wh.exec);Uh&&!Vh&&zh(Kh,"name",{configurable:!0,get:function(){try{return Jh(Wh,Bh(this))[1]}catch(t){return""}}});var qh=v,Hh=xu,Yh=Y,$h=Su,Xh=op,Qh=/MSIE .\./.test(nt),Zh=qh.Function,ty=function(t){return Qh?function(e,r){var n=Xh(arguments.length,1)>2,o=Yh(e)?e:Zh(e),i=n?$h(arguments,2):void 0;return t(n?function(){Hh(o,this,i)}:o,r)}:t},ey={setTimeout:ty(qh.setTimeout),setInterval:ty(qh.setInterval)},ry=ey.setInterval;eo({global:!0,bind:!0,forced:v.setInterval!==ry},{setInterval:ry});var ny=ey.setTimeout;eo({global:!0,bind:!0,forced:v.setTimeout!==ny},{setTimeout:ny});var oy=eo,iy=Xi.find,ay=Hs,uy=!0;"find"in[]&&Array(1).find((function(){uy=!1})),oy({target:"Array",proto:!0,forced:uy},{find:function(t){return iy(this,t,arguments.length>1?arguments[1]:void 0)}}),ay("find");var cy=Xi.map;eo({target:"Array",proto:!0,forced:!tc("map")},{map:function(t){return cy(this,t,arguments.length>1?arguments[1]:void 0)}});var sy=_t,fy=TypeError,ly=Xo,py=Math.floor,dy=function(t,e){var r=t.length,n=py(r/2);return r<8?vy(t,e):hy(t,dy(ly(t,0,n),e),dy(ly(t,n),e),e)},vy=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},hy=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},yy=dy,by=nt.match(/firefox\/(\d+)/i),gy=!!by&&+by[1],my=/MSIE|Trident/.test(nt),wy=nt.match(/AppleWebKit\/(\d+)\./),_y=!!wy&&+wy[1],xy=eo,Sy=R,Oy=Et,Ey=Gt,ky=dn,jy=function(t,e){if(!delete t[e])throw fy("Cannot delete property "+sy(e)+" of "+sy(t))},Py=mo,Ty=y,Iy=yy,Ny=pc,Cy=gy,Ly=my,Ry=ft,My=_y,Ay=[],Dy=Sy(Ay.sort),Fy=Sy(Ay.push),Uy=Ty((function(){Ay.sort(void 0)})),Vy=Ty((function(){Ay.sort(null)})),Gy=Ny("sort"),zy=!Ty((function(){if(Ry)return Ry<70;if(!(Cy&&Cy>3)){if(Ly)return!0;if(My)return My<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Ay.push({k:e+n,v:r})}for(Ay.sort((function(t,e){return e.v-t.v})),n=0;n<Ay.length;n++)e=Ay[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));xy({target:"Array",proto:!0,forced:Uy||!Vy||!Gy||!zy},{sort:function(t){void 0!==t&&Oy(t);var e=Ey(this);if(zy)return void 0===t?Dy(e):Dy(e,t);var r,n,o=[],i=ky(e);for(n=0;n<i;n++)n in e&&Fy(o,e[n]);for(Iy(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Py(e)>Py(r)?1:-1}}(t)),r=o.length,n=0;n<r;)e[n]=o[n++];for(;n<i;)jy(e,n++);return e}});var Ky=/http[s]{0,1}:\/\/([\w.]+\/?)\S*/,By=function(t){return 1024*t*1024},Wy=function(t){return new Promise((function(e,r){var n=document.createElement("video");n.preload="metadata",n.src=t,n.onloadedmetadata=function(){e({duration:n.duration}),n=null},n.onerror=function(){r(new Error("è§é¢å è½½å¤±è´¥")),n=null}}))},Jy=function(t){return t?t.split("//").pop():""},qy={expireRedundancy:1e4,partsStrategy:[{min:By(1024),partSize:By(20),concurrentNum:10},{min:By(512),partSize:By(20),concurrentNum:10},{min:By(200),partSize:By(15),concurrentNum:10},{min:By(100),partSize:By(10),concurrentNum:10}],checkIsVideo:function(t){return t.type.startsWith("video/")},videoToVod:!1,needVideoDuration:!1,needVodURL:!1,vodTimesLimit:0,vodTimeInterval:1e3},Hy=Gt,Yy=ve;eo({target:"Date",proto:!0,arity:1,forced:y((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=Hy(this),r=Yy(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}});var $y=_;function Xy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xy(Object(r),!0).forEach((function(e){Vc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}eo({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return $y(URL.prototype.toString,this)}});var Zy=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Error(t||e.CommonMsg.Message);return n.isThenError=!0,n.result=e,Object.keys(r).forEach((function(t){n[t]=r[t]})),n.toJSON=function(){return Qy({result:e,isThenError:!0},r)},n};function tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function eb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tb(Object(r),!0).forEach((function(e){Vc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var rb=function(){function t(e,r){Ac(this,t),Vc(this,"VERSION","1.0.3"),Vc(this,"_options",{}),Vc(this,"obsClient",null),Vc(this,"_bucketName",null),Vc(this,"_obsServer",null),Vc(this,"_tokenCreateTime",null),Vc(this,"_tokenExpire",null),this._init(e,r)}return Fc(t,[{key:"_init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.cloneDeep(eb(eb({},qy),r));t.bucketName&&(this._bucketName=t.bucketName),t.server&&(this._obsServer=t.server),n.videoToVod&&(e.isFunction(r.apiObsToVod)||console.warn("å½éè¦å°è§é¢ä¸ä¼ å°vodæ¶ï¼apiObsToVod æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),n.needVodURL&&(e.isFunction(r.apiVodDetails)||console.warn("å½éè¦è·åè§é¢vodæ­æ¾å°åæ¶ï¼apiVodDetails æ¹æ³å¿ä¼ ï¼ä¸å¿é¡»ååä¸ä¸ªpromise")),this._options=t,this.config=n}},{key:"_fillServer",value:function(t){return function(t){return Ky.test(t)}(t)||t.startsWith("//")?t:"https://".concat(t)}},{key:"_getUploadKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t&&t.startsWith("/")&&(t=t.slice(1)),"".concat(t).concat(r.nanoid()).concat(this._getFileType(e))}},{key:"_getFileType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";try{if(t.includes(".")){var r=t.split(".");e=r[r.length-1]}}catch(t){e=""}return e?".".concat(e):""}},{key:"getClient",value:function(){var t=this;return new Promise((function(e,r){var n=function(){var n=t._options,o=["timeout","is_cname","useRawXhr"],i=t._warn;if(n.ak&&n.sk&&n.server){var a=n.server,c={access_key_id:n.ak,secret_access_key:n.sk,server:a};o.forEach((function(t){t in n&&(c[t]=n[t])}));["ak","sk","server","bucketName"].forEach((function(t){n[t]||i("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))})),t._bucketName=n.bucketName,t._obsServer=a,t.obsClient=new u.default(c),t._tokenExpire=0,e(t.obsClient)}else n.getAuthorization?n.getAuthorization({}).then((function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=["ak","sk"];c.forEach((function(t){r[t]||i("åæ°ï¼'".concat(t,"' ä¸ºå¿ä¼ åæ°"))}));var s=r.server||n.server||null;s||i("åæ°ï¼'server' ä¸ºå¿ä¼ åæ°");var f={access_key_id:r.ak,secret_access_key:r.sk,server:s};t._obsServer=s,o.forEach((function(t){t in a&&(f[t]=a[t])})),r.securityToken&&(f.security_token=r.securityToken),r.expireSeconds?(t._tokenExpire=1e3*r.expireSeconds,t._tokenCreateTime=Date.now()):t._tokenExpire=-1,r.bucketName&&(t._bucketName=r.bucketName),t.obsClient=new u.default(f),e(t.obsClient)})).catch((function(t){r(t)})):(r(new Error("æªæä¾åå§ååæ°")),console.warn("æªæä¾åå§ååæ°"))};t.obsClient?0===t._tokenExpire||t._tokenCreateTime&&t._tokenCreateTime+t._tokenExpire-t.config.expireRedundancy>Date.now()?e(t.obsClient):(t.obsClient=null,n()):n()}))}},{key:"upload",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var i=Rc(Bc.mark((function i(a,u){var l,p,d,v,h,y,b,g,m,w,_,x,S,O,E,k,j,P;return Bc.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(m=function(t){t.obs_upload_uploadId&&t.obs_upload_key&&l.getClient().then((function(e){e.abortMultipartUpload({Bucket:d,Key:t.obs_upload_key,UploadId:t.obs_upload_uploadId})})),e.onError&&e.onError(t),u(t)},l=t,e.file){i.next=5;break}return m(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'file'")),i.abrupt("return");case 5:if(p=t.config,d=null,v=null,h=p.checkIsVideo(e.file),y=null,!p.getUploadKey){i.next=23;break}return i.prev=11,i.next=14,p.getUploadKey(e.file,o,r.nanoid,t._getFileType(e.file.name));case 14:v=i.sent,i.next=21;break;case 17:return i.prev=17,i.t0=i.catch(11),m(i.t0),i.abrupt("return");case 21:i.next=24;break;case 23:v=t._getUploadKey(o.folderPath,e.file.name);case 24:if(v){i.next=27;break}return m(new Error("'getUploadKey' è¿åç key ä¸å­å¨")),i.abrupt("return");case 27:b=function(){var r=function(){var t=p.partsStrategy;if(t&&t.length>0)return t[t.length-1].min}();!r||e.file.size<r?t.getClient().then((function(r){(d=t._bucketName)?(y=r,r.putObject({Bucket:d,Key:v,SourceFile:e.file,ProgressCallback:function(t,e){var r=t/e*100|0;r>95&&(r=95),g({percent:r})}},(function(t,r){t?m(t,e):r.CommonMsg.Status<300?(r.obs_upload_direct=!0,r.obs_upload_bucketName=d,r.obs_upload_key=v,w(r)):m(Zy(null,r))}))):m(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){m(t)})):O(e)},g=function(t){e.onProgress&&e.onProgress(t)},w=function(r){var o="https://".concat(d,".").concat(Jy(t._obsServer),"/").concat(r.obs_upload_key);r.obs_upload_server=t._obsServer,r.obs_upload_data={key:r.obs_upload_key,fullUrl:o,isFromVod:!1,obsUrl:o,isVideo:h},r.obs_upload_data,p.videoToVod&&h?p.apiObsToVod(e.file,{key:v,bucketName:d,server:t._obsServer,obsURL:o}).then(Rc(Bc.mark((function i(){var a,u,s,l,h,y,b=arguments;return Bc.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=b.length>0&&void 0!==b[0]?b[0]:{},u=a.data,s=a.msg,l=a.otherData,!u||!u.vodId){i.next=34;break}if(p.needVodURL&&u.url&&(r.obs_upload_data.fullUrl=u.url,r.obs_upload_data.isFromVod=!0),r.obs_upload_data.vodId=u.vodId,r.obs_upload_vod_data=l,!p.needVodURL||u.url){i.next=31;break}if(h=void 0,"number"!=typeof p.vodTimeInterval){i.next=15;break}h=p.vodTimeInterval,i.next=25;break;case 15:return i.prev=15,i.next=18,p.vodTimeInterval(e.file,{key:v,bucketName:d,server:t._obsServer,obsURL:o,vodId:u.vodId});case 18:h=i.sent,i.next=25;break;case 21:return i.prev=21,i.t0=i.catch(15),m(i.t0),i.abrupt("return");case 25:if("number"==typeof h){i.next=28;break}return m(new Error("'vodTimeInterval' åæ°å¿é¡»ä¸º Number ç±»å")),i.abrupt("return");case 28:0===p.vodTimesLimit?f.default((function(){return new Promise((function(e,n){p.apiVodDetails(u.vodId,{key:v,bucketName:d,server:t._obsServer,obsURL:o}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,o=t.otherData;n&&n.url?(e(!0),r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=n.url,r.obs_upload_vod_details=o,x(r,n.duration)):e(!1)})).catch((function(t){n(t),t.obs_upload_key=r.obs_upload_key,m(t)}))}))}),{interval:h,before:!1}).catch((function(){})):c.default((function(){return new Promise((function(e,r){p.apiVodDetails(u.vodId,{key:v,bucketName:d,server:t._obsServer,obsURL:o}).then((function(t){var n=t.data;n&&n.url?e(t):setTimeout((function(){r(new Error(t.msg||"vod è½¬ç ä¸­ï¼æ æ³è·åæ­æ¾å°å"))}),h)})).catch((function(t){r(new n.AbortError(t.message))}))}))}),{retries:p.vodTimesLimit}).then((function(t){r.obs_upload_data.isFromVod=!0,r.obs_upload_data.fullUrl=t.data.url,r.obs_upload_vod_details=t.otherData,x(r,t.data.duration)})).catch((function(t){t.message,t.obs_upload_key=r.obs_upload_key,m(t)})),i.next=32;break;case 31:x(r,u.duration);case 32:i.next=36;break;case 34:y=new Error(s||"obsè½¬æ¢vodå¤±è´¥"),m(y);case 36:case"end":return i.stop()}}),i,null,[[15,21]])})))).catch((function(t){t.obs_upload_key=r.obs_upload_key,m(t)})):_(r)},_=function(t){p.needVideoDuration&&h?Wy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,g({percent:100}),S(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,m(e)})):(g({percent:100}),S(t))},x=function(t,e){p.needVideoDuration?0!==e&&e?(t.obs_upload_data.duration=e,g({percent:100}),S(t)):Wy(t.obs_upload_data.obsUrl).then((function(e){t.obs_upload_data.duration=e.duration,g({percent:100}),S(t)})).catch((function(e){e.obs_upload_key=t.obs_upload_key,m(e)})):(g({percent:100}),S(t))},S=function(t){e.onSuccess&&e.onSuccess(t),a(t)},O=function(){t.getClient().then((function(e){(d=t._bucketName)?(y=e,e.initiateMultipartUpload({Bucket:d,Key:v,ContentType:"text/plain"},(function(t,e){t?m(t):(e.CommonMsg.Status,e.CommonMsg.Status<300&&e.InterfaceResult?(e.InterfaceResult.UploadId,k(e)):m(Zy(null,e)))}))):m(new Error("ç¼ºå°å¿ä¼ åæ°ï¼'bucketName'"))})).catch((function(t){m(t)}))},E=function(t){return p.partsStrategy.find((function(e){return t>=e.min}))},k=function(t){for(var r=0,n=e.file.size,o=E(n),i=o.partSize,a=Math.ceil(n/i),u=t.InterfaceResult.UploadId,c=[],f=0;r<a;)!function(t){c.push((function(){return y.uploadPart({Bucket:d,Key:v,PartNumber:t,UploadId:u,SourceFile:e.file,PartSize:i,Offset:(t-1)*i}).then((function(t){var e=++f/a*100|0;return e>95&&(e=95),g({percent:e}),t}))}))}(++r);s.default(c,{concurrency:o.concurrentNum}).then((function(t){j(a,u)})).catch((function(t){t.obs_upload_uploadId=u,t.obs_upload_key=v,m(t)}))},j=function(t,e){y.listParts({Bucket:d,Key:v,UploadId:e},(function(r,n){if(r)r.obs_upload_uploadId=e,r.obs_upload_key=v,m(r);else if(n.CommonMsg.Status,n.CommonMsg.Status<300&&n.InterfaceResult)if(n.InterfaceResult.Parts,n.InterfaceResult.Parts.length===t){var o=n.InterfaceResult.Parts.sort((function(t,e){return t.PartNumber-e.PartNumber})).map((function(t){return{PartNumber:t.PartNumber,ETag:JSON.parse(t.ETag)}}));P(o,e)}else m(Zy("çæ®µä¸å®æ´",n,{obs_upload_uploadId:e,obs_upload_key:v}));else m(Zy(null,n,{obs_upload_uploadId:e,obs_upload_key:v}))}))},P=function(t,r){y.completeMultipartUpload({Bucket:d,Key:v,UploadId:r,Parts:t},(function(t,r){t?m(t):(r.CommonMsg.Status<300?(r.obs_upload_direct=!1,r.obs_upload_key=v,r.obs_upload_bucketName=d,w(r,e)):m(Zy(null,r)),r.CommonMsg.Status)}))},b();case 39:case"end":return i.stop()}}),i,null,[[11,17]])})));return function(t,e){return i.apply(this,arguments)}}())}},{key:"_warn",value:function(t){console.warn(t)}}]),t}();Object.defineProperty(exports,"ObsClient",{enumerable:!0,get:function(){return u.default}}),exports.default=rb;
